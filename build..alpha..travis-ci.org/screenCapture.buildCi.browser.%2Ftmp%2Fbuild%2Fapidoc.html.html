<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/Azure/azure-documentdb-node#readme">documentdb (v1.11.0)</a>
</h1>
<h4>Azure DocumentDB Node.js client</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb">module documentdb</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentBase">
            function <span class="apidocSignatureSpan">documentdb.</span>DocumentBase
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient">
            function <span class="apidocSignatureSpan">documentdb.</span>DocumentClient
            <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.HashPartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.</span>HashPartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Range">
            function <span class="apidocSignatureSpan">documentdb.</span>Range
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.RangePartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.</span>RangePartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.RetryOptions">
            function <span class="apidocSignatureSpan">documentdb.</span>RetryOptions
            <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.defaultQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>defaultQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer">
            function <span class="apidocSignatureSpan">documentdb.</span>documentProducer
            <span class="apidocSignatureSpan">(documentclient, collectionLink, query, targetPartitionKeyRange)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.endpointDiscoveryRetryPolicy">
            function <span class="apidocSignatureSpan">documentdb.</span>endpointDiscoveryRetryPolicy
            <span class="apidocSignatureSpan">(globalEndpointManager)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager">
            function <span class="apidocSignatureSpan">documentdb.</span>globalEndpointManager
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.parallelQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>parallelQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, collectionLink, query, options, partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionKeyRangeCache">
            function <span class="apidocSignatureSpan">documentdb.</span>partitionKeyRangeCache
            <span class="apidocSignatureSpan">(documentclient)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser">
            function <span class="apidocSignatureSpan">documentdb.</span>partitionedQueryExecutionContextInfoParser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.pipelinedQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>pipelinedQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, options, executionContext, partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.proxyQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>proxyQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator">
            function <span class="apidocSignatureSpan">documentdb.</span>queryIterator
            <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.resourceThrottleRetryPolicy">
            function <span class="apidocSignatureSpan">documentdb.</span>resourceThrottleRetryPolicy
            <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.smartRoutingMapProvider">
            function <span class="apidocSignatureSpan">documentdb.</span>smartRoutingMapProvider
            <span class="apidocSignatureSpan">(documentclient)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>Base</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>Constants</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>DocumentClient.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>HashPartitionResolver.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>RangePartitionResolver.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>aggregators</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>auth</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>consistentHashRing</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>defaultQueryExecutionContext.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>documentProducer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>documentclient</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>endpointComponent</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>endpointDiscoveryRetryPolicy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>globalEndpointManager.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>hashPartitionResolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>inMemoryCollectionRoutingMap</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>index</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>murmurHash</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>parallelQueryExecutionContext.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>partitionKeyRangeCache.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>pipelinedQueryExecutionContext.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>platform</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>proxyQueryExecutionContext.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>queryIterator.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>request</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>resourceThrottleRetryPolicy.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>retryUtility</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.</span>smartRoutingMapProvider.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.Base">module documentdb.Base</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base._getUserAgent">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>_getUserAgent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base._isValidCollectionLink">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>_isValidCollectionLink
            <span class="apidocSignatureSpan">(link)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base._trimSlashes">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>_trimSlashes
            <span class="apidocSignatureSpan">(source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.define">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>define
            <span class="apidocSignatureSpan">(name, members)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.defineClass">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>defineClass
            <span class="apidocSignatureSpan">(constructor, instanceMembers, staticMembers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.defineWithParent">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>defineWithParent
            <span class="apidocSignatureSpan">(parentNamespace, name, members)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.derive">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>derive
            <span class="apidocSignatureSpan">(baseClass, constructor, instanceMembers, staticMembers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.extend">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>extend
            <span class="apidocSignatureSpan">(obj, extent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.generateGuidId">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>generateGuidId
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.getAttachmentIdFromMediaId">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>getAttachmentIdFromMediaId
            <span class="apidocSignatureSpan">(mediaId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.getCollectionLink">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>getCollectionLink
            <span class="apidocSignatureSpan">(link)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.getDatabaseLink">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>getDatabaseLink
            <span class="apidocSignatureSpan">(link)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.getHeaders">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>getHeaders
            <span class="apidocSignatureSpan">(documentClient, defaultHeaders, verb, path, resourceId, resourceType, options, partitionKeyRangeId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.getHexaDigit">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>getHexaDigit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.isLinkNameBased">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>isLinkNameBased
            <span class="apidocSignatureSpan">(link)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.map">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>map
            <span class="apidocSignatureSpan">(list, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.mix">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>mix
            <span class="apidocSignatureSpan">(constructor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.parseLink">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>parseLink
            <span class="apidocSignatureSpan">(resourcePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.Base.parsePath">
            function <span class="apidocSignatureSpan">documentdb.Base.</span>parsePath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">documentdb.Base.</span>NotImplementedException</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.DocumentBase">module documentdb.DocumentBase</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentBase.DocumentBase">
            function <span class="apidocSignatureSpan">documentdb.</span>DocumentBase
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentBase.ConnectionPolicy">
            function <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>ConnectionPolicy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentBase.DatabaseAccount">
            function <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>DatabaseAccount
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>ConnectionMode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>ConsistencyLevel</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>DataType</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>IndexKind</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>IndexingMode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>MediaReadMode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>PartitionKind</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>PermissionMode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>QueryCompatibilityMode</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>TriggerOperation</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>TriggerType</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>UserDefinedFunctionType</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.DocumentClient">module documentdb.DocumentClient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.DocumentClient">
            function <span class="apidocSignatureSpan">documentdb.</span>DocumentClient
            <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.DocumentClient.prototype">module documentdb.DocumentClient.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.create">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>create
            <span class="apidocSignatureSpan">(body, path, type, id, initialHeaders, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createAttachment">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createAttachment
            <span class="apidocSignatureSpan">(documentLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createAttachmentAndUploadMedia">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createAttachmentAndUploadMedia
            <span class="apidocSignatureSpan">(documentLink, readableStream, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createCollection">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createCollection
            <span class="apidocSignatureSpan">(databaseLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createDatabase">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createDatabase
            <span class="apidocSignatureSpan">(body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createDocument">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createDocument
            <span class="apidocSignatureSpan">(documentsFeedOrDatabaseLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createDocumentPrivate">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createDocumentPrivate
            <span class="apidocSignatureSpan">(collectionLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createPermission">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createPermission
            <span class="apidocSignatureSpan">(userLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createStoredProcedure">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createStoredProcedure
            <span class="apidocSignatureSpan">(collectionLink, sproc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createTrigger">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createTrigger
            <span class="apidocSignatureSpan">(collectionLink, trigger, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createUser">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createUser
            <span class="apidocSignatureSpan">(databaseLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.createUserDefinedFunction">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createUserDefinedFunction
            <span class="apidocSignatureSpan">(collectionLink, udf, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.delete">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>delete
            <span class="apidocSignatureSpan">(url, path, headers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteAttachment">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteAttachment
            <span class="apidocSignatureSpan">(attachmentLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteCollection">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteCollection
            <span class="apidocSignatureSpan">(collectionLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteConflict">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteConflict
            <span class="apidocSignatureSpan">(conflictLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteDatabase">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteDatabase
            <span class="apidocSignatureSpan">(databaseLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteDocument">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteDocument
            <span class="apidocSignatureSpan">(documentLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deletePermission">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deletePermission
            <span class="apidocSignatureSpan">(permissionLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteResource">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteResource
            <span class="apidocSignatureSpan">(path, type, id, initialHeaders, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteStoredProcedure">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteStoredProcedure
            <span class="apidocSignatureSpan">(sprocLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteTrigger">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteTrigger
            <span class="apidocSignatureSpan">(triggerLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteUser">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteUser
            <span class="apidocSignatureSpan">(userLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.deleteUserDefinedFunction">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteUserDefinedFunction
            <span class="apidocSignatureSpan">(udfLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.executeStoredProcedure">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>executeStoredProcedure
            <span class="apidocSignatureSpan">(sprocLink, params, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.extractPartitionKey">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>extractPartitionKey
            <span class="apidocSignatureSpan">(document, partitionKeyDefinition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.get">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>get
            <span class="apidocSignatureSpan">(url, path, headers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.getDatabaseAccount">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getDatabaseAccount
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.getIdFromLink">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getIdFromLink
            <span class="apidocSignatureSpan">(resourceLink, isNameBased)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.getPartitionKeyDefinition">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getPartitionKeyDefinition
            <span class="apidocSignatureSpan">(collectionLink, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.getPathFromLink">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getPathFromLink
            <span class="apidocSignatureSpan">(resourceLink, resourceType, isNameBased)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.getReadEndpoint">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getReadEndpoint
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.getWriteEndpoint">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getWriteEndpoint
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.head">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>head
            <span class="apidocSignatureSpan">(url, path, headers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.isPartitionResolveFunctionDefined">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>isPartitionResolveFunctionDefined
            <span class="apidocSignatureSpan">(partionResolver, functionName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.isPartitionResolverValid">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>isPartitionResolverValid
            <span class="apidocSignatureSpan">(partionResolver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.isResourceValid">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>isResourceValid
            <span class="apidocSignatureSpan">(resource, err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.post">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>post
            <span class="apidocSignatureSpan">(url, path, body, headers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.put">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>put
            <span class="apidocSignatureSpan">(url, path, body, headers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryAttachments">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryAttachments
            <span class="apidocSignatureSpan">(documentLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryCollections">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryCollections
            <span class="apidocSignatureSpan">(databaseLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryConflicts">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryConflicts
            <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryDatabases">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryDatabases
            <span class="apidocSignatureSpan">(query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryDocuments">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryDocuments
            <span class="apidocSignatureSpan">(documentsFeedOrDatabaseLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryDocumentsPrivate">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryDocumentsPrivate
            <span class="apidocSignatureSpan">(collectionLinks, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryFeed">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryFeed
            <span class="apidocSignatureSpan">(documentclient, path, type, id, resultFn, createFn, query, options, callback, partitionKeyRangeId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryOffers">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryOffers
            <span class="apidocSignatureSpan">(query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryPartitionKeyRanges">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryPartitionKeyRanges
            <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryPermissions">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryPermissions
            <span class="apidocSignatureSpan">(userLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryStoredProcedures">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryStoredProcedures
            <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryTriggers">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryTriggers
            <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryUserDefinedFunctions">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryUserDefinedFunctions
            <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.queryUsers">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryUsers
            <span class="apidocSignatureSpan">(databaseLink, query, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.read">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>read
            <span class="apidocSignatureSpan">(path, type, id, initialHeaders, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readAttachment">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readAttachment
            <span class="apidocSignatureSpan">(attachmentLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readAttachments">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readAttachments
            <span class="apidocSignatureSpan">(documentLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readCollection">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readCollection
            <span class="apidocSignatureSpan">(collectionLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readCollections">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readCollections
            <span class="apidocSignatureSpan">(databaseLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readConflict">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readConflict
            <span class="apidocSignatureSpan">(conflictLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readConflicts">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readConflicts
            <span class="apidocSignatureSpan">(collectionLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readDatabase">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDatabase
            <span class="apidocSignatureSpan">(databaseLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readDatabases">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDatabases
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readDocument">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDocument
            <span class="apidocSignatureSpan">(documentLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readDocuments">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDocuments
            <span class="apidocSignatureSpan">(collectionLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readMedia">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readMedia
            <span class="apidocSignatureSpan">(mediaLink, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readOffer">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readOffer
            <span class="apidocSignatureSpan">(offerLink, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readOffers">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readOffers
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readPartitionKeyRanges">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readPartitionKeyRanges
            <span class="apidocSignatureSpan">(collectionLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readPermission">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readPermission
            <span class="apidocSignatureSpan">(permissionLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readPermissions">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readPermissions
            <span class="apidocSignatureSpan">(userLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readStoredProcedure">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readStoredProcedure
            <span class="apidocSignatureSpan">(sprocLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readStoredProcedures">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readStoredProcedures
            <span class="apidocSignatureSpan">(collectionLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readTrigger">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readTrigger
            <span class="apidocSignatureSpan">(triggerLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readTriggers">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readTriggers
            <span class="apidocSignatureSpan">(collectionLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readUser">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUser
            <span class="apidocSignatureSpan">(userLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readUserDefinedFunction">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUserDefinedFunction
            <span class="apidocSignatureSpan">(udfLink, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readUserDefinedFunctions">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUserDefinedFunctions
            <span class="apidocSignatureSpan">(collectionLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.readUsers">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUsers
            <span class="apidocSignatureSpan">(databaseLink, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replace">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replace
            <span class="apidocSignatureSpan">(resource, path, type, id, initialHeaders, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceAttachment">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceAttachment
            <span class="apidocSignatureSpan">(attachmentLink, attachment, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceCollection">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceCollection
            <span class="apidocSignatureSpan">(collectionLink, collection, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceDocument">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceDocument
            <span class="apidocSignatureSpan">(documentLink, newDocument, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceOffer">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceOffer
            <span class="apidocSignatureSpan">(offerLink, offer, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replacePermission">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replacePermission
            <span class="apidocSignatureSpan">(permissionLink, permission, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceStoredProcedure">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceStoredProcedure
            <span class="apidocSignatureSpan">(sprocLink, sproc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceTrigger">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceTrigger
            <span class="apidocSignatureSpan">(triggerLink, trigger, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceUser">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceUser
            <span class="apidocSignatureSpan">(userLink, user, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.replaceUserDefinedFunction">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceUserDefinedFunction
            <span class="apidocSignatureSpan">(udfLink, udf, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.resolveCollectionLinkForCreate">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>resolveCollectionLinkForCreate
            <span class="apidocSignatureSpan">(partitionResolver, document)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.setIsUpsertHeader">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>setIsUpsertHeader
            <span class="apidocSignatureSpan">(headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.sprintf">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>sprintf
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.updateMedia">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>updateMedia
            <span class="apidocSignatureSpan">(mediaLink, readableStream, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsert">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsert
            <span class="apidocSignatureSpan">(body, path, type, id, initialHeaders, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertAttachment">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertAttachment
            <span class="apidocSignatureSpan">(documentLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertAttachmentAndUploadMedia">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertAttachmentAndUploadMedia
            <span class="apidocSignatureSpan">(documentLink, readableStream, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertDocument">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertDocument
            <span class="apidocSignatureSpan">(documentsFeedOrDatabaseLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertDocumentPrivate">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertDocumentPrivate
            <span class="apidocSignatureSpan">(collectionLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertPermission">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertPermission
            <span class="apidocSignatureSpan">(userLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertStoredProcedure">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertStoredProcedure
            <span class="apidocSignatureSpan">(collectionLink, sproc, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertTrigger">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertTrigger
            <span class="apidocSignatureSpan">(collectionLink, trigger, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertUser">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertUser
            <span class="apidocSignatureSpan">(databaseLink, body, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.upsertUserDefinedFunction">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertUserDefinedFunction
            <span class="apidocSignatureSpan">(collectionLink, udf, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.DocumentClient.prototype.validateOptionsAndCallback">
            function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>validateOptionsAndCallback
            <span class="apidocSignatureSpan">(optionsIn, callbackIn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.HashPartitionResolver">module documentdb.HashPartitionResolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.HashPartitionResolver.HashPartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.</span>HashPartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.HashPartitionResolver.prototype">module documentdb.HashPartitionResolver.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.HashPartitionResolver.prototype.getPartitionKey">
            function <span class="apidocSignatureSpan">documentdb.HashPartitionResolver.prototype.</span>getPartitionKey
            <span class="apidocSignatureSpan">(document)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.HashPartitionResolver.prototype.resolveForCreate">
            function <span class="apidocSignatureSpan">documentdb.HashPartitionResolver.prototype.</span>resolveForCreate
            <span class="apidocSignatureSpan">(partitionKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.HashPartitionResolver.prototype.resolveForRead">
            function <span class="apidocSignatureSpan">documentdb.HashPartitionResolver.prototype.</span>resolveForRead
            <span class="apidocSignatureSpan">(partitionKey)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.RangePartitionResolver">module documentdb.RangePartitionResolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.RangePartitionResolver.RangePartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.</span>RangePartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.RangePartitionResolver.prototype">module documentdb.RangePartitionResolver.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.RangePartitionResolver.prototype.getPartitionKey">
            function <span class="apidocSignatureSpan">documentdb.RangePartitionResolver.prototype.</span>getPartitionKey
            <span class="apidocSignatureSpan">(document)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.RangePartitionResolver.prototype.resolveForCreate">
            function <span class="apidocSignatureSpan">documentdb.RangePartitionResolver.prototype.</span>resolveForCreate
            <span class="apidocSignatureSpan">(partitionKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.RangePartitionResolver.prototype.resolveForRead">
            function <span class="apidocSignatureSpan">documentdb.RangePartitionResolver.prototype.</span>resolveForRead
            <span class="apidocSignatureSpan">(partitionKey)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.aggregators">module documentdb.aggregators</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.aggregators.AverageAggregator">
            function <span class="apidocSignatureSpan">documentdb.aggregators.</span>AverageAggregator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.aggregators.CountAggregator">
            function <span class="apidocSignatureSpan">documentdb.aggregators.</span>CountAggregator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.aggregators.MaxAggregator">
            function <span class="apidocSignatureSpan">documentdb.aggregators.</span>MaxAggregator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.aggregators.MinAggregator">
            function <span class="apidocSignatureSpan">documentdb.aggregators.</span>MinAggregator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.aggregators.SumAggregator">
            function <span class="apidocSignatureSpan">documentdb.aggregators.</span>SumAggregator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.auth">module documentdb.auth</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.auth.getAuthorizationHeader">
            function <span class="apidocSignatureSpan">documentdb.auth.</span>getAuthorizationHeader
            <span class="apidocSignatureSpan">(documentClient, verb, path, resourceId, resourceType, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.auth.getAuthorizationTokenUsingMasterKey">
            function <span class="apidocSignatureSpan">documentdb.auth.</span>getAuthorizationTokenUsingMasterKey
            <span class="apidocSignatureSpan">(verb, resourceId, resourceType, headers, masterKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.auth.getAuthorizationTokenUsingResourceTokens">
            function <span class="apidocSignatureSpan">documentdb.auth.</span>getAuthorizationTokenUsingResourceTokens
            <span class="apidocSignatureSpan">(resourceTokens, path, resourceId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.consistentHashRing">module documentdb.consistentHashRing</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.consistentHashRing.ConsistentHashRing">
            function <span class="apidocSignatureSpan">documentdb.consistentHashRing.</span>ConsistentHashRing
            <span class="apidocSignatureSpan">(nodes, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.defaultQueryExecutionContext">module documentdb.defaultQueryExecutionContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.defaultQueryExecutionContext.defaultQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>defaultQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.</span>STATES</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.defaultQueryExecutionContext.prototype">module documentdb.defaultQueryExecutionContext.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.current">
            function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>current
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.fetchMore">
            function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>fetchMore
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.hasMoreResults">
            function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>hasMoreResults
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.nextItem">
            function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>nextItem
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.documentProducer">module documentdb.documentProducer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.documentProducer">
            function <span class="apidocSignatureSpan">documentdb.</span>documentProducer
            <span class="apidocSignatureSpan">(documentclient, collectionLink, query, targetPartitionKeyRange)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.OrderByDocumentProducerComparator">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.</span>OrderByDocumentProducerComparator
            <span class="apidocSignatureSpan">(sortOrder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.createOrderByComparator">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.</span>createOrderByComparator
            <span class="apidocSignatureSpan">(sortOrder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.createTargetPartitionKeyRangeComparator">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.</span>createTargetPartitionKeyRangeComparator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.documentProducer.prototype">module documentdb.documentProducer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.prototype.current">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>current
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.prototype.getTargetParitionKeyRange">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>getTargetParitionKeyRange
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.prototype.nextItem">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>nextItem
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentProducer.prototype.peek">
            function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>peek
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.documentclient">module documentdb.documentclient</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentclient.DocumentBase">
            function <span class="apidocSignatureSpan">documentdb.documentclient.</span>DocumentBase
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentclient.DocumentClient">
            function <span class="apidocSignatureSpan">documentdb.documentclient.</span>DocumentClient
            <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.documentclient.RetryOptions">
            function <span class="apidocSignatureSpan">documentdb.documentclient.</span>RetryOptions
            <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.documentclient.</span>Base</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.documentclient.</span>Constants</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.endpointComponent">module documentdb.endpointComponent</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.endpointComponent.AggregateEndpointComponent">
            function <span class="apidocSignatureSpan">documentdb.endpointComponent.</span>AggregateEndpointComponent
            <span class="apidocSignatureSpan">(executionContext, aggregateOperators)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.endpointComponent.OrderByEndpointComponent">
            function <span class="apidocSignatureSpan">documentdb.endpointComponent.</span>OrderByEndpointComponent
            <span class="apidocSignatureSpan">(executionContext)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.endpointComponent.TopEndpointComponent">
            function <span class="apidocSignatureSpan">documentdb.endpointComponent.</span>TopEndpointComponent
            <span class="apidocSignatureSpan">(executionContext, topCount)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.endpointDiscoveryRetryPolicy">module documentdb.endpointDiscoveryRetryPolicy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.endpointDiscoveryRetryPolicy.endpointDiscoveryRetryPolicy">
            function <span class="apidocSignatureSpan">documentdb.</span>endpointDiscoveryRetryPolicy
            <span class="apidocSignatureSpan">(globalEndpointManager)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">documentdb.endpointDiscoveryRetryPolicy.</span>FORBIDDEN_STATUS_CODE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">documentdb.endpointDiscoveryRetryPolicy.</span>WRITE_FORBIDDEN_SUB_STATUS_CODE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">documentdb.endpointDiscoveryRetryPolicy.</span>maxRetryAttemptCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">documentdb.endpointDiscoveryRetryPolicy.</span>retryAfterInMilliseconds</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.endpointDiscoveryRetryPolicy.prototype">module documentdb.endpointDiscoveryRetryPolicy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.endpointDiscoveryRetryPolicy.prototype.shouldRetry">
            function <span class="apidocSignatureSpan">documentdb.endpointDiscoveryRetryPolicy.prototype.</span>shouldRetry
            <span class="apidocSignatureSpan">(err, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.globalEndpointManager">module documentdb.globalEndpointManager</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager.globalEndpointManager">
            function <span class="apidocSignatureSpan">documentdb.</span>globalEndpointManager
            <span class="apidocSignatureSpan">(client)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.globalEndpointManager.prototype">module documentdb.globalEndpointManager.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager.prototype.getReadEndpoint">
            function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>getReadEndpoint
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager.prototype.getWriteEndpoint">
            function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>getWriteEndpoint
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager.prototype.refreshEndpointList">
            function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>refreshEndpointList
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager.prototype.setReadEndpoint">
            function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>setReadEndpoint
            <span class="apidocSignatureSpan">(readEndpoint)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.globalEndpointManager.prototype.setWriteEndpoint">
            function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>setWriteEndpoint
            <span class="apidocSignatureSpan">(writeEndpoint)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.hashPartitionResolver">module documentdb.hashPartitionResolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.hashPartitionResolver.HashPartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.hashPartitionResolver.</span>HashPartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.inMemoryCollectionRoutingMap">module documentdb.inMemoryCollectionRoutingMap</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.inMemoryCollectionRoutingMap.CollectionRoutingMapFactory">
            function <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>CollectionRoutingMapFactory
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.inMemoryCollectionRoutingMap.InMemoryCollectionRoutingMap">
            function <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>InMemoryCollectionRoutingMap
            <span class="apidocSignatureSpan">(rangeById, rangeByInfo, orderedPartitionKeyRanges, orderedPartitionInfo, collectionUniqueId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.inMemoryCollectionRoutingMap.QueryRange">
            function <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>QueryRange
            <span class="apidocSignatureSpan">(rangeMin, rangeMax, isMinInclusive, isMaxInclusive)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>_PartitionKeyRange</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.index">module documentdb.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.index.DocumentBase">
            function <span class="apidocSignatureSpan">documentdb.index.</span>DocumentBase
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.index.DocumentClient">
            function <span class="apidocSignatureSpan">documentdb.index.</span>DocumentClient
            <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.index.HashPartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.index.</span>HashPartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.index.Range">
            function <span class="apidocSignatureSpan">documentdb.index.</span>Range
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.index.RangePartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.index.</span>RangePartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.index.RetryOptions">
            function <span class="apidocSignatureSpan">documentdb.index.</span>RetryOptions
            <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.index.</span>Base</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.index.</span>Constants</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.murmurHash">module documentdb.murmurHash</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.murmurHash.MurmurHash">
            function <span class="apidocSignatureSpan">documentdb.murmurHash.</span>MurmurHash
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.parallelQueryExecutionContext">module documentdb.parallelQueryExecutionContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.parallelQueryExecutionContext.parallelQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>parallelQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, collectionLink, query, options, partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.</span>STATES</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.parallelQueryExecutionContext.prototype">module documentdb.parallelQueryExecutionContext.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.parallelQueryExecutionContext.prototype.current">
            function <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.prototype.</span>current
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.parallelQueryExecutionContext.prototype.hasMoreResults">
            function <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.prototype.</span>hasMoreResults
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.parallelQueryExecutionContext.prototype.nextItem">
            function <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.prototype.</span>nextItem
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.partitionKeyRangeCache">module documentdb.partitionKeyRangeCache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionKeyRangeCache.partitionKeyRangeCache">
            function <span class="apidocSignatureSpan">documentdb.</span>partitionKeyRangeCache
            <span class="apidocSignatureSpan">(documentclient)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.partitionKeyRangeCache.prototype">module documentdb.partitionKeyRangeCache.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionKeyRangeCache.prototype.getOverlappingRanges">
            function <span class="apidocSignatureSpan">documentdb.partitionKeyRangeCache.prototype.</span>getOverlappingRanges
            <span class="apidocSignatureSpan">(callback, collectionLink, queryRanges)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.partitionedQueryExecutionContextInfoParser">module documentdb.partitionedQueryExecutionContextInfoParser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.partitionedQueryExecutionContextInfoParser">
            function <span class="apidocSignatureSpan">documentdb.</span>partitionedQueryExecutionContextInfoParser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseAggregates">
            function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseAggregates
            <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseOrderBy">
            function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseOrderBy
            <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseQueryRanges">
            function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseQueryRanges
            <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseRewrittenQuery">
            function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseRewrittenQuery
            <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseTop">
            function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseTop
            <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.pipelinedQueryExecutionContext">module documentdb.pipelinedQueryExecutionContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.pipelinedQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>pipelinedQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, options, executionContext, partitionedQueryExecutionInfo)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.</span>DEFAULT_PAGE_SIZE</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.pipelinedQueryExecutionContext.prototype">module documentdb.pipelinedQueryExecutionContext.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.current">
            function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>current
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.fetchMore">
            function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>fetchMore
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.hasMoreResults">
            function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>hasMoreResults
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.nextItem">
            function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>nextItem
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.platform">module documentdb.platform</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.platform._getSafeUserAgentSegmentInfo">
            function <span class="apidocSignatureSpan">documentdb.platform.</span>_getSafeUserAgentSegmentInfo
            <span class="apidocSignatureSpan">(s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.platform.getUserAgent">
            function <span class="apidocSignatureSpan">documentdb.platform.</span>getUserAgent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.proxyQueryExecutionContext">module documentdb.proxyQueryExecutionContext</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.proxyQueryExecutionContext.proxyQueryExecutionContext">
            function <span class="apidocSignatureSpan">documentdb.</span>proxyQueryExecutionContext
            <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.proxyQueryExecutionContext.prototype">module documentdb.proxyQueryExecutionContext.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.current">
            function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>current
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.fetchMore">
            function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>fetchMore
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.hasMoreResults">
            function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>hasMoreResults
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.nextItem">
            function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>nextItem
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.queryIterator">module documentdb.queryIterator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.queryIterator">
            function <span class="apidocSignatureSpan">documentdb.</span>queryIterator
            <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.queryIterator.prototype">module documentdb.queryIterator.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.current">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>current
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.executeNext">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>executeNext
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.forEach">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>forEach
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.hasMoreResults">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>hasMoreResults
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.nextItem">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>nextItem
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.reset">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.queryIterator.prototype.toArray">
            function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>toArray
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.range">module documentdb.range</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.range.Range">
            function <span class="apidocSignatureSpan">documentdb.range.</span>Range
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.range.RangePartitionResolver">
            function <span class="apidocSignatureSpan">documentdb.range.</span>RangePartitionResolver
            <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.request">module documentdb.request</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.request.request">
            function <span class="apidocSignatureSpan">documentdb.</span>request
            <span class="apidocSignatureSpan">(globalEndpointManager, connectionPolicy, method, url, path, data, queryParams, headers, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.request._createRequestObjectStub">
            function <span class="apidocSignatureSpan">documentdb.request.</span>_createRequestObjectStub
            <span class="apidocSignatureSpan">(connectionPolicy, requestOptions, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.resourceThrottleRetryPolicy">module documentdb.resourceThrottleRetryPolicy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.resourceThrottleRetryPolicy.resourceThrottleRetryPolicy">
            function <span class="apidocSignatureSpan">documentdb.</span>resourceThrottleRetryPolicy
            <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">documentdb.resourceThrottleRetryPolicy.</span>THROTTLE_STATUS_CODE</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.resourceThrottleRetryPolicy.prototype">module documentdb.resourceThrottleRetryPolicy.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.resourceThrottleRetryPolicy.prototype.shouldRetry">
            function <span class="apidocSignatureSpan">documentdb.resourceThrottleRetryPolicy.prototype.</span>shouldRetry
            <span class="apidocSignatureSpan">(err, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.retryUtility">module documentdb.retryUtility</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.retryUtility.apply">
            function <span class="apidocSignatureSpan">documentdb.retryUtility.</span>apply
            <span class="apidocSignatureSpan">(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy, resourceThrottleRetryPolicy , callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.retryUtility.execute">
            function <span class="apidocSignatureSpan">documentdb.retryUtility.</span>execute
            <span class="apidocSignatureSpan">(globalEndpointManager, body, createRequestObjectFunc, connectionPolicy, requestOptions, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.smartRoutingMapProvider">module documentdb.smartRoutingMapProvider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.smartRoutingMapProvider.smartRoutingMapProvider">
            function <span class="apidocSignatureSpan">documentdb.</span>smartRoutingMapProvider
            <span class="apidocSignatureSpan">(documentclient)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.documentdb.smartRoutingMapProvider.prototype">module documentdb.smartRoutingMapProvider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.documentdb.smartRoutingMapProvider.prototype.getOverlappingRanges">
            function <span class="apidocSignatureSpan">documentdb.smartRoutingMapProvider.prototype.</span>getOverlappingRanges
            <span class="apidocSignatureSpan">(callback, collectionLink, sortedRanges)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb" id="apidoc.module.documentdb">module documentdb</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.DocumentBase" id="apidoc.element.documentdb.DocumentBase">
        function <span class="apidocSignatureSpan">documentdb.</span>DocumentBase
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DocumentBase = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient" id="apidoc.element.documentdb.DocumentClient">
        function <span class="apidocSignatureSpan">documentdb.</span>DocumentClient
        <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentClient(urlConnection, auth, connectionPolicy, consistencyLevel) {
    this.urlConnection = urlConnection;
    if (auth !== undefined) {
        this.masterKey = auth.masterKey;
        this.resourceTokens = auth.resourceTokens;
        if (auth.permissionFeed) {
            this.resourceTokens = {};
            for (var i = 0; i &lt; auth.permissionFeed.length; i++) {
                var resourceParts = auth.permissionFeed[i].resource.split("/");
                var rid = resourceParts[resourceParts.length - 1];
                this.resourceTokens[rid] = auth.permissionFeed[i]._token;
            }
        }
    }

    this.connectionPolicy = connectionPolicy || new AzureDocuments.ConnectionPolicy();
    this.defaultHeaders = {};
    this.defaultHeaders[Constants.HttpHeaders.CacheControl] = "no-cache";
    this.defaultHeaders[Constants.HttpHeaders.Version] = Constants.CurrentVersion;
    if (consistencyLevel !== undefined) {
        this.defaultHeaders[Constants.HttpHeaders.ConsistencyLevel] = consistencyLevel;
    }

    this.defaultHeaders[Constants.HttpHeaders.UserAgent] = Base._getUserAgent();

    // overide this for default query params to be added to the url.
    this.defaultUrlParams = "";

    // Query compatibility mode.
    // Allows to specify compatibility mode used by client when making query requests. Should be removed when
    // application/sql is no longer supported.
    this.queryCompatibilityMode = AzureDocuments.QueryCompatibilityMode.Default;
    this.partitionResolvers = {};

    this.partitionKeyDefinitionCache = {};

    this._globalEndpointManager = new GlobalEndpointManager(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.HashPartitionResolver" id="apidoc.element.documentdb.HashPartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.</span>HashPartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HashPartitionResolver = function (partitionKeyExtractor, collectionLinks, options) {
    HashPartitionResolver._throwIfInvalidPartitionKeyExtractor(partitionKeyExtractor);
    HashPartitionResolver._throwIfInvalidCollectionLinks(collectionLinks);
    this.partitionKeyExtractor = partitionKeyExtractor;

    options = options || {};
    this.consistentHashRing = new ConsistentHashRing(collectionLinks, options);
    this.collectionLinks = collectionLinks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Range" id="apidoc.element.documentdb.Range">
        function <span class="apidocSignatureSpan">documentdb.</span>Range
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Range = function (options) {
    if (options === undefined) {
        options = {};
    }
    if (options === null) {
        throw new Error("Invalid argument: 'options' is null");
    }
    if (typeof options !== "object") {
        throw new Error("Invalid argument: 'options' is not an object");
    }
    if (options.high === undefined) {
        options.high = options.low;
    }
    this.low = options.low;
    this.high = options.high;
    Object.freeze(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.RangePartitionResolver" id="apidoc.element.documentdb.RangePartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.</span>RangePartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RangePartitionResolver = function (partitionKeyExtractor, partitionKeyMap, compareFunction) {
    if (partitionKeyExtractor === undefined || partitionKeyExtractor === null) {
        throw new Error("partitionKeyExtractor cannot be null or undefined");
    }
    if (typeof partitionKeyExtractor !== "string" &amp;&amp; typeof partitionKeyExtractor !== "function") {
        throw new Error("partitionKeyExtractor must be either a 'string' or a 'function'");
    }
    if (partitionKeyMap === undefined || partitionKeyMap === null) {
        throw new Error("partitionKeyMap cannot be null or undefined");
    }
    if (!(Array.isArray(partitionKeyMap))) {
        throw new Error("partitionKeyMap has to be an Array");
    }
    var allMapEntriesAreValid = partitionKeyMap.every(function (mapEntry) {
        if ((mapEntry === undefined) || mapEntry === null) {
            return false;
        }
        if (mapEntry.range === undefined) {
            return false;
        }
        if (!(mapEntry.range instanceof Range)) {
            return false;
        }
        if (mapEntry.link === undefined) {
            return false;
        }
        if (typeof mapEntry.link !== "string") {
            return false;
        }
        return true;
    });
    if (!allMapEntriesAreValid) {
        throw new Error("All partitionKeyMap entries have to be a tuple {range: Range, link: string }");
    }
    if (compareFunction !== undefined &amp;&amp; typeof compareFunction !== "function") {
        throw new Error("Invalid argument: 'compareFunction' is not a function");
    }

    this.partitionKeyExtractor = partitionKeyExtractor;
    this.partitionKeyMap = partitionKeyMap;
    this.compareFunction = compareFunction;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.RetryOptions" id="apidoc.element.documentdb.RetryOptions">
        function <span class="apidocSignatureSpan">documentdb.</span>RetryOptions
        <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RetryOptions(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds) {
    this._maxRetryAttemptCount = maxRetryAttemptCount || 9;
    this._fixedRetryIntervalInMilliseconds = fixedRetryIntervalInMilliseconds;
    this._maxWaitTimeInSeconds = maxWaitTimeInSeconds || 30;

    Object.defineProperty(this, "MaxRetryAttemptCount", {
            get: function () {
                return this._maxRetryAttemptCount;
            },
            enumerable: true
    });

    Object.defineProperty(this, "FixedRetryIntervalInMilliseconds", {
        get: function () {
            return this._fixedRetryIntervalInMilliseconds;
        },
        enumerable: true
    });

    Object.defineProperty(this, "MaxWaitTimeInSeconds", {
        get: function () {
            return this._maxWaitTimeInSeconds;
        },
        enumerable: true
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.defaultQueryExecutionContext" id="apidoc.element.documentdb.defaultQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>defaultQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultQueryExecutionContext = function (documentclient, query, options, fetchFunctions){
    this.documentclient = documentclient;
    this.query = query;
    this.resources = [];
    this.currentIndex = 0;
    this.currentPartitionIndex = 0;
    this.fetchFunctions = (Array.isArray(fetchFunctions)) ? fetchFunctions : [fetchFunctions];
    this.options = options || {};
    this.continuation = this.options.continuation || null;
    this.state = DefaultQueryExecutionContext.STATES.start;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer" id="apidoc.element.documentdb.documentProducer">
        function <span class="apidocSignatureSpan">documentdb.</span>documentProducer
        <span class="apidocSignatureSpan">(documentclient, collectionLink, query, targetPartitionKeyRange)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">documentProducer = function (documentclient, collectionLink, query, targetPartitionKeyRange) {
    this.documentclient = documentclient;
    this.collectionLink = collectionLink;
    this.query = query;
    this.targetPartitionKeyRange = targetPartitionKeyRange;
    this.bufferedCurrentItem = undefined;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.documentclient.getPathFromLink(collectionLink, "docs", isNameBased);
    var id = this.documentclient.getIdFromLink(collectionLink, isNameBased);
    var options = {};

    var that = this;
    var fetchFunction =  function (options, callback) {
        that.documentclient.queryFeed.call(documentclient,
            documentclient,
                path,
                "docs",
                id,
                function (result) { return result.Documents; },
                function (parent, body) { return body; },
                query,
                options,
                callback,
                that.targetPartitionKeyRange["id"]);
    };
    this.internalExecutionContext = new DefaultQueryExecutionContext(documentclient, query, options, fetchFunction);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.endpointDiscoveryRetryPolicy" id="apidoc.element.documentdb.endpointDiscoveryRetryPolicy">
        function <span class="apidocSignatureSpan">documentdb.</span>endpointDiscoveryRetryPolicy
        <span class="apidocSignatureSpan">(globalEndpointManager)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">endpointDiscoveryRetryPolicy = function (globalEndpointManager) {
    this._maxRetryAttemptCount = EndpointDiscoveryRetryPolicy.maxRetryAttemptCount;
    this.currentRetryAttemptCount = 0;
    this.globalEndpointManager = globalEndpointManager;
    this.retryAfterInMilliseconds = EndpointDiscoveryRetryPolicy.retryAfterInMilliseconds;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager" id="apidoc.element.documentdb.globalEndpointManager">
        function <span class="apidocSignatureSpan">documentdb.</span>globalEndpointManager
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">globalEndpointManager = function (client) {
    this.client = client;
    this.defaultEndpoint = client.urlConnection;
    this._readEndpoint = client.urlConnection;
    this._writeEndpoint = client.urlConnection;
    this.enableEndpointDiscovery = client.connectionPolicy.EnableEndpointDiscovery;
    this.preferredLocations = client.connectionPolicy.PreferredLocations;
    this.isEndpointCacheInitialized = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.parallelQueryExecutionContext" id="apidoc.element.documentdb.parallelQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>parallelQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, collectionLink, query, options, partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallelQueryExecutionContext = function (documentclient, collectionLink, query, options, partitionedQueryExecutionInfo) {
    this.documentclient = documentclient;
    this.collectionLink = collectionLink;
    this.query = query;
    this.options = options;
    this.paritionedQueryExecutionInfo = partitionedQueryExecutionInfo;
    this.err = undefined;
    this.state = ParallelQueryExecutionContext.STATES.start;
    this.routingProvider = new SmartRoutingMapProvider(this.documentclient);
    this.sortOrders = QueryExecutionInfoParser.parseOrderBy(this.paritionedQueryExecutionInfo);

    if (Array.isArray(this.sortOrders) &amp;&amp; this.sortOrders.length &gt; 0) {
        this.documentProducerComparator = DocumentProducer.createOrderByComparator(this.sortOrders);
    } else {
        this.documentProducerComparator = DocumentProducer.createTargetPartitionKeyRangeComparator();
    }

    // this is a max priority queue
    this.orderByPQ = new PriorityQueue(function (a, b) { return that.documentProducerComparator(b, a); });

    this.state = ParallelQueryExecutionContext.STATES.started;
    this.sem = require('semaphore')(1);
    var that = this;
    var createDocumentProducersAndFillUpPriorityQueueFunc = function () {
        // ensure the lock is released after finishing up
        that._onTargetPartitionRanges(function (err, targetPartitionRanges) {
            that.waitingForInternalExcecutionContexts = targetPartitionRanges.length;
            if (err) {
                that.err = err;
                 // relase the lock
                that.sem.leave();
                return;
            }
            var maxDegreeOfParallelism = options.maxDegreeOfParallelism || 1;

            if (maxDegreeOfParallelism &gt; 0) {
                maxDegreeOfParallelism = Math.min(maxDegreeOfParallelism, targetPartitionRanges.length);
            } else {
                maxDegreeOfParallelism = targetPartitionRanges.length;
            }
            var parallelismSem = require('semaphore')(Math.max(maxDegreeOfParallelism, 1));

            var targetPartitionQueryExecutionContextList = [];

            targetPartitionRanges.forEach(
                function (partitionTargetRange) {
                    // no async callback
                    targetPartitionQueryExecutionContextList.push(
                        that._createTargetPartitionQueryExecutionContext(partitionTargetRange));
                }
            );

            targetPartitionQueryExecutionContextList.forEach(
                function (targetQueryExContext) {

                    // has async callback
                    var throttledFunc = function () {
                        targetQueryExContext.current(function (err, document) {
                            try {
                                if (err) {
                                    that.err = err;
                                    return;
                                }

                                if (document == undefined) {
                                    // no results on this one
                                    return;
                                }
                                // if there are matching results in the target ex range add it to the priority queue
                                try {
                                    that.orderByPQ.enq(targetQueryExContext);
                                } catch (e) {
                                    that.err = e;
                                }
                            } finally {
                                parallelismSem.leave();
                                that._decrementInitiationLock();
                            }
                        });
                    }
                    parallelismSem.take(throttledFunc);
                });
        });
    };
    this.sem.take(createDocumentProducersAndFillUpPriorityQueueFunc);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionKeyRangeCache" id="apidoc.element.documentdb.partitionKeyRangeCache">
        function <span class="apidocSignatureSpan">documentdb.</span>partitionKeyRangeCache
        <span class="apidocSignatureSpan">(documentclient)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">partitionKeyRangeCache = function (documentclient) {
    this.documentclient = documentclient;
    this.collectionRoutingMapByCollectionId = {};
    this.sem = require("semaphore")(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser">
        function <span class="apidocSignatureSpan">documentdb.</span>partitionedQueryExecutionContextInfoParser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">partitionedQueryExecutionContextInfoParser = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.pipelinedQueryExecutionContext" id="apidoc.element.documentdb.pipelinedQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>pipelinedQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, options, executionContext, partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipelinedQueryExecutionContext = function (documentclient, options, executionContext, partitionedQueryExecutionInfo) {
    this.documentclient = documentclient;
    this.options = options;
    this.partitionedQueryExecutionInfo = partitionedQueryExecutionInfo;
    this.endpoint = executionContext;
    this.pageSize = options["maxItemCount"];
    if (this.pageSize === undefined) {
        this.pageSize = PipelinedQueryExecutionContext.DEFAULT_PAGE_SIZE;
    }
    var orderBy = QueryExecutionInfoParser.parseOrderBy(partitionedQueryExecutionInfo);
    if (Array.isArray(orderBy) &amp;&amp; orderBy.length &gt; 0) {
        this.endpoint = new endpointComponent.OrderByEndpointComponent(this.endpoint);
    }

    var aggregates = QueryExecutionInfoParser.parseAggregates(partitionedQueryExecutionInfo);
    if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
        this.endpoint = new endpointComponent.AggregateEndpointComponent(this.endpoint, aggregates);
    }

    var top = QueryExecutionInfoParser.parseTop(partitionedQueryExecutionInfo);
    if (typeof (top) === 'number') {
        this.endpoint = new endpointComponent.TopEndpointComponent(this.endpoint, top);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.proxyQueryExecutionContext" id="apidoc.element.documentdb.proxyQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>proxyQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">proxyQueryExecutionContext = function (documentclient, query, options, fetchFunctions, resourceLink) {
    this.documentclient = documentclient;
    this.query = query;
    this.fetchFunctions = fetchFunctions;
    this.options = options;
    this.resourceLink = resourceLink;
    this.queryExecutionContext = new DefaultQueryExecutionContext(this.documentclient, this.query, this.options, this.fetchFunctions
);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator" id="apidoc.element.documentdb.queryIterator">
        function <span class="apidocSignatureSpan">documentdb.</span>queryIterator
        <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryIterator = function (documentclient, query, options, fetchFunctions, resourceLink) {

    this.documentclient = documentclient;
    this.query = query;
    this.fetchFunctions = fetchFunctions;
    this.options = options;
    this.resourceLink = resourceLink;
    this.queryExecutionContext = this._createQueryExecutionContext();

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.resourceThrottleRetryPolicy" id="apidoc.element.documentdb.resourceThrottleRetryPolicy">
        function <span class="apidocSignatureSpan">documentdb.</span>resourceThrottleRetryPolicy
        <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resourceThrottleRetryPolicy = function (maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds) {
    this._maxRetryAttemptCount = maxRetryAttemptCount;
    this._fixedRetryIntervalInMilliseconds = fixedRetryIntervalInMilliseconds;
    this._maxWaitTimeInMilliseconds = maxWaitTimeInSeconds * 1000;
    this.currentRetryAttemptCount = 0;
    this.cummulativeWaitTimeinMilliseconds = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.smartRoutingMapProvider" id="apidoc.element.documentdb.smartRoutingMapProvider">
        function <span class="apidocSignatureSpan">documentdb.</span>smartRoutingMapProvider
        <span class="apidocSignatureSpan">(documentclient)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">smartRoutingMapProvider = function (documentclient) {
    this._partitionKeyRangeCache = new PartitionKeyRangeCache(documentclient);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




























































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.Base" id="apidoc.module.documentdb.Base">module documentdb.Base</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.Base._getUserAgent" id="apidoc.element.documentdb.Base._getUserAgent">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>_getUserAgent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getUserAgent = function () {
    return Platform.getUserAgent();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.defaultHeaders = {};
this.defaultHeaders[Constants.HttpHeaders.CacheControl] = "no-cache";
this.defaultHeaders[Constants.HttpHeaders.Version] = Constants.CurrentVersion;
if (consistencyLevel !== undefined) {
    this.defaultHeaders[Constants.HttpHeaders.ConsistencyLevel] = consistencyLevel;
}

this.defaultHeaders[Constants.HttpHeaders.UserAgent] = Base.<span class="apidocCodeKeywordSpan">_getUserAgent</span>();

// overide this for default query params to be added to the url.
this.defaultUrlParams = "";

// Query compatibility mode.
// Allows to specify compatibility mode used by client when making query requests. Should be removed when
// application/sql is no longer supported.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base._isValidCollectionLink" id="apidoc.element.documentdb.Base._isValidCollectionLink">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>_isValidCollectionLink
        <span class="apidocSignatureSpan">(link)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isValidCollectionLink = function (link) {
    if (typeof link !== "string") {
        return false;
    }

    var parts = Base._trimSlashes(link).split("/");

    if (parts &amp;&amp; parts.length !== 4) {
        return false;
    }

    if (parts[0] !== "dbs") {
        return false;
    }

    if (parts[2] !== "colls") {
        return false;
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        },
        /** @ignore */
        _throwIfInvalidCollectionLinks: function (collectionLinks) {
            if (!Array.isArray(collectionLinks)) {
                throw new Error("collectionLinks must be an array.");
            }

            if (collectionLinks.some(function (collectionLink) { return !Base.<span class="apidocCodeKeywordSpan">_isValidCollectionLink
</span>(collectionLink); })) {
                throw new Error("All elements of collectionLinks must be collection links.");
            }
        }
    });

//SCRIPT END
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base._trimSlashes" id="apidoc.element.documentdb.Base._trimSlashes">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>_trimSlashes
        <span class="apidocSignatureSpan">(source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_trimSlashes = function (source) {
    return source.replace(Constants.RegularExpressions.TrimLeftSlashes, "")
                 .replace(Constants.RegularExpressions.TrimRightSlashes, "");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.define" id="apidoc.element.documentdb.Base.define">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>define
        <span class="apidocSignatureSpan">(name, members)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function define(name, members) {
    return defineWithParent(undefined, name, members);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.defineClass" id="apidoc.element.documentdb.Base.defineClass">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>defineClass
        <span class="apidocSignatureSpan">(constructor, instanceMembers, staticMembers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defineClass(constructor, instanceMembers, staticMembers) {
    constructor = constructor || function () { };
    if (instanceMembers) {
        initializeProperties(constructor.prototype, instanceMembers);
    }
    if (staticMembers) {
        initializeProperties(constructor, staticMembers);
    }
    return constructor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  , QueryIterator = require("./queryIterator")
  , RequestHandler = require("./request")
  , RetryOptions = require("./retryOptions")
  , GlobalEndpointManager = require("./globalEndpointManager")
  , Constants = require("./constants");

//SCRIPT START
var DocumentClient = Base.<span class="apidocCodeKeywordSpan">defineClass</span>(
/**
 * Provides a client-side logical representation of the Azure DocumentDB database account.
 * This client is used to configure and execute requests in the Azure DocumentDB database service.
 * @constructor DocumentClient
 * @param {string} urlConnection           - The service endpoint to use to create the client.
 * @param {object} auth                    - An object that is used for authenticating requests and must contains one of the options
 * @param {string} [auth.masterKey]        - The authorization master key to use to create the client.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.defineWithParent" id="apidoc.element.documentdb.Base.defineWithParent">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>defineWithParent
        <span class="apidocSignatureSpan">(parentNamespace, name, members)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function defineWithParent(parentNamespace, name, members) {
    var currentNamespace = parentNamespace || {};

    if (name) {
        var namespaceFragments = name.split(".");
        for (var i = 0, len = namespaceFragments.length; i &lt; len; i++) {
            var namespaceName = namespaceFragments[i];
            if (!currentNamespace[namespaceName]) {
                Object.defineProperty(currentNamespace, namespaceName,
                    { value: {}, writable: false, enumerable: true, configurable: true }
                );
            }
            currentNamespace = currentNamespace[namespaceName];
        }
    }

    if (members) {
        initializeProperties(currentNamespace, members, name || "&lt;ANONYMOUS&gt;");
    }

    return currentNamespace;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.derive" id="apidoc.element.documentdb.Base.derive">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>derive
        <span class="apidocSignatureSpan">(baseClass, constructor, instanceMembers, staticMembers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function derive(baseClass, constructor, instanceMembers, staticMembers) {
    if (baseClass) {
        constructor = constructor || function () { };
        var basePrototype = baseClass.prototype;
        constructor.prototype = Object.create(basePrototype);
        Object.defineProperty(constructor.prototype, "constructor", { value: constructor, writable: true, configurable: true, enumerable
: true });
        if (instanceMembers) {
            initializeProperties(constructor.prototype, instanceMembers);
        }
        if (staticMembers) {
            initializeProperties(constructor, staticMembers);
        }
        return constructor;
    } else {
        return defineClass(constructor, instanceMembers, staticMembers);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.extend" id="apidoc.element.documentdb.Base.extend">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>extend
        <span class="apidocSignatureSpan">(obj, extent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (obj, extent) {
    for (var property in extent) {
        if (typeof extent[property] !== "function") {
            obj[property] = extent[property];
        }
    }
    return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {RequestCallback} callback        - The callback for the request.
*/
createAttachmentAndUploadMedia: function (documentLink, readableStream, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var initialHeaders = Base.<span class="apidocCodeKeywordSpan">extend</span>({}, this.defaultHeaders);

    // Add required headers slug and content-type.
    if (options.slug) {
        initialHeaders[Constants.HttpHeaders.Slug] = options.slug;
    }

    if (options.contentType) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.generateGuidId" id="apidoc.element.documentdb.Base.generateGuidId">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>generateGuidId
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">generateGuidId = function () {
    var id = "";

    for (var i = 0; i &lt; 8; i++) {
        id += Base.getHexaDigit();
    }

    id += "-";

    for (var i = 0; i &lt; 4; i++) {
        id += Base.getHexaDigit();
    }

    id += "-";

    for (var i = 0; i &lt; 4; i++) {
        id += Base.getHexaDigit();
    }

    id += "-";

    for (var i = 0; i &lt; 4; i++) {
        id += Base.getHexaDigit();
    }

    id += "-";

    for (var i = 0; i &lt; 12; i++) {
        id += Base.getHexaDigit();
    }

    return id;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
callback = optionsCallbackTuple.callback;

var that = this;

var task = function () {
    // Generate random document id if the id is missing in the payload and options.disableAutomaticIdGeneration != true
    if ((body.id === undefined || body.id === "") &amp;&amp; !options.disableAutomaticIdGeneration) {
        body.id = Base.<span class="apidocCodeKeywordSpan">generateGuidId</span>();
    }

    var err = {};
    if (!that.isResourceValid(body, err)) {
        callback(err);
        return;
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.getAttachmentIdFromMediaId" id="apidoc.element.documentdb.Base.getAttachmentIdFromMediaId">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>getAttachmentIdFromMediaId
        <span class="apidocSignatureSpan">(mediaId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAttachmentIdFromMediaId = function (mediaId) {
    // Replace - with / on the incoming mediaId.  This will preserve the / so that we can revert it later.
    var buffer = new Buffer(mediaId.replace(/-/g, "/"), "base64");
    var ResoureIdLength = 20;
    var attachmentId = "";
    if (buffer.length &gt; ResoureIdLength) {
        // After the base64 conversion, change the / back to a - to get the proper attachmentId
        attachmentId = buffer.toString("base64", 0, ResoureIdLength).replace(/\//g, "-");
    } else {
        attachmentId = mediaId;
    }

    return attachmentId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          *                                     depending on the value of {@link MediaReadMode}.
          */
        readMedia: function (mediaLink, callback) {
var resourceInfo = Base.parseLink(mediaLink);
var path = "/" + mediaLink;
var initialHeaders = Base.extend({}, this.defaultHeaders);
initialHeaders[Constants.HttpHeaders.Accept] = Constants.MediaTypes.Any;
var attachmentId = Base.<span class="apidocCodeKeywordSpan">getAttachmentIdFromMediaId</span>(resourceInfo.objectBody.id).toLowerCase
();

var headers = Base.getHeaders(this, initialHeaders, "get", path, attachmentId, "media", {});

var that = this;
// readMedia will always use WriteEndpoint since it's not replicated in readable Geo regions
this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
    that.get(writeEndpoint, path, headers, callback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.getCollectionLink" id="apidoc.element.documentdb.Base.getCollectionLink">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>getCollectionLink
        <span class="apidocSignatureSpan">(link)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCollectionLink = function (link) {
    return link.split('/').slice(0, 4).join('/');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var path = that.getPathFromLink(documentLink, "", isNameBased);
    var id = that.getIdFromLink(documentLink, isNameBased);

    that.replace(newDocument, path, "docs", id, undefined, options, callback);
};

if (options.partitionKey === undefined) {
    this.getPartitionKeyDefinition(Base.<span class="apidocCodeKeywordSpan">getCollectionLink</span>(documentLink), function (err
, partitionKeyDefinition, response, headers) {
        if (err) return callback(err, response, headers);
        options.partitionKey = that.extractPartitionKey(newDocument, partitionKeyDefinition);

        task();
    });
}
else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.getDatabaseLink" id="apidoc.element.documentdb.Base.getDatabaseLink">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>getDatabaseLink
        <span class="apidocSignatureSpan">(link)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDatabaseLink = function (link) {
    return link.split('/').slice(0, 2).join('/');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.getHeaders" id="apidoc.element.documentdb.Base.getHeaders">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>getHeaders
        <span class="apidocSignatureSpan">(documentClient, defaultHeaders, verb, path, resourceId, resourceType, options, partitionKeyRangeId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHeaders = function (documentClient, defaultHeaders, verb, path, resourceId, resourceType, options, partitionKeyRangeId) {

    var headers = Base.extend({}, defaultHeaders);
    options = options || {};

    if (options.continuation) {
        headers[Constants.HttpHeaders.Continuation] = options.continuation;
    }

    if (options.preTriggerInclude) {
        headers[Constants.HttpHeaders.PreTriggerInclude] = options.preTriggerInclude.constructor === Array ? options.preTriggerInclude
.join(",") : options.preTriggerInclude;
    }

    if (options.postTriggerInclude) {
        headers[Constants.HttpHeaders.PostTriggerInclude] = options.postTriggerInclude.constructor === Array ? options.postTriggerInclude
.join(",") : options.postTriggerInclude;
    }

    if (options.offerType) {
        headers[Constants.HttpHeaders.OfferType] = options.offerType;
    }

    if (options.offerThroughput) {
        headers[Constants.HttpHeaders.OfferThroughput] = options.offerThroughput;
    }

    if (options.maxItemCount) {
        headers[Constants.HttpHeaders.PageSize] = options.maxItemCount;
    }

    if (options.accessCondition) {
        if (options.accessCondition.type === "IfMatch") {
            headers[Constants.HttpHeaders.IfMatch] = options.accessCondition.condition;
        } else {
            headers[Constants.HttpHeaders.IfNoneMatch] = options.accessCondition.condition;
        }
    }

    if (options.indexingDirective) {
        headers[Constants.HttpHeaders.IndexingDirective] = options.indexingDirective;
    }

    // TODO: add consistency level validation.
    if (options.consistencyLevel) {
        headers[Constants.HttpHeaders.ConsistencyLevel] = options.consistencyLevel;
    }

    if (options.resourceTokenExpirySeconds) {
        headers[Constants.HttpHeaders.ResourceTokenExpiry] = options.resourceTokenExpirySeconds;
    }

    // TODO: add session token automatic handling in case of session consistency.
    if (options.sessionToken) {
        headers[Constants.HttpHeaders.SessionToken] = options.sessionToken;
    }

    if (options.enableScanInQuery) {
        headers[Constants.HttpHeaders.EnableScanInQuery] = options.enableScanInQuery;
    }

    if (options.enableCrossPartitionQuery) {
        headers[Constants.HttpHeaders.EnableCrossPartitionQuery] = options.enableCrossPartitionQuery;
    }

    if (options.maxDegreeOfParallelism) {
        headers[Constants.HttpHeaders.ParallelizeCrossPartitionQuery] = true;
    }

    if (options.populateQuotaInfo) {
        headers[Constants.HttpHeaders.PopulateQuotaInfo] = true;
    }

    // If the user is not using partition resolver, we add options.partitonKey to the header for elastic collections
    if (documentClient.partitionResolver === undefined || documentClient.partitionResolver === null) {
        if (options.partitionKey !== undefined) {
            var partitionKey = options.partitionKey;
            if (partitionKey === null || partitionKey.constructor !== Array) {
                partitionKey = [partitionKey];
            }

            headers[Constants.HttpHeaders.PartitionKey] = JSON.stringify(partitionKey);
        }
    }

    if (documentClient.masterKey) {
        headers[Constants.HttpHeaders.XDate] = new Date().toUTCString();
    }

    if (documentClient.masterKey || documentClient.resourceTokens) {
        headers[Constants.HttpHeaders.Authorization] = encodeURIComponent(AuthHandler.getAuthorizationHeader(documentClient, verb
, path, resourceId, resourceType, headers));
    }

    if (verb === "post" || verb === "put") {
        if (!headers[Constants.HttpHeaders.ContentType]) {
            headers[Constants.HttpHeaders.ContentType] = Constants.MediaTypes.Json;
        }
    }

    if (!headers[Constants.HttpHeaders.Accept]) {
        headers[Constants.HttpHeaders.Accept] = Constants.MediaTypes.Json;
    }

    if (partitionKeyRangeId !== undefined) {
        headers[ ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
readMedia: function (mediaLink, callback) {
    var resourceInfo = Base.parseLink(mediaLink);
    var path = "/" + mediaLink;
    var initialHeaders = Base.extend({}, this.defaultHeaders);
    initialHeaders[Constants.HttpHeaders.Accept] = Constants.MediaTypes.Any;
    var attachmentId = Base.getAttachmentIdFromMediaId(resourceInfo.objectBody.id).toLowerCase();

    var headers = Base.<span class="apidocCodeKeywordSpan">getHeaders</span>(this, initialHeaders, "get", path, attachmentId
, "media", {});

    var that = this;
    // readMedia will always use WriteEndpoint since it's not replicated in readable Geo regions
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.get(writeEndpoint, path, headers, callback);
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.getHexaDigit" id="apidoc.element.documentdb.Base.getHexaDigit">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>getHexaDigit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHexaDigit = function () {
    return Math.floor(Math.random() * 16).toString(16);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.isLinkNameBased" id="apidoc.element.documentdb.Base.isLinkNameBased">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>isLinkNameBased
        <span class="apidocSignatureSpan">(link)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isLinkNameBased = function (link) {
    var parts = link.split("/");
    var firstId = "";
    var count = 0;
    // Get the first id from path.
    for (var i = 0; i &lt; parts.length; ++i) {
        if (!parts[i]) {
            // Skip empty string.
            continue;
        }
        ++count;
        if (count === 1 &amp;&amp; parts[i].toLowerCase() !== "dbs") {
            return false;
        }
        if (count === 2) {
            firstId = parts[i];
            break;
        }
    }
    if (!firstId) return false;
    if (firstId.length !== 8) return true;
    var buffer = new Buffer(firstId, "base64");
    if (buffer.length !== 4) return true;
    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.<span class="apidocCodeKeywordSpan">isLinkNameBased</span>(databaseLink);
    var path = this.getPathFromLink(databaseLink, "colls", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.create(body, path, "colls", id, undefined, options, callback);
},

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.map" id="apidoc.element.documentdb.Base.map">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>map
        <span class="apidocSignatureSpan">(list, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">map = function (list, fn) {
    var result = [];
    for (var i = 0, n = list.length; i &lt; n; i++) {
        result.push(fn(list[i]));
    }

    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
},

/** @ignore */
queryDocumentsPrivate: function (collectionLinks, query, options) {
    var that = this;

    var fetchFunctions = Base.<span class="apidocCodeKeywordSpan">map</span>(collectionLinks, function (collectionLink) {
        var isNameBased = Base.isLinkNameBased(collectionLink);
        var path = that.getPathFromLink(collectionLink, "docs", isNameBased);
        var id = that.getIdFromLink(collectionLink, isNameBased);

        return function (options, callback) {
            that.queryFeed.call(that,
            that,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.mix" id="apidoc.element.documentdb.Base.mix">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>mix
        <span class="apidocSignatureSpan">(constructor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mix(constructor) {
    constructor = constructor || function () { };
    var i, len;
    for (i = 1, len = arguments.length; i &lt; len; i++) {
        initializeProperties(constructor.prototype, arguments[i]);
    }
    return constructor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.parseLink" id="apidoc.element.documentdb.Base.parseLink">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>parseLink
        <span class="apidocSignatureSpan">(resourcePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseLink = function (resourcePath) {
    if (resourcePath.length === 0) {
        /* for DatabaseAccount case, both type and objectBody will be undefined. */
        return {
            type: undefined,
            objectBody: undefined
        };
    }

    if (resourcePath[resourcePath.length - 1] !== "/") {
        resourcePath = resourcePath + "/";
    }

    if (resourcePath[0] !== "/") {
        resourcePath = "/" + resourcePath;
    }

    /*
    / The path will be in the form of /[resourceType]/[resourceId]/ .... /[resourceType]//[resourceType]/[resourceId]/ .... /[resourceType
]/[resourceId]/
    / or /[resourceType]/[resourceId]/ .... /[resourceType]/[resourceId]/[resourceType]/[resourceId]/ .... /[resourceType]/[resourceId
]/
    / The result of split will be in the form of [[[resourceType], [resourceId] ... ,[resourceType], [resourceId], ""]
    / In the first case, to extract the resourceId it will the element before last ( at length -2 ) and the the type will before
 it ( at length -3 )
    / In the second case, to extract the resource type it will the element before last ( at length -2 )
    */
    var pathParts = resourcePath.split("/");
    var id, type;
    if (pathParts.length % 2 === 0) {
        // request in form /[resourceType]/[resourceId]/ .... /[resourceType]/[resourceId].
        id = pathParts[pathParts.length - 2];
        type = pathParts[pathParts.length - 3];
    } else {
        // request in form /[resourceType]/[resourceId]/ .... /[resourceType]/.
        id = pathParts[pathParts.length - 3];
        type = pathParts[pathParts.length - 2];
    }

    var result = {
        type: type,
        objectBody: {
            id: id,
            self: resourcePath
        }
    };

    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {RequestCallback} callback - The callback for the request.
 */
readTrigger: function (triggerLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var resourceInfo = Base.<span class="apidocCodeKeywordSpan">parseLink</span>(triggerLink);

    var isNameBased = Base.isLinkNameBased(triggerLink);
    var path = this.getPathFromLink(triggerLink, "", isNameBased);
    var id = this.getIdFromLink(triggerLink, isNameBased);

    this.read(path, "triggers", id, undefined, options, callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.Base.parsePath" id="apidoc.element.documentdb.Base.parsePath">
        function <span class="apidocSignatureSpan">documentdb.Base.</span>parsePath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parsePath = function (path) {
    var pathParts = [];
    var currentIndex = 0;

    var throwError = function () {
        throw new Error("Path " + path + " is invalid at index " + currentIndex);
    };

    var getEscapedToken = function () {
        var quote = path[currentIndex];
        var newIndex = ++currentIndex;

        while (true) {
            newIndex = path.indexOf(quote, newIndex);
            if (newIndex == -1) {
                throwError();
            }

            if (path[newIndex - 1] !== '\\') break;

            ++newIndex;
        }

        var token = path.substr(currentIndex, newIndex - currentIndex);
        currentIndex = newIndex + 1;
        return token;
    };

    var getToken = function () {
        var newIndex = path.indexOf('/', currentIndex);
        var token = null;
        if (newIndex == -1) {
            token = path.substr(currentIndex);
            currentIndex = path.length;
        }
        else {
            token = path.substr(currentIndex, newIndex - currentIndex);
            currentIndex = newIndex;
        }

        token = token.trim();
        return token;
    };

    while (currentIndex &lt; path.length) {
        if (path[currentIndex] !== '/') {
            throwError();
        }

        if (++currentIndex == path.length) break;

        if (path[currentIndex] === '\"' || path[currentIndex] === '\'') {
            pathParts.push(getEscapedToken());
        }
        else {
            pathParts.push(getToken());
        }
    }

    return pathParts;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
},

extractPartitionKey: function (document, partitionKeyDefinition) {
    if (partitionKeyDefinition &amp;&amp; partitionKeyDefinition.paths &amp;&amp; partitionKeyDefinition.paths.length &gt;
0) {
        var partitionKey = [];
        partitionKeyDefinition.paths.forEach(function (path) {
            var pathParts = Base.<span class="apidocCodeKeywordSpan">parsePath</span>(path);

            var obj = document;
            for (var i = 0; i &lt; pathParts.length; ++i) {
                if (!(pathParts[i] in obj)) {
                    obj = {};
                    break;
                }
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.DocumentBase" id="apidoc.module.documentdb.DocumentBase">module documentdb.DocumentBase</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.DocumentBase.DocumentBase" id="apidoc.element.documentdb.DocumentBase.DocumentBase">
        function <span class="apidocSignatureSpan">documentdb.</span>DocumentBase
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DocumentBase = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentBase.ConnectionPolicy" id="apidoc.element.documentdb.DocumentBase.ConnectionPolicy">
        function <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>ConnectionPolicy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionPolicy = function () {
    Object.defineProperty(this, "_defaultRequestTimeout", {
        value: 60000,
        writable: true,
        configurable: true,
        enumerable: false // this is the default value, so it could be excluded during JSON.stringify
    });

    // defaultMediaRequestTimeout is based upon the blob client timeout and the retry policy.
    Object.defineProperty(this, "_defaultMediaRequestTimeout", {
        value: 300000,
        writable: true,
        configurable: true,
        enumerable: false // this is the default value, so it could be excluded during JSON.stringify
    });

    this.ConnectionMode = AzureDocuments.ConnectionMode.Gateway;
    this.MediaReadMode = AzureDocuments.MediaReadMode.Buffered;
    this.MediaRequestTimeout = this._defaultMediaRequestTimeout;
    this.RequestTimeout = this._defaultRequestTimeout;
    this.EnableEndpointDiscovery = true;
    this.PreferredLocations = [];
    this.RetryOptions = new RetryOptions();
    this.DisableSSLVerification = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            var resourceParts = auth.permissionFeed[i].resource.split("/");
            var rid = resourceParts[resourceParts.length - 1];
            this.resourceTokens[rid] = auth.permissionFeed[i]._token;
        }
    }
}

this.connectionPolicy = connectionPolicy || new AzureDocuments.<span class="apidocCodeKeywordSpan">ConnectionPolicy</span>();
this.defaultHeaders = {};
this.defaultHeaders[Constants.HttpHeaders.CacheControl] = "no-cache";
this.defaultHeaders[Constants.HttpHeaders.Version] = Constants.CurrentVersion;
if (consistencyLevel !== undefined) {
    this.defaultHeaders[Constants.HttpHeaders.ConsistencyLevel] = consistencyLevel;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentBase.DatabaseAccount" id="apidoc.element.documentdb.DocumentBase.DatabaseAccount">
        function <span class="apidocSignatureSpan">documentdb.DocumentBase.</span>DatabaseAccount
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DatabaseAccount = function () {
    this._writableLocations = [];
    this._readableLocations = [];

    Object.defineProperty(this, "DatabasesLink", {
        value: "",
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "MediaLink", {
        value: "",
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "MaxMediaStorageUsageInMB", {
        value: 0,
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "CurrentMediaStorageUsageInMB", {
        value: 0,
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "ConsumedDocumentStorageInMB", {
        value: 0,
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "ReservedDocumentStorageInMB", {
        value: 0,
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "ProvisionedDocumentStorageInMB", {
        value: 0,
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "ConsistencyPolicy", {
        value: "",
        writable: true,
        configurable: true,
        enumerable: true
    });

    Object.defineProperty(this, "WritableLocations", {
        get: function () {
            return this._writableLocations;
        },
        enumerable: true
    });

    Object.defineProperty(this, "ReadableLocations", {
        get: function () {
            return this._readableLocations;
        },
        enumerable: true
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var urlConnection = options.urlConnection || this.urlConnection;

var headers = Base.getHeaders(this, this.defaultHeaders, "get", "", "", "", {});
this.get(urlConnection, "", headers, function (err, result, headers) {
    if (err) return callback(err);

    var databaseAccount = new AzureDocuments.<span class="apidocCodeKeywordSpan">DatabaseAccount</span>();
    databaseAccount.DatabasesLink = "/dbs/";
    databaseAccount.MediaLink = "/media/";
    databaseAccount.MaxMediaStorageUsageInMB = headers[Constants.HttpHeaders.MaxMediaStorageUsageInMB];
    databaseAccount.CurrentMediaStorageUsageInMB = headers[Constants.HttpHeaders.CurrentMediaStorageUsageInMB];
    databaseAccount.ConsistencyPolicy = result.userConsistencyPolicy;

    // WritableLocations and ReadableLocations properties will be available only for geo-replicated database accounts
...</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.DocumentClient" id="apidoc.module.documentdb.DocumentClient">module documentdb.DocumentClient</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.DocumentClient" id="apidoc.element.documentdb.DocumentClient.DocumentClient">
        function <span class="apidocSignatureSpan">documentdb.</span>DocumentClient
        <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentClient(urlConnection, auth, connectionPolicy, consistencyLevel) {
    this.urlConnection = urlConnection;
    if (auth !== undefined) {
        this.masterKey = auth.masterKey;
        this.resourceTokens = auth.resourceTokens;
        if (auth.permissionFeed) {
            this.resourceTokens = {};
            for (var i = 0; i &lt; auth.permissionFeed.length; i++) {
                var resourceParts = auth.permissionFeed[i].resource.split("/");
                var rid = resourceParts[resourceParts.length - 1];
                this.resourceTokens[rid] = auth.permissionFeed[i]._token;
            }
        }
    }

    this.connectionPolicy = connectionPolicy || new AzureDocuments.ConnectionPolicy();
    this.defaultHeaders = {};
    this.defaultHeaders[Constants.HttpHeaders.CacheControl] = "no-cache";
    this.defaultHeaders[Constants.HttpHeaders.Version] = Constants.CurrentVersion;
    if (consistencyLevel !== undefined) {
        this.defaultHeaders[Constants.HttpHeaders.ConsistencyLevel] = consistencyLevel;
    }

    this.defaultHeaders[Constants.HttpHeaders.UserAgent] = Base._getUserAgent();

    // overide this for default query params to be added to the url.
    this.defaultUrlParams = "";

    // Query compatibility mode.
    // Allows to specify compatibility mode used by client when making query requests. Should be removed when
    // application/sql is no longer supported.
    this.queryCompatibilityMode = AzureDocuments.QueryCompatibilityMode.Default;
    this.partitionResolvers = {};

    this.partitionKeyDefinitionCache = {};

    this._globalEndpointManager = new GlobalEndpointManager(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.DocumentClient.prototype" id="apidoc.module.documentdb.DocumentClient.prototype">module documentdb.DocumentClient.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.create" id="apidoc.element.documentdb.DocumentClient.prototype.create">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>create
        <span class="apidocSignatureSpan">(body, path, type, id, initialHeaders, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (body, path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "post", path, id, type, options);

    var that = this;
    // create will use WriteEndpoint since it uses POST operation
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.post(writeEndpoint, path, body, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var path = "/dbs";
    this.<span class="apidocCodeKeywordSpan">create</span>(body, path, "dbs", undefined, undefined, options, callback);
},

/**
 * Creates a collection.
 * &lt;p&gt;
 * A collection is a named logical container for documents. &lt;br&gt;
 * A database may contain zero or more named collections and each collection consists of zero or more JSON documents. &lt;br&amp;#
x3e;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createAttachment" id="apidoc.element.documentdb.DocumentClient.prototype.createAttachment">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createAttachment
        <span class="apidocSignatureSpan">(documentLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createAttachment = function (documentLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "attachments", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.create(body, path, "attachments", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createAttachmentAndUploadMedia" id="apidoc.element.documentdb.DocumentClient.prototype.createAttachmentAndUploadMedia">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createAttachmentAndUploadMedia
        <span class="apidocSignatureSpan">(documentLink, readableStream, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createAttachmentAndUploadMedia = function (documentLink, readableStream, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var initialHeaders = Base.extend({}, this.defaultHeaders);

    // Add required headers slug and content-type.
    if (options.slug) {
        initialHeaders[Constants.HttpHeaders.Slug] = options.slug;
    }

    if (options.contentType) {
        initialHeaders[Constants.HttpHeaders.ContentType] = options.contentType;
    } else {
        initialHeaders[Constants.HttpHeaders.ContentType] = Constants.MediaTypes.OctetStream;
    }

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "attachments", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.create(readableStream, path, "attachments", id, initialHeaders, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createCollection" id="apidoc.element.documentdb.DocumentClient.prototype.createCollection">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createCollection
        <span class="apidocSignatureSpan">(databaseLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createCollection = function (databaseLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "colls", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.create(body, path, "colls", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createDatabase" id="apidoc.element.documentdb.DocumentClient.prototype.createDatabase">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createDatabase
        <span class="apidocSignatureSpan">(body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDatabase = function (body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var path = "/dbs";
    this.create(body, path, "dbs", undefined, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createDocument" id="apidoc.element.documentdb.DocumentClient.prototype.createDocument">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createDocument
        <span class="apidocSignatureSpan">(documentsFeedOrDatabaseLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDocument = function (documentsFeedOrDatabaseLink, body, options, callback) {
    var partitionResolver = this.partitionResolvers[documentsFeedOrDatabaseLink];

    var collectionLink;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLink = documentsFeedOrDatabaseLink;
    } else {
        collectionLink = this.resolveCollectionLinkForCreate(partitionResolver, body);
    }

    this.createDocumentPrivate(collectionLink, body, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createDocumentPrivate" id="apidoc.element.documentdb.DocumentClient.prototype.createDocumentPrivate">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createDocumentPrivate
        <span class="apidocSignatureSpan">(collectionLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDocumentPrivate = function (collectionLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var that = this;

    var task = function () {
        // Generate random document id if the id is missing in the payload and options.disableAutomaticIdGeneration != true
        if ((body.id === undefined || body.id === "") &amp;&amp; !options.disableAutomaticIdGeneration) {
            body.id = Base.generateGuidId();
        }

        var err = {};
        if (!that.isResourceValid(body, err)) {
            callback(err);
            return;
        }

        var isNameBased = Base.isLinkNameBased(collectionLink);
        var path = that.getPathFromLink(collectionLink, "docs", isNameBased);
        var id = that.getIdFromLink(collectionLink, isNameBased);

        that.create(body, path, "docs", id, undefined, options, callback);
    };

    if (options.partitionKey === undefined) {
        this.getPartitionKeyDefinition(collectionLink, function (err, partitionKeyDefinition, response, headers) {
            if (err) return callback(err, response, headers);
            options.partitionKey = that.extractPartitionKey(body, partitionKeyDefinition);

            task();
        });
    }
    else {
        task();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var collectionLink;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLink = documentsFeedOrDatabaseLink;
    } else {
        collectionLink = this.resolveCollectionLinkForCreate(partitionResolver, body);
    }

    this.<span class="apidocCodeKeywordSpan">createDocumentPrivate</span>(collectionLink, body, options, callback);
},

/**
 * Create an attachment for the document object.
 * &lt;p&gt;
 * Each document may contain zero or more attachments. Attachments can be of any MIME type - text, image, binary data. &lt;br&amp;#
x3e;
 * These are stored externally in Azure Blob storage. Attachments are automatically deleted when the parent document is deleted.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createPermission" id="apidoc.element.documentdb.DocumentClient.prototype.createPermission">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createPermission
        <span class="apidocSignatureSpan">(userLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createPermission = function (userLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(userLink);
    var path = this.getPathFromLink(userLink, "permissions", isNameBased);
    var id = this.getIdFromLink(userLink, isNameBased);

    this.create(body, path, "permissions", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createStoredProcedure" id="apidoc.element.documentdb.DocumentClient.prototype.createStoredProcedure">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createStoredProcedure
        <span class="apidocSignatureSpan">(collectionLink, sproc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createStoredProcedure = function (collectionLink, sproc, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (sproc.serverScript) {
        sproc.body = sproc.serverScript.toString();
    } else if (sproc.body) {
        sproc.body = sproc.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(sproc, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "sprocs", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.create(sproc, path, "sprocs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createTrigger" id="apidoc.element.documentdb.DocumentClient.prototype.createTrigger">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createTrigger
        <span class="apidocSignatureSpan">(collectionLink, trigger, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createTrigger = function (collectionLink, trigger, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (trigger.serverScript) {
        trigger.body = trigger.serverScript.toString();
    } else if (trigger.body) {
        trigger.body = trigger.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(trigger, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "triggers", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.create(trigger, path, "triggers", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createUser" id="apidoc.element.documentdb.DocumentClient.prototype.createUser">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createUser
        <span class="apidocSignatureSpan">(databaseLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUser = function (databaseLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "users", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.create(body, path, "users", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.createUserDefinedFunction" id="apidoc.element.documentdb.DocumentClient.prototype.createUserDefinedFunction">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>createUserDefinedFunction
        <span class="apidocSignatureSpan">(collectionLink, udf, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUserDefinedFunction = function (collectionLink, udf, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (udf.serverScript) {
        udf.body = udf.serverScript.toString();
    } else if (udf.body) {
        udf.body = udf.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(udf, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "udfs", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.create(udf, path, "udfs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.delete" id="apidoc.element.documentdb.DocumentClient.prototype.delete">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>delete
        <span class="apidocSignatureSpan">(url, path, headers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (url, path, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "DELETE", url, path, undefined, this.defaultUrlParams
, headers, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
deleteResource: function (path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "delete", path, id, type, options);

    var that = this;
    // deleteResource will use WriteEndpoint since it uses DELETE operation
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.<span class="apidocCodeKeywordSpan">delete</span>(writeEndpoint, path, headers, callback);
    });
},

/** @ignore */
get: function (url, path, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "GET", url, path, undefined, this
.defaultUrlParams, headers, callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteAttachment" id="apidoc.element.documentdb.DocumentClient.prototype.deleteAttachment">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteAttachment
        <span class="apidocSignatureSpan">(attachmentLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteAttachment = function (attachmentLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(attachmentLink);
    var path = this.getPathFromLink(attachmentLink, "", isNameBased);
    var id = this.getIdFromLink(attachmentLink, isNameBased);

    this.deleteResource(path, "attachments", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteCollection" id="apidoc.element.documentdb.DocumentClient.prototype.deleteCollection">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteCollection
        <span class="apidocSignatureSpan">(collectionLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteCollection = function (collectionLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.deleteResource(path, "colls", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteConflict" id="apidoc.element.documentdb.DocumentClient.prototype.deleteConflict">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteConflict
        <span class="apidocSignatureSpan">(conflictLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteConflict = function (conflictLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(conflictLink);
    var path = this.getPathFromLink(conflictLink, "", isNameBased);
    var id = this.getIdFromLink(conflictLink, isNameBased);

    this.deleteResource(path, "conflicts", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteDatabase" id="apidoc.element.documentdb.DocumentClient.prototype.deleteDatabase">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteDatabase
        <span class="apidocSignatureSpan">(databaseLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteDatabase = function (databaseLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);
    this.deleteResource(path, "dbs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteDocument" id="apidoc.element.documentdb.DocumentClient.prototype.deleteDocument">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteDocument
        <span class="apidocSignatureSpan">(documentLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteDocument = function (documentLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.deleteResource(path, "docs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deletePermission" id="apidoc.element.documentdb.DocumentClient.prototype.deletePermission">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deletePermission
        <span class="apidocSignatureSpan">(permissionLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deletePermission = function (permissionLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(permissionLink);
    var path = this.getPathFromLink(permissionLink, "", isNameBased);
    var id = this.getIdFromLink(permissionLink, isNameBased);

    this.deleteResource(path, "permissions", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteResource" id="apidoc.element.documentdb.DocumentClient.prototype.deleteResource">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteResource
        <span class="apidocSignatureSpan">(path, type, id, initialHeaders, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteResource = function (path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "delete", path, id, type, options);

    var that = this;
    // deleteResource will use WriteEndpoint since it uses DELETE operation
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.delete(writeEndpoint, path, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);
    this.<span class="apidocCodeKeywordSpan">deleteResource</span>(path, "dbs", id, undefined, options, callback);
},

/**
 * Delete the collection object.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink    - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteStoredProcedure" id="apidoc.element.documentdb.DocumentClient.prototype.deleteStoredProcedure">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteStoredProcedure
        <span class="apidocSignatureSpan">(sprocLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteStoredProcedure = function (sprocLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(sprocLink);
    var path = this.getPathFromLink(sprocLink, "", isNameBased);
    var id = this.getIdFromLink(sprocLink, isNameBased);

    this.deleteResource(path, "sprocs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteTrigger" id="apidoc.element.documentdb.DocumentClient.prototype.deleteTrigger">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteTrigger
        <span class="apidocSignatureSpan">(triggerLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteTrigger = function (triggerLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(triggerLink);
    var path = this.getPathFromLink(triggerLink, "", isNameBased);
    var id = this.getIdFromLink(triggerLink, isNameBased);

    this.deleteResource(path, "triggers", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteUser" id="apidoc.element.documentdb.DocumentClient.prototype.deleteUser">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteUser
        <span class="apidocSignatureSpan">(userLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteUser = function (userLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(userLink);
    var path = this.getPathFromLink(userLink, "", isNameBased);
    var id = this.getIdFromLink(userLink, isNameBased);

    this.deleteResource(path, "users", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.deleteUserDefinedFunction" id="apidoc.element.documentdb.DocumentClient.prototype.deleteUserDefinedFunction">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>deleteUserDefinedFunction
        <span class="apidocSignatureSpan">(udfLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteUserDefinedFunction = function (udfLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(udfLink);
    var path = this.getPathFromLink(udfLink, "", isNameBased);
    var id = this.getIdFromLink(udfLink, isNameBased);

    this.deleteResource(path, "udfs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.executeStoredProcedure" id="apidoc.element.documentdb.DocumentClient.prototype.executeStoredProcedure">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>executeStoredProcedure
        <span class="apidocSignatureSpan">(sprocLink, params, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeStoredProcedure = function (sprocLink, params, options, callback) {
    if (!callback &amp;&amp; !options) {
        callback = params;
        params = null;
        options = {}
    }
    else if(!callback) {
        callback = options;
        options = {};
    }

    var defaultHeaders = this.defaultHeaders;
    var initialHeaders = {};
    initialHeaders = Base.extend(initialHeaders, defaultHeaders);

    // Accept a single parameter or an array of parameters.
    if (params !== null &amp;&amp; params !== undefined &amp;&amp; params.constructor !== Array) {
        params = [params];
    }

    var isNameBased = Base.isLinkNameBased(sprocLink);
    var path = this.getPathFromLink(sprocLink, "", isNameBased);
    var id = this.getIdFromLink(sprocLink, isNameBased);

    var headers = Base.getHeaders(this, initialHeaders, "post", path, id, "sprocs", options);

    // executeStoredProcedure will use WriteEndpoint since it uses POST operation
    var that = this;
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.post(writeEndpoint, path, params, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.extractPartitionKey" id="apidoc.element.documentdb.DocumentClient.prototype.extractPartitionKey">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>extractPartitionKey
        <span class="apidocSignatureSpan">(document, partitionKeyDefinition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extractPartitionKey = function (document, partitionKeyDefinition) {
    if (partitionKeyDefinition &amp;&amp; partitionKeyDefinition.paths &amp;&amp; partitionKeyDefinition.paths.length &gt; 0) {
        var partitionKey = [];
        partitionKeyDefinition.paths.forEach(function (path) {
            var pathParts = Base.parsePath(path);

            var obj = document;
            for (var i = 0; i &lt; pathParts.length; ++i) {
                if (!(pathParts[i] in obj)) {
                    obj = {};
                    break;
                }

                obj = obj[pathParts[i]];
            }

            partitionKey.push(obj);
        });

        return partitionKey;
    }

    return undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    that.replace(newDocument, path, "docs", id, undefined, options, callback);
};

if (options.partitionKey === undefined) {
    this.getPartitionKeyDefinition(Base.getCollectionLink(documentLink), function (err, partitionKeyDefinition, response, headers
) {
        if (err) return callback(err, response, headers);
        options.partitionKey = that.<span class="apidocCodeKeywordSpan">extractPartitionKey</span>(newDocument, partitionKeyDefinition
);

        task();
    });
}
else {
    task();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.get" id="apidoc.element.documentdb.DocumentClient.prototype.get">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>get
        <span class="apidocSignatureSpan">(url, path, headers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (url, path, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "GET", url, path, undefined, this.defaultUrlParams
, headers, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var attachmentId = Base.getAttachmentIdFromMediaId(resourceInfo.objectBody.id).toLowerCase();

    var headers = Base.getHeaders(this, initialHeaders, "get", path, attachmentId, "media", {});

    var that = this;
    // readMedia will always use WriteEndpoint since it's not replicated in readable Geo regions
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.<span class="apidocCodeKeywordSpan">get</span>(writeEndpoint, path, headers, callback);
    });
},

/**
 * Update media for the attachment
 * @memberof DocumentClient
 * @instance
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.getDatabaseAccount" id="apidoc.element.documentdb.DocumentClient.prototype.getDatabaseAccount">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getDatabaseAccount
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDatabaseAccount = function (options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var urlConnection = options.urlConnection || this.urlConnection;

    var headers = Base.getHeaders(this, this.defaultHeaders, "get", "", "", "", {});
    this.get(urlConnection, "", headers, function (err, result, headers) {
        if (err) return callback(err);

        var databaseAccount = new AzureDocuments.DatabaseAccount();
        databaseAccount.DatabasesLink = "/dbs/";
        databaseAccount.MediaLink = "/media/";
        databaseAccount.MaxMediaStorageUsageInMB = headers[Constants.HttpHeaders.MaxMediaStorageUsageInMB];
        databaseAccount.CurrentMediaStorageUsageInMB = headers[Constants.HttpHeaders.CurrentMediaStorageUsageInMB];
        databaseAccount.ConsistencyPolicy = result.userConsistencyPolicy;

        // WritableLocations and ReadableLocations properties will be available only for geo-replicated database accounts
        if (Constants.WritableLocations in result) {
            databaseAccount._writableLocations = result[Constants.WritableLocations];
        }
        if (Constants.ReadableLocations in result) {
            databaseAccount._readableLocations = result[Constants.ReadableLocations];
        }

        callback(undefined, databaseAccount, headers);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof GlobalEndpointManager
 * @instance
 * @param {function} callback        - The callback function which takes databaseAccount(object) as an argument.
*/
_getDatabaseAccount: function (callback) {
    var that = this;
    var options = { urlConnection: this.defaultEndpoint };
    this.client.<span class="apidocCodeKeywordSpan">getDatabaseAccount</span>(options, function (err, databaseAccount) {
        // If for any reason(non - globaldb related), we are not able to get the database account from the above call to getDatabaseAccount
,
        // we would try to get this information from any of the preferred locations that the user might have specified(by creating
 a locational endpoint)
        // and keeping eating the exception until we get the database account and return None at the end, if we are not able to
get that info from any endpoints
        if (err) {
            var func = function (defaultEndpoint, preferredLocations, index) {
                if (index &lt; preferredLocations.length) {
                    var locationalEndpoint = that._getLocationalEndpoint(defaultEndpoint, preferredLocations[index]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.getIdFromLink" id="apidoc.element.documentdb.DocumentClient.prototype.getIdFromLink">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getIdFromLink
        <span class="apidocSignatureSpan">(resourceLink, isNameBased)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getIdFromLink = function (resourceLink, isNameBased) {
    if (isNameBased) {
        return resourceLink;
    } else {
        return Base.parseLink(resourceLink).objectBody.id.toLowerCase();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "colls", isNameBased);
    var id = this.<span class="apidocCodeKeywordSpan">getIdFromLink</span>(databaseLink, isNameBased);

    this.create(body, path, "colls", id, undefined, options, callback);
},

/**
 * Create a document.
 * &lt;p&gt;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.getPartitionKeyDefinition" id="apidoc.element.documentdb.DocumentClient.prototype.getPartitionKeyDefinition">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getPartitionKeyDefinition
        <span class="apidocSignatureSpan">(collectionLink, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPartitionKeyDefinition = function (collectionLink, callback) {
    // $ISSUE-felixfan-2016-03-17: Make name based path and link based path use the same key
    // $ISSUE-felixfan-2016-03-17: Refresh partitionKeyDefinitionCache when necessary
    if (collectionLink in this.partitionKeyDefinitionCache) {
        return callback(undefined, this.partitionKeyDefinitionCache[collectionLink]);
    }

    var that = this;

    this.readCollection(collectionLink, function (err, collection, headers) {
        if (err) return callback(err, undefined, collection, headers);
        callback(err, that.partitionKeyDefinitionCache[collectionLink], collection, headers);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var path = that.getPathFromLink(documentLink, "", isNameBased);
    var id = that.getIdFromLink(documentLink, isNameBased);

    that.replace(newDocument, path, "docs", id, undefined, options, callback);
};

if (options.partitionKey === undefined) {
    this.<span class="apidocCodeKeywordSpan">getPartitionKeyDefinition</span>(Base.getCollectionLink(documentLink), function (err
, partitionKeyDefinition, response, headers) {
        if (err) return callback(err, response, headers);
        options.partitionKey = that.extractPartitionKey(newDocument, partitionKeyDefinition);

        task();
    });
}
else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.getPathFromLink" id="apidoc.element.documentdb.DocumentClient.prototype.getPathFromLink">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getPathFromLink
        <span class="apidocSignatureSpan">(resourceLink, resourceType, isNameBased)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPathFromLink = function (resourceLink, resourceType, isNameBased) {
    if (isNameBased) {
        if (resourceType) {
            return "/" + encodeURI(resourceLink) + "/" + resourceType;
        } else {
            return "/" + encodeURI(resourceLink);
        }
    } else {
        if (resourceType) {
            return "/" + resourceLink + resourceType + "/";
        } else {
            return "/" + resourceLink;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.<span class="apidocCodeKeywordSpan">getPathFromLink</span>(databaseLink, "colls", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.create(body, path, "colls", id, undefined, options, callback);
},

/**
 * Create a document.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.getReadEndpoint" id="apidoc.element.documentdb.DocumentClient.prototype.getReadEndpoint">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getReadEndpoint
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getReadEndpoint = function (callback) {
    this._globalEndpointManager.getReadEndpoint(function (readEndpoint) {
        callback(readEndpoint);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/** Gets the curent read endpoint for a geo-replicated database account.
 * @memberof DocumentClient
 * @instance
 * @param {function} callback        - The callback function which takes endpoint(string) as an argument.
*/
getReadEndpoint: function (callback) {
    this._globalEndpointManager.<span class="apidocCodeKeywordSpan">getReadEndpoint</span>(function (readEndpoint) {
        callback(readEndpoint);
    });
},

/** Send a request for creating a database.
 * &lt;p&gt;
 *  A database manages users, permissions and a set of collections.  &lt;br&gt;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.getWriteEndpoint" id="apidoc.element.documentdb.DocumentClient.prototype.getWriteEndpoint">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>getWriteEndpoint
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWriteEndpoint = function (callback) {
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        callback(writeEndpoint);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    {
/** Gets the curent write endpoint for a geo-replicated database account.
 * @memberof DocumentClient
 * @instance
 * @param {function} callback        - The callback function which takes endpoint(string) as an argument.
*/
getWriteEndpoint: function (callback) {
    this._globalEndpointManager.<span class="apidocCodeKeywordSpan">getWriteEndpoint</span>(function (writeEndpoint) {
        callback(writeEndpoint);
    });
},

/** Gets the curent read endpoint for a geo-replicated database account.
 * @memberof DocumentClient
 * @instance
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.head" id="apidoc.element.documentdb.DocumentClient.prototype.head">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>head
        <span class="apidocSignatureSpan">(url, path, headers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">head = function (url, path, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "HEAD", url, path, undefined, this.defaultUrlParams
, headers, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.isPartitionResolveFunctionDefined" id="apidoc.element.documentdb.DocumentClient.prototype.isPartitionResolveFunctionDefined">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>isPartitionResolveFunctionDefined
        <span class="apidocSignatureSpan">(partionResolver, functionName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPartitionResolveFunctionDefined = function (partionResolver, functionName) {
    if (partionResolver === null || partionResolver === undefined) {
        return {
            valid: false,
            error: new Error("The partition resolver is null or undefined")
        };
    }

    if (typeof partionResolver[functionName] === "function") {
        return {
            valid: true
        };
    } else {
        return {
            valid: false,
            error: new Error(this.sprintf("The partition resolver does not implement method %s. The type of %s is \"%s\"", functionName
, functionName, typeof partionResolver[functionName]))
        };
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (partionResolver === null || partionResolver === undefined) {
    return {
        valid: false,
        error: new Error("The partition resolver is null or undefined")
    };
}

var validation = this.<span class="apidocCodeKeywordSpan">isPartitionResolveFunctionDefined</span>(partionResolver, "getPartitionKey
");
if (!validation.valid) {
    return validation;
}
validation = this.isPartitionResolveFunctionDefined(partionResolver, "resolveForCreate");
if (!validation.valid) {
    return validation;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.isPartitionResolverValid" id="apidoc.element.documentdb.DocumentClient.prototype.isPartitionResolverValid">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>isPartitionResolverValid
        <span class="apidocSignatureSpan">(partionResolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isPartitionResolverValid = function (partionResolver) {
    if (partionResolver === null || partionResolver === undefined) {
        return {
            valid: false,
            error: new Error("The partition resolver is null or undefined")
        };
    }

    var validation = this.isPartitionResolveFunctionDefined(partionResolver, "getPartitionKey");
    if (!validation.valid) {
        return validation;
    }
    validation = this.isPartitionResolveFunctionDefined(partionResolver, "resolveForCreate");
    if (!validation.valid) {
        return validation;
    }
    validation = this.isPartitionResolveFunctionDefined(partionResolver, "resolveForRead");
    return validation;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        }
    }
    return true;
},

/** @ignore */
resolveCollectionLinkForCreate: function (partitionResolver, document) {
    var validation = this.<span class="apidocCodeKeywordSpan">isPartitionResolverValid</span>(partitionResolver);
    if (!validation.valid) {
        throw validation.error;
    }

    var partitionKey = partitionResolver.getPartitionKey(document);
    return partitionResolver.resolveForCreate(partitionKey);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.isResourceValid" id="apidoc.element.documentdb.DocumentClient.prototype.isResourceValid">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>isResourceValid
        <span class="apidocSignatureSpan">(resource, err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isResourceValid = function (resource, err) {
    if (resource.id) {
        if (typeof resource.id !== "string") {
            err.message = "Id must be a string.";
            return false;
        }

        if (resource.id.indexOf("/") !== -1 || resource.id.indexOf("\\") !== -1 || resource.id.indexOf("?") !== -1 || resource.id
.indexOf("#") !== -1) {
            err.message = "Id contains illegal chars.";
            return false;
        }
        if (resource.id[resource.id.length - 1] === " ") {
            err.message = "Id ends with a space.";
            return false;
        }
    }
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
createDatabase: function (body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.<span class="apidocCodeKeywordSpan">isResourceValid</span>(body, err)) {
        callback(err);
        return;
    }

    var path = "/dbs";
    this.create(body, path, "dbs", undefined, undefined, options, callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.post" id="apidoc.element.documentdb.DocumentClient.prototype.post">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>post
        <span class="apidocSignatureSpan">(url, path, body, headers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">post = function (url, path, body, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "POST", url, path, body, this.defaultUrlParams
, headers, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var id = this.getIdFromLink(sprocLink, isNameBased);

    var headers = Base.getHeaders(this, initialHeaders, "post", path, id, "sprocs", options);

    // executeStoredProcedure will use WriteEndpoint since it uses POST operation
    var that = this;
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.<span class="apidocCodeKeywordSpan">post</span>(writeEndpoint, path, params, headers, callback);
    });
},

/**
 * Replace the offer object.
 * @memberof DocumentClient
 * @instance
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.put" id="apidoc.element.documentdb.DocumentClient.prototype.put">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>put
        <span class="apidocSignatureSpan">(url, path, body, headers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">put = function (url, path, body, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "PUT", url, path, body, this.defaultUrlParams
, headers, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var path = "/" + mediaLink;
    var attachmentId = Base.getAttachmentIdFromMediaId(resourceInfo.objectBody.id).toLowerCase();
    var headers = Base.getHeaders(this, initialHeaders, "put", path, attachmentId, "media", options);

    // updateMedia will use WriteEndpoint since it uses PUT operation
    var that = this;
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.<span class="apidocCodeKeywordSpan">put</span>(writeEndpoint, path, readableStream, headers, callback);
    });
},

/**
 * Execute the StoredProcedure represented by the object with partition key.
 * @memberof DocumentClient
 * @instance
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryAttachments" id="apidoc.element.documentdb.DocumentClient.prototype.queryAttachments">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryAttachments
        <span class="apidocSignatureSpan">(documentLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryAttachments = function (documentLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "attachments", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
                that,
                path,
                "attachments",
                id,
                function (result) { return result.Attachments; },
                function (parent, body) { return body; },
                query,
                options,
                callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} documentLink   - The self-link of the document.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
*/
 readAttachments: function (documentLink, options) {
     return this.<span class="apidocCodeKeywordSpan">queryAttachments</span>(documentLink, undefined, options);
 },

 /**
  * Get all users in this database.
  * @memberof DocumentClient
  * @instance
  * @param {string} databaseLink       - The self-link of the database.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryCollections" id="apidoc.element.documentdb.DocumentClient.prototype.queryCollections">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryCollections
        <span class="apidocSignatureSpan">(databaseLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryCollections = function (databaseLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "colls", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "colls",
            id,
            function (result) { return result.DocumentCollections; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} databaseLink   - The self-link of the database.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
 */
readCollections: function (databaseLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryCollections</span>(databaseLink, undefined, options);
},

/**
 * Get all documents in this collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryConflicts" id="apidoc.element.documentdb.DocumentClient.prototype.queryConflicts">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryConflicts
        <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryConflicts = function (collectionLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "conflicts", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "conflicts",
            id,
            function (result) { return result.Conflicts; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of QueryIterator to handle reading feed.
 */
readConflicts: function (collectionLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryConflicts</span>(collectionLink, undefined, options);
},

/** Lists all databases that satisfy a query.
 * @memberof DocumentClient
 * @instance
 * @param {SqlQuerySpec | string} query - A SQL query.
 * @param {FeedOptions} [options]       - The feed options.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryDatabases" id="apidoc.element.documentdb.DocumentClient.prototype.queryDatabases">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryDatabases
        <span class="apidocSignatureSpan">(query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryDatabases = function (query, options) {
    var that = this;
    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
                that,
                "/dbs",
                "dbs",
                "",
                function (result) { return result.Databases; },
                function (parent, body) { return body; },
                query,
                options,
                callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/** Lists all databases.
 * @memberof DocumentClient
 * @instance
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
*/
readDatabases: function (options) {
    return this.<span class="apidocCodeKeywordSpan">queryDatabases</span>(undefined, options);
},

/**
 * Get all collections in this database.
 * @memberof DocumentClient
 * @instance
 * @param {string} databaseLink   - The self-link of the database.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryDocuments" id="apidoc.element.documentdb.DocumentClient.prototype.queryDocuments">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryDocuments
        <span class="apidocSignatureSpan">(documentsFeedOrDatabaseLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryDocuments = function (documentsFeedOrDatabaseLink, query, options) {
    var partitionResolver = this.partitionResolvers[documentsFeedOrDatabaseLink];
    var collectionLinks;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLinks = [documentsFeedOrDatabaseLink];
    } else {
        collectionLinks = partitionResolver.resolveForRead(options &amp;&amp; options.partitionKey);
    }

    return this.queryDocumentsPrivate(collectionLinks, query, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
 */
readDocuments: function (collectionLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryDocuments</span>(collectionLink, undefined, options);
},

/**
 * Get all Partition key Ranges in this collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryDocumentsPrivate" id="apidoc.element.documentdb.DocumentClient.prototype.queryDocumentsPrivate">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryDocumentsPrivate
        <span class="apidocSignatureSpan">(collectionLinks, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryDocumentsPrivate = function (collectionLinks, query, options) {
    var that = this;

    var fetchFunctions = Base.map(collectionLinks, function (collectionLink) {
        var isNameBased = Base.isLinkNameBased(collectionLink);
        var path = that.getPathFromLink(collectionLink, "docs", isNameBased);
        var id = that.getIdFromLink(collectionLink, isNameBased);

        return function (options, callback) {
            that.queryFeed.call(that,
            that,
            path,
            "docs",
            id,
            function (result) { return result.Documents; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
        };
    });

    return new QueryIterator(this, query, options, fetchFunctions, collectionLinks);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var collectionLinks;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLinks = [documentsFeedOrDatabaseLink];
    } else {
        collectionLinks = partitionResolver.resolveForRead(options &amp;&amp; options.partitionKey);
    }

    return this.<span class="apidocCodeKeywordSpan">queryDocumentsPrivate</span>(collectionLinks, query, options);
},

/**
 * Query the partition key ranges
 * @memberof DocumentClient
 * @instance
 * @param {string} databaseLink           - The self-link of the database.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryFeed" id="apidoc.element.documentdb.DocumentClient.prototype.queryFeed">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryFeed
        <span class="apidocSignatureSpan">(documentclient, path, type, id, resultFn, createFn, query, options, callback, partitionKeyRangeId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryFeed = function (documentclient, path, type, id, resultFn, createFn, query, options, callback, partitionKeyRangeId) {
    var that = this;

    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var successCallback = function (err, result, responseHeaders) {
        if (err) return callback(err, undefined, responseHeaders);
        var bodies;
        if (query) {
            bodies = resultFn(result);
        }
        else {
            bodies = Base.map(resultFn(result), function (body) {
                return createFn(that, body);
            });
        }

        callback(undefined, bodies, responseHeaders);
    };

    // Query operations will use ReadEndpoint even though it uses GET(for queryFeed) and POST(for regular query operations)
    this._globalEndpointManager.getReadEndpoint(function (readEndpoint) {
        var initialHeaders = Base.extend({}, documentclient.defaultHeaders);
        if (query === undefined) {
            var headers = Base.getHeaders(documentclient, initialHeaders, "get", path, id, type, options, partitionKeyRangeId);

            documentclient.get(readEndpoint, path, headers, successCallback);
        } else {
            initialHeaders[Constants.HttpHeaders.IsQuery] = "true";
            switch (that.queryCompatibilityMode) {
                case AzureDocuments.QueryCompatibilityMode.SqlQuery:
                    initialHeaders[Constants.HttpHeaders.ContentType] = Constants.MediaTypes.SQL;
                    break;
                case AzureDocuments.QueryCompatibilityMode.Query:
                case AzureDocuments.QueryCompatibilityMode.Default:
                default:
                    if (typeof query === "string") {
                        query = { query: query };  // Converts query text to query object.
                    }
                    initialHeaders[Constants.HttpHeaders.ContentType] = Constants.MediaTypes.QueryJson;
                    break;
            }

            var headers = Base.getHeaders(documentclient, initialHeaders, "post", path, id, type, options, partitionKeyRangeId);
            documentclient.post(readEndpoint, path, query, headers, successCallback);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryOffers" id="apidoc.element.documentdb.DocumentClient.prototype.queryOffers">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryOffers
        <span class="apidocSignatureSpan">(query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryOffers = function (query, options) {
    var that = this;
    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
                that,
                "/offers",
                "offers",
                "",
                function (result) { return result.Offers; },
                function (parent, body) { return body; },
                query,
                options,
                callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/** Lists all offers.
 * @memberof DocumentClient
 * @instance
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
*/
readOffers: function (options) {
    return this.<span class="apidocCodeKeywordSpan">queryOffers</span>(undefined, options);
},

/** Lists all offers that satisfy a query.
 * @memberof DocumentClient
 * @instance
 * @param {SqlQuerySpec | string} query - A SQL query.
 * @param {FeedOptions} [options]       - The feed options.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryPartitionKeyRanges" id="apidoc.element.documentdb.DocumentClient.prototype.queryPartitionKeyRanges">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryPartitionKeyRanges
        <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryPartitionKeyRanges = function (collectionLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "pkranges", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "pkranges",
            id,
            function (result) { return result.PartitionKeyRanges; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
 * @ignore
 */
readPartitionKeyRanges: function (collectionLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryPartitionKeyRanges</span>(collectionLink, undefined, options);
},

/**
* Get all attachments for this document.
* @memberof DocumentClient
* @instance
* @param {string} documentLink   - The self-link of the document.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryPermissions" id="apidoc.element.documentdb.DocumentClient.prototype.queryPermissions">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryPermissions
        <span class="apidocSignatureSpan">(userLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryPermissions = function (userLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(userLink);
    var path = this.getPathFromLink(userLink, "permissions", isNameBased);
    var id = this.getIdFromLink(userLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "permissions",
            id,
            function (result) { return result.Permissions; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} userLink           - The self-link of the user.
 * @param {FeedOptions} [feedOptions] - The feed options.
 * @returns {QueryIterator}           - An instance of queryIterator to handle reading feed.
 */
readPermissions: function (userLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryPermissions</span>(userLink, undefined, options);
},

/**
 * Get all triggers in this collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink   - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryStoredProcedures" id="apidoc.element.documentdb.DocumentClient.prototype.queryStoredProcedures">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryStoredProcedures
        <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryStoredProcedures = function (collectionLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "sprocs", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "sprocs",
            id,
            function (result) { return result.StoredProcedures; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
 */
readStoredProcedures: function (collectionLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryStoredProcedures</span>(collectionLink, undefined, options);
},

/**
 * Get all conflicts in this collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryTriggers" id="apidoc.element.documentdb.DocumentClient.prototype.queryTriggers">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryTriggers
        <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryTriggers = function (collectionLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "triggers", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "triggers",
            id,
            function (result) { return result.Triggers; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink   - The self-link of the collection.
 * @param {FeedOptions} [options]   - The feed options.
 * @returns {QueryIterator}         - An instance of queryIterator to handle reading feed.
 */
readTriggers: function (collectionLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryTriggers</span>(collectionLink, undefined, options);
},

/**
 * Get all UserDefinedFunctions in this collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryUserDefinedFunctions" id="apidoc.element.documentdb.DocumentClient.prototype.queryUserDefinedFunctions">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryUserDefinedFunctions
        <span class="apidocSignatureSpan">(collectionLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryUserDefinedFunctions = function (collectionLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "udfs", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "udfs",
            id,
            function (result) { return result.UserDefinedFunctions; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
 * @param {FeedOptions} [options] - The feed options.
 * @returns {QueryIterator}       - An instance of queryIterator to handle reading feed.
 */
readUserDefinedFunctions: function (collectionLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryUserDefinedFunctions</span>(collectionLink, undefined, options);
},

/**
 * Get all StoredProcedures in this collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.queryUsers" id="apidoc.element.documentdb.DocumentClient.prototype.queryUsers">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>queryUsers
        <span class="apidocSignatureSpan">(databaseLink, query, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryUsers = function (databaseLink, query, options) {
    var that = this;

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "users", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    return new QueryIterator(this, query, options, function (options, callback) {
        that.queryFeed.call(that,
            that,
            path,
            "users",
            id,
            function (result) { return result.Users; },
            function (parent, body) { return body; },
            query,
            options,
            callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @memberof DocumentClient
 * @instance
 * @param {string} databaseLink       - The self-link of the database.
 * @param {FeedOptions} [feedOptions] - The feed options.
 * @returns {QueryIterator}           - An instance of queryIterator to handle reading feed.
 */
readUsers: function (databaseLink, options) {
    return this.<span class="apidocCodeKeywordSpan">queryUsers</span>(databaseLink, undefined, options);
},

/**
 * Get all permissions for this user.
 * @memberof DocumentClient
 * @instance
 * @param {string} userLink           - The self-link of the user.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.read" id="apidoc.element.documentdb.DocumentClient.prototype.read">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>read
        <span class="apidocSignatureSpan">(path, type, id, initialHeaders, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "get", path, id, type, options);

    var that = this;
    // read will use ReadEndpoint since it uses GET operation
    this._globalEndpointManager.getReadEndpoint(function (readEndpoint) {
        that.get(readEndpoint, path, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.<span class="apidocCodeKeywordSpan">read</span>(path, "dbs", id, undefined, options, callback);
},

/**
 * Reads a collection.
 * @memberof DocumentClient
 * @instance
 * @param {string} collectionLink       - The self-link of the collection.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readAttachment" id="apidoc.element.documentdb.DocumentClient.prototype.readAttachment">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readAttachment
        <span class="apidocSignatureSpan">(attachmentLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readAttachment = function (attachmentLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(attachmentLink);
    var path = this.getPathFromLink(attachmentLink, "", isNameBased);
    var id = this.getIdFromLink(attachmentLink, isNameBased);

    this.read(path, "attachments", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readAttachments" id="apidoc.element.documentdb.DocumentClient.prototype.readAttachments">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readAttachments
        <span class="apidocSignatureSpan">(documentLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readAttachments = function (documentLink, options) {
    return this.queryAttachments(documentLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readCollection" id="apidoc.element.documentdb.DocumentClient.prototype.readCollection">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readCollection
        <span class="apidocSignatureSpan">(collectionLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readCollection = function (collectionLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    var that = this;
    this.read(path, "colls", id, undefined, options, function (err, collection, headers) {
        if (err) return callback(err, collection, headers);
        that.partitionKeyDefinitionCache[collectionLink] = collection.partitionKey;
        callback(err, collection, headers);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // $ISSUE-felixfan-2016-03-17: Refresh partitionKeyDefinitionCache when necessary
    if (collectionLink in this.partitionKeyDefinitionCache) {
        return callback(undefined, this.partitionKeyDefinitionCache[collectionLink]);
    }

    var that = this;

    this.<span class="apidocCodeKeywordSpan">readCollection</span>(collectionLink, function (err, collection, headers) {
        if (err) return callback(err, undefined, collection, headers);
        callback(err, that.partitionKeyDefinitionCache[collectionLink], collection, headers);
    });
},

extractPartitionKey: function (document, partitionKeyDefinition) {
    if (partitionKeyDefinition &amp;&amp; partitionKeyDefinition.paths &amp;&amp; partitionKeyDefinition.paths.length &gt;
0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readCollections" id="apidoc.element.documentdb.DocumentClient.prototype.readCollections">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readCollections
        <span class="apidocSignatureSpan">(databaseLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readCollections = function (databaseLink, options) {
    return this.queryCollections(databaseLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readConflict" id="apidoc.element.documentdb.DocumentClient.prototype.readConflict">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readConflict
        <span class="apidocSignatureSpan">(conflictLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readConflict = function (conflictLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(conflictLink);
    var path = this.getPathFromLink(conflictLink, "", isNameBased);
    var id = this.getIdFromLink(conflictLink, isNameBased);

    this.read(path, "conflicts", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readConflicts" id="apidoc.element.documentdb.DocumentClient.prototype.readConflicts">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readConflicts
        <span class="apidocSignatureSpan">(collectionLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readConflicts = function (collectionLink, options) {
    return this.queryConflicts(collectionLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readDatabase" id="apidoc.element.documentdb.DocumentClient.prototype.readDatabase">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDatabase
        <span class="apidocSignatureSpan">(databaseLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readDatabase = function (databaseLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.read(path, "dbs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readDatabases" id="apidoc.element.documentdb.DocumentClient.prototype.readDatabases">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDatabases
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readDatabases = function (options) {
    return this.queryDatabases(undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readDocument" id="apidoc.element.documentdb.DocumentClient.prototype.readDocument">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDocument
        <span class="apidocSignatureSpan">(documentLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readDocument = function (documentLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.read(path, "docs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readDocuments" id="apidoc.element.documentdb.DocumentClient.prototype.readDocuments">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readDocuments
        <span class="apidocSignatureSpan">(collectionLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readDocuments = function (collectionLink, options) {
    return this.queryDocuments(collectionLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readMedia" id="apidoc.element.documentdb.DocumentClient.prototype.readMedia">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readMedia
        <span class="apidocSignatureSpan">(mediaLink, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readMedia = function (mediaLink, callback) {
    var resourceInfo = Base.parseLink(mediaLink);
    var path = "/" + mediaLink;
    var initialHeaders = Base.extend({}, this.defaultHeaders);
    initialHeaders[Constants.HttpHeaders.Accept] = Constants.MediaTypes.Any;
    var attachmentId = Base.getAttachmentIdFromMediaId(resourceInfo.objectBody.id).toLowerCase();

    var headers = Base.getHeaders(this, initialHeaders, "get", path, attachmentId, "media", {});

    var that = this;
    // readMedia will always use WriteEndpoint since it's not replicated in readable Geo regions
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.get(writeEndpoint, path, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readOffer" id="apidoc.element.documentdb.DocumentClient.prototype.readOffer">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readOffer
        <span class="apidocSignatureSpan">(offerLink, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readOffer = function (offerLink, callback) {
    var path = "/" + offerLink;
    var id = Base.parseLink(offerLink).objectBody.id.toLowerCase();
    this.read(path, "offers", id, undefined, {}, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readOffers" id="apidoc.element.documentdb.DocumentClient.prototype.readOffers">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readOffers
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readOffers = function (options) {
    return this.queryOffers(undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readPartitionKeyRanges" id="apidoc.element.documentdb.DocumentClient.prototype.readPartitionKeyRanges">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readPartitionKeyRanges
        <span class="apidocSignatureSpan">(collectionLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readPartitionKeyRanges = function (collectionLink, options) {
    return this.queryPartitionKeyRanges(collectionLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            var collectionRoutingMap = this.collectionRoutingMapByCollectionId[collectionId];
            if (collectionRoutingMap === undefined) {
                // attempt to consturct collection routing map
                var that = this;
                var semaphorizedFuncCollectionMapInstantiator = function () {
                    var collectionRoutingMap = that.collectionRoutingMapByCollectionId[collectionId];
                    if (collectionRoutingMap === undefined) {
                        var partitionKeyRangesIterator = that.documentclient.<span class="apidocCodeKeywordSpan">readPartitionKeyRanges
</span>(collectionLink);
                        partitionKeyRangesIterator.toArray(function (err, resources) {
if (err) {
    return callback(err, undefined);
}

collectionRoutingMap = CollectionRoutingMapFactory.createCompleteRoutingMap(
    resources.map(function (r) { return [r, true]; }),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readPermission" id="apidoc.element.documentdb.DocumentClient.prototype.readPermission">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readPermission
        <span class="apidocSignatureSpan">(permissionLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readPermission = function (permissionLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(permissionLink);
    var path = this.getPathFromLink(permissionLink, "", isNameBased);
    var id = this.getIdFromLink(permissionLink, isNameBased);

    this.read(path, "permissions", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readPermissions" id="apidoc.element.documentdb.DocumentClient.prototype.readPermissions">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readPermissions
        <span class="apidocSignatureSpan">(userLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readPermissions = function (userLink, options) {
    return this.queryPermissions(userLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readStoredProcedure" id="apidoc.element.documentdb.DocumentClient.prototype.readStoredProcedure">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readStoredProcedure
        <span class="apidocSignatureSpan">(sprocLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readStoredProcedure = function (sprocLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(sprocLink);
    var path = this.getPathFromLink(sprocLink, "", isNameBased);
    var id = this.getIdFromLink(sprocLink, isNameBased);

    this.read(path, "sprocs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readStoredProcedures" id="apidoc.element.documentdb.DocumentClient.prototype.readStoredProcedures">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readStoredProcedures
        <span class="apidocSignatureSpan">(collectionLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readStoredProcedures = function (collectionLink, options) {
    return this.queryStoredProcedures(collectionLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readTrigger" id="apidoc.element.documentdb.DocumentClient.prototype.readTrigger">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readTrigger
        <span class="apidocSignatureSpan">(triggerLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readTrigger = function (triggerLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var resourceInfo = Base.parseLink(triggerLink);

    var isNameBased = Base.isLinkNameBased(triggerLink);
    var path = this.getPathFromLink(triggerLink, "", isNameBased);
    var id = this.getIdFromLink(triggerLink, isNameBased);

    this.read(path, "triggers", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readTriggers" id="apidoc.element.documentdb.DocumentClient.prototype.readTriggers">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readTriggers
        <span class="apidocSignatureSpan">(collectionLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readTriggers = function (collectionLink, options) {
    return this.queryTriggers(collectionLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readUser" id="apidoc.element.documentdb.DocumentClient.prototype.readUser">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUser
        <span class="apidocSignatureSpan">(userLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readUser = function (userLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(userLink);
    var path = this.getPathFromLink(userLink, "", isNameBased);
    var id = this.getIdFromLink(userLink, isNameBased);

    this.read(path, "users", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readUserDefinedFunction" id="apidoc.element.documentdb.DocumentClient.prototype.readUserDefinedFunction">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUserDefinedFunction
        <span class="apidocSignatureSpan">(udfLink, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readUserDefinedFunction = function (udfLink, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var isNameBased = Base.isLinkNameBased(udfLink);
    var path = this.getPathFromLink(udfLink, "", isNameBased);
    var id = this.getIdFromLink(udfLink, isNameBased);

    this.read(path, "udfs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readUserDefinedFunctions" id="apidoc.element.documentdb.DocumentClient.prototype.readUserDefinedFunctions">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUserDefinedFunctions
        <span class="apidocSignatureSpan">(collectionLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readUserDefinedFunctions = function (collectionLink, options) {
    return this.queryUserDefinedFunctions(collectionLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.readUsers" id="apidoc.element.documentdb.DocumentClient.prototype.readUsers">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>readUsers
        <span class="apidocSignatureSpan">(databaseLink, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readUsers = function (databaseLink, options) {
    return this.queryUsers(databaseLink, undefined, options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replace" id="apidoc.element.documentdb.DocumentClient.prototype.replace">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replace
        <span class="apidocSignatureSpan">(resource, path, type, id, initialHeaders, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replace = function (resource, path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "put", path, id, type, options);

    var that = this;
    // replace will use WriteEndpoint since it uses PUT operation
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.put(writeEndpoint, path, resource, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.<span class="apidocCodeKeywordSpan">replace</span>(collection, path, "colls", id, undefined, options, callback
);
},

/**
 * Replace the document object.
 * @memberof DocumentClient
 * @instance
 * @param {string} documentLink      - The self-link of the document.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceAttachment" id="apidoc.element.documentdb.DocumentClient.prototype.replaceAttachment">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceAttachment
        <span class="apidocSignatureSpan">(attachmentLink, attachment, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceAttachment = function (attachmentLink, attachment, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(attachment, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(attachmentLink);
    var path = this.getPathFromLink(attachmentLink, "", isNameBased);
    var id = this.getIdFromLink(attachmentLink, isNameBased);

    this.replace(attachment, path, "attachments", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceCollection" id="apidoc.element.documentdb.DocumentClient.prototype.replaceCollection">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceCollection
        <span class="apidocSignatureSpan">(collectionLink, collection, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceCollection = function (collectionLink, collection, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(collection, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.replace(collection, path, "colls", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceDocument" id="apidoc.element.documentdb.DocumentClient.prototype.replaceDocument">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceDocument
        <span class="apidocSignatureSpan">(documentLink, newDocument, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceDocument = function (documentLink, newDocument, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var that = this;

    var task = function () {
        var err = {};
        if (!that.isResourceValid(newDocument, err)) {
            callback(err);
            return;
        }

        var isNameBased = Base.isLinkNameBased(documentLink);
        var path = that.getPathFromLink(documentLink, "", isNameBased);
        var id = that.getIdFromLink(documentLink, isNameBased);

        that.replace(newDocument, path, "docs", id, undefined, options, callback);
    };

    if (options.partitionKey === undefined) {
        this.getPartitionKeyDefinition(Base.getCollectionLink(documentLink), function (err, partitionKeyDefinition, response, headers
) {
            if (err) return callback(err, response, headers);
            options.partitionKey = that.extractPartitionKey(newDocument, partitionKeyDefinition);

            task();
        });
    }
    else {
        task();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceOffer" id="apidoc.element.documentdb.DocumentClient.prototype.replaceOffer">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceOffer
        <span class="apidocSignatureSpan">(offerLink, offer, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceOffer = function (offerLink, offer, callback) {
    var err = {};
    if (!this.isResourceValid(offer, err)) {
        callback(err);
        return;
    }

    var path = "/" + offerLink;
    var id = Base.parseLink(offerLink).objectBody.id.toLowerCase();
    this.replace(offer, path, "offers", id, undefined, {}, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replacePermission" id="apidoc.element.documentdb.DocumentClient.prototype.replacePermission">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replacePermission
        <span class="apidocSignatureSpan">(permissionLink, permission, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replacePermission = function (permissionLink, permission, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(permission, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(permissionLink);
    var path = this.getPathFromLink(permissionLink, "", isNameBased);
    var id = this.getIdFromLink(permissionLink, isNameBased);

    this.replace(permission, path, "permissions", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceStoredProcedure" id="apidoc.element.documentdb.DocumentClient.prototype.replaceStoredProcedure">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceStoredProcedure
        <span class="apidocSignatureSpan">(sprocLink, sproc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceStoredProcedure = function (sprocLink, sproc, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (sproc.serverScript) {
        sproc.body = sproc.serverScript.toString();
    } else if (sproc.body) {
        sproc.body = sproc.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(sproc, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(sprocLink);
    var path = this.getPathFromLink(sprocLink, "", isNameBased);
    var id = this.getIdFromLink(sprocLink, isNameBased);

    this.replace(sproc, path, "sprocs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceTrigger" id="apidoc.element.documentdb.DocumentClient.prototype.replaceTrigger">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceTrigger
        <span class="apidocSignatureSpan">(triggerLink, trigger, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceTrigger = function (triggerLink, trigger, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (trigger.serverScript) {
        trigger.body = trigger.serverScript.toString();
    } else if (trigger.body) {
        trigger.body = trigger.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(trigger, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(triggerLink);
    var path = this.getPathFromLink(triggerLink, "", isNameBased);
    var id = this.getIdFromLink(triggerLink, isNameBased);

    this.replace(trigger, path, "triggers", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceUser" id="apidoc.element.documentdb.DocumentClient.prototype.replaceUser">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceUser
        <span class="apidocSignatureSpan">(userLink, user, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceUser = function (userLink, user, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(user, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(userLink);
    var path = this.getPathFromLink(userLink, "", isNameBased);
    var id = this.getIdFromLink(userLink, isNameBased);

    this.replace(user, path, "users", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.replaceUserDefinedFunction" id="apidoc.element.documentdb.DocumentClient.prototype.replaceUserDefinedFunction">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>replaceUserDefinedFunction
        <span class="apidocSignatureSpan">(udfLink, udf, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceUserDefinedFunction = function (udfLink, udf, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (udf.serverScript) {
        udf.body = udf.serverScript.toString();
    } else if (udf.body) {
        udf.body = udf.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(udf, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(udfLink);
    var path = this.getPathFromLink(udfLink, "", isNameBased);
    var id = this.getIdFromLink(udfLink, isNameBased);

    this.replace(udf, path, "udfs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.resolveCollectionLinkForCreate" id="apidoc.element.documentdb.DocumentClient.prototype.resolveCollectionLinkForCreate">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>resolveCollectionLinkForCreate
        <span class="apidocSignatureSpan">(partitionResolver, document)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveCollectionLinkForCreate = function (partitionResolver, document) {
    var validation = this.isPartitionResolverValid(partitionResolver);
    if (!validation.valid) {
        throw validation.error;
    }

    var partitionKey = partitionResolver.getPartitionKey(document);
    return partitionResolver.resolveForCreate(partitionKey);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
createDocument: function (documentsFeedOrDatabaseLink, body, options, callback) {
    var partitionResolver = this.partitionResolvers[documentsFeedOrDatabaseLink];

    var collectionLink;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLink = documentsFeedOrDatabaseLink;
    } else {
        collectionLink = this.<span class="apidocCodeKeywordSpan">resolveCollectionLinkForCreate</span>(partitionResolver, body);
    }

    this.createDocumentPrivate(collectionLink, body, options, callback);
},

/**
 * Create an attachment for the document object.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.setIsUpsertHeader" id="apidoc.element.documentdb.DocumentClient.prototype.setIsUpsertHeader">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>setIsUpsertHeader
        <span class="apidocSignatureSpan">(headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setIsUpsertHeader = function (headers) {
    if (headers === undefined || headers === null) {
        throw new Error('The "headers" parameter must not be null or undefined');
    }

    if (!(headers instanceof Object)) {
        throw new Error(this.sprintf('The "headers" parameter must be an instance of "Object". Actual type is: "%s".', typeof headers
));
    }

    headers[Constants.HttpHeaders.IsUpsert] = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
},

/** @ignore */
upsert: function (body, path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "post", path, id, type, options);
    this.<span class="apidocCodeKeywordSpan">setIsUpsertHeader</span>(headers);

    var that = this;
    // upsert will use WriteEndpoint since it uses POST operation
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.post(writeEndpoint, path, body, headers, callback);
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.sprintf" id="apidoc.element.documentdb.DocumentClient.prototype.sprintf">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>sprintf
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sprintf = function (format) {
    var args = arguments;
    var i = 1;
    return format.replace(/%((%)|s)/g, function (matchStr, subMatch1, subMatch2) {
        // In case of %% subMatch2 would be '%'.
        return subMatch2 || args[i++];
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (typeof partionResolver[functionName] === "function") {
        return {
            valid: true
        };
    } else {
        return {
            valid: false,
            error: new Error(this.<span class="apidocCodeKeywordSpan">sprintf</span>("The partition resolver does not implement
 method %s. The type of %s is\"%s\"", functionName, functionName, typeof partionResolver[functionName]))
        };
    }
},

/** @ignore */
getIdFromLink: function (resourceLink, isNameBased) {
    if (isNameBased) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.updateMedia" id="apidoc.element.documentdb.DocumentClient.prototype.updateMedia">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>updateMedia
        <span class="apidocSignatureSpan">(mediaLink, readableStream, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateMedia = function (mediaLink, readableStream, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var defaultHeaders = this.defaultHeaders;
    var initialHeaders = Base.extend({}, defaultHeaders);

    // Add required headers slug and content-type in case the body is a stream
    if (options.slug) {
        initialHeaders[Constants.HttpHeaders.Slug] = options.slug;
    }

    if (options.contentType) {
        initialHeaders[Constants.HttpHeaders.ContentType] = options.contentType;
    } else {
        initialHeaders[Constants.HttpHeaders.ContentType] = Constants.MediaTypes.OctetStream;
    }

    initialHeaders[Constants.HttpHeaders.Accept] = Constants.MediaTypes.Any;

    var resourceInfo = Base.parseLink(mediaLink);
    var path = "/" + mediaLink;
    var attachmentId = Base.getAttachmentIdFromMediaId(resourceInfo.objectBody.id).toLowerCase();
    var headers = Base.getHeaders(this, initialHeaders, "put", path, attachmentId, "media", options);

    // updateMedia will use WriteEndpoint since it uses PUT operation
    var that = this;
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.put(writeEndpoint, path, readableStream, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsert" id="apidoc.element.documentdb.DocumentClient.prototype.upsert">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsert
        <span class="apidocSignatureSpan">(body, path, type, id, initialHeaders, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsert = function (body, path, type, id, initialHeaders, options, callback) {
    initialHeaders = initialHeaders || this.defaultHeaders;
    var headers = Base.getHeaders(this, initialHeaders, "post", path, id, type, options);
    this.setIsUpsertHeader(headers);

    var that = this;
    // upsert will use WriteEndpoint since it uses POST operation
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.post(writeEndpoint, path, body, headers, callback);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return;
    }

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "attachments", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.<span class="apidocCodeKeywordSpan">upsert</span>(body, path, "attachments", id, undefined, options, callback
);
},

/**
 * Upsert a database user.
 * @memberof DocumentClient
 * @instance
 * @param {string} databaseLink         - The self-link of the database.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertAttachment" id="apidoc.element.documentdb.DocumentClient.prototype.upsertAttachment">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertAttachment
        <span class="apidocSignatureSpan">(documentLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertAttachment = function (documentLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "attachments", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.upsert(body, path, "attachments", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertAttachmentAndUploadMedia" id="apidoc.element.documentdb.DocumentClient.prototype.upsertAttachmentAndUploadMedia">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertAttachmentAndUploadMedia
        <span class="apidocSignatureSpan">(documentLink, readableStream, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertAttachmentAndUploadMedia = function (documentLink, readableStream, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var initialHeaders = Base.extend({}, this.defaultHeaders);

    // Add required headers slug and content-type.
    if (options.slug) {
        initialHeaders[Constants.HttpHeaders.Slug] = options.slug;
    }

    if (options.contentType) {
        initialHeaders[Constants.HttpHeaders.ContentType] = options.contentType;
    } else {
        initialHeaders[Constants.HttpHeaders.ContentType] = Constants.MediaTypes.OctetStream;
    }

    var isNameBased = Base.isLinkNameBased(documentLink);
    var path = this.getPathFromLink(documentLink, "attachments", isNameBased);
    var id = this.getIdFromLink(documentLink, isNameBased);

    this.upsert(readableStream, path, "attachments", id, initialHeaders, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertDocument" id="apidoc.element.documentdb.DocumentClient.prototype.upsertDocument">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertDocument
        <span class="apidocSignatureSpan">(documentsFeedOrDatabaseLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertDocument = function (documentsFeedOrDatabaseLink, body, options, callback) {
    var partitionResolver = this.partitionResolvers[documentsFeedOrDatabaseLink];

    var collectionLink;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLink = documentsFeedOrDatabaseLink;
    } else {
        collectionLink = this.resolveCollectionLinkForCreate(partitionResolver, body);
    }

    this.upsertDocumentPrivate(collectionLink, body, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertDocumentPrivate" id="apidoc.element.documentdb.DocumentClient.prototype.upsertDocumentPrivate">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertDocumentPrivate
        <span class="apidocSignatureSpan">(collectionLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertDocumentPrivate = function (collectionLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var that = this;

    var task = function () {
        // Generate random document id if the id is missing in the payload and options.disableAutomaticIdGeneration != true
        if ((body.id === undefined || body.id === "") &amp;&amp; !options.disableAutomaticIdGeneration) {
            body.id = Base.generateGuidId();
        }

        var err = {};
        if (!that.isResourceValid(body, err)) {
            callback(err);
            return;
        }

        var isNameBased = Base.isLinkNameBased(collectionLink);
        var path = that.getPathFromLink(collectionLink, "docs", isNameBased);
        var id = that.getIdFromLink(collectionLink, isNameBased);

        that.upsert(body, path, "docs", id, undefined, options, callback);
    };

    if (options.partitionKey === undefined) {
        this.getPartitionKeyDefinition(collectionLink, function (err, partitionKeyDefinition, response, headers) {
            if (err) return callback(err, response, headers);
            options.partitionKey = that.extractPartitionKey(body, partitionKeyDefinition);

            task();
        });
    }
    else {
        task();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var collectionLink;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLink = documentsFeedOrDatabaseLink;
    } else {
        collectionLink = this.resolveCollectionLinkForCreate(partitionResolver, body);
    }

    this.<span class="apidocCodeKeywordSpan">upsertDocumentPrivate</span>(collectionLink, body, options, callback);
},

/**
 * Upsert an attachment for the document object.
 * &lt;p&gt;
 * Each document may contain zero or more attachments. Attachments can be of any MIME type - text, image, binary data. &lt;br&amp;#
x3e;
 * These are stored externally in Azure Blob storage. Attachments are automatically deleted when the parent document is deleted.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertPermission" id="apidoc.element.documentdb.DocumentClient.prototype.upsertPermission">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertPermission
        <span class="apidocSignatureSpan">(userLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertPermission = function (userLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(userLink);
    var path = this.getPathFromLink(userLink, "permissions", isNameBased);
    var id = this.getIdFromLink(userLink, isNameBased);

    this.upsert(body, path, "permissions", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertStoredProcedure" id="apidoc.element.documentdb.DocumentClient.prototype.upsertStoredProcedure">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertStoredProcedure
        <span class="apidocSignatureSpan">(collectionLink, sproc, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertStoredProcedure = function (collectionLink, sproc, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (sproc.serverScript) {
        sproc.body = sproc.serverScript.toString();
    } else if (sproc.body) {
        sproc.body = sproc.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(sproc, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "sprocs", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.upsert(sproc, path, "sprocs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertTrigger" id="apidoc.element.documentdb.DocumentClient.prototype.upsertTrigger">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertTrigger
        <span class="apidocSignatureSpan">(collectionLink, trigger, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertTrigger = function (collectionLink, trigger, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (trigger.serverScript) {
        trigger.body = trigger.serverScript.toString();
    } else if (trigger.body) {
        trigger.body = trigger.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(trigger, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "triggers", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.upsert(trigger, path, "triggers", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertUser" id="apidoc.element.documentdb.DocumentClient.prototype.upsertUser">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertUser
        <span class="apidocSignatureSpan">(databaseLink, body, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertUser = function (databaseLink, body, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(databaseLink);
    var path = this.getPathFromLink(databaseLink, "users", isNameBased);
    var id = this.getIdFromLink(databaseLink, isNameBased);

    this.upsert(body, path, "users", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.upsertUserDefinedFunction" id="apidoc.element.documentdb.DocumentClient.prototype.upsertUserDefinedFunction">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>upsertUserDefinedFunction
        <span class="apidocSignatureSpan">(collectionLink, udf, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upsertUserDefinedFunction = function (collectionLink, udf, options, callback) {
    var optionsCallbackTuple = this.validateOptionsAndCallback(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    if (udf.serverScript) {
        udf.body = udf.serverScript.toString();
    } else if (udf.body) {
        udf.body = udf.body.toString();
    }

    var err = {};
    if (!this.isResourceValid(udf, err)) {
        callback(err);
        return;
    }

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.getPathFromLink(collectionLink, "udfs", isNameBased);
    var id = this.getIdFromLink(collectionLink, isNameBased);

    this.upsert(udf, path, "udfs", id, undefined, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.DocumentClient.prototype.validateOptionsAndCallback" id="apidoc.element.documentdb.DocumentClient.prototype.validateOptionsAndCallback">
        function <span class="apidocSignatureSpan">documentdb.DocumentClient.prototype.</span>validateOptionsAndCallback
        <span class="apidocSignatureSpan">(optionsIn, callbackIn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateOptionsAndCallback = function (optionsIn, callbackIn) {
    var options, callback;

    // options
    if (optionsIn === undefined) {
        options = new Object();
    } else if (callbackIn === undefined &amp;&amp; typeof optionsIn === 'function') {
        callback = optionsIn;
        options = new Object();
    } else if (typeof optionsIn !== 'object') {
        throw new Error(this.sprintf('The "options" parameter must be of type "object". Actual type is: "%s".', typeof optionsIn
));
    } else {
        options = optionsIn;
    }

    // callback
    if (callbackIn !== undefined &amp;&amp; typeof callbackIn !== 'function') {
        throw new Error(this.sprintf('The "callback" parameter must be of type "function". Actual type is: "%s".', typeof callbackIn
));
    } else if (typeof callbackIn === 'function') {
        callback = callbackIn
    }

    return { options: options, callback: callback };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @instance
 * @param {Object} body              - A json object that represents The database to be created.
 * @param {string} body.id           - The id of the database.
 * @param {RequestOptions} [options] - The request options.
 * @param {RequestCallback} callback - The callback for the request.
*/
createDatabase: function (body, options, callback) {
    var optionsCallbackTuple = this.<span class="apidocCodeKeywordSpan">validateOptionsAndCallback</span>(options, callback);
    options = optionsCallbackTuple.options;
    callback = optionsCallbackTuple.callback;

    var err = {};
    if (!this.isResourceValid(body, err)) {
        callback(err);
        return;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.HashPartitionResolver" id="apidoc.module.documentdb.HashPartitionResolver">module documentdb.HashPartitionResolver</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.HashPartitionResolver.HashPartitionResolver" id="apidoc.element.documentdb.HashPartitionResolver.HashPartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.</span>HashPartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HashPartitionResolver = function (partitionKeyExtractor, collectionLinks, options) {
    HashPartitionResolver._throwIfInvalidPartitionKeyExtractor(partitionKeyExtractor);
    HashPartitionResolver._throwIfInvalidCollectionLinks(collectionLinks);
    this.partitionKeyExtractor = partitionKeyExtractor;

    options = options || {};
    this.consistentHashRing = new ConsistentHashRing(collectionLinks, options);
    this.collectionLinks = collectionLinks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.HashPartitionResolver.prototype" id="apidoc.module.documentdb.HashPartitionResolver.prototype">module documentdb.HashPartitionResolver.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.HashPartitionResolver.prototype.getPartitionKey" id="apidoc.element.documentdb.HashPartitionResolver.prototype.getPartitionKey">
        function <span class="apidocSignatureSpan">documentdb.HashPartitionResolver.prototype.</span>getPartitionKey
        <span class="apidocSignatureSpan">(document)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPartitionKey = function (document) {
    return (typeof this.partitionKeyExtractor === "string")
        ? document[this.partitionKeyExtractor]
        : this.partitionKeyExtractor(document);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/** @ignore */
resolveCollectionLinkForCreate: function (partitionResolver, document) {
    var validation = this.isPartitionResolverValid(partitionResolver);
    if (!validation.valid) {
        throw validation.error;
    }

    var partitionKey = partitionResolver.<span class="apidocCodeKeywordSpan">getPartitionKey</span>(document);
    return partitionResolver.resolveForCreate(partitionKey);
},

/** @ignore */
isPartitionResolverValid: function (partionResolver) {
    if (partionResolver === null || partionResolver === undefined) {
        return {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.HashPartitionResolver.prototype.resolveForCreate" id="apidoc.element.documentdb.HashPartitionResolver.prototype.resolveForCreate">
        function <span class="apidocSignatureSpan">documentdb.HashPartitionResolver.prototype.</span>resolveForCreate
        <span class="apidocSignatureSpan">(partitionKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveForCreate = function (partitionKey) {
    return this._resolve(partitionKey);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
resolveCollectionLinkForCreate: function (partitionResolver, document) {
    var validation = this.isPartitionResolverValid(partitionResolver);
    if (!validation.valid) {
        throw validation.error;
    }

    var partitionKey = partitionResolver.getPartitionKey(document);
    return partitionResolver.<span class="apidocCodeKeywordSpan">resolveForCreate</span>(partitionKey);
},

/** @ignore */
isPartitionResolverValid: function (partionResolver) {
    if (partionResolver === null || partionResolver === undefined) {
        return {
            valid: false,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.HashPartitionResolver.prototype.resolveForRead" id="apidoc.element.documentdb.HashPartitionResolver.prototype.resolveForRead">
        function <span class="apidocSignatureSpan">documentdb.HashPartitionResolver.prototype.</span>resolveForRead
        <span class="apidocSignatureSpan">(partitionKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveForRead = function (partitionKey) {
    if (partitionKey === undefined || partitionKey === null) {
        return this.collectionLinks;
    }

    return [this._resolve(partitionKey)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
queryDocuments: function (documentsFeedOrDatabaseLink, query, options) {
    var partitionResolver = this.partitionResolvers[documentsFeedOrDatabaseLink];
    var collectionLinks;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLinks = [documentsFeedOrDatabaseLink];
    } else {
        collectionLinks = partitionResolver.<span class="apidocCodeKeywordSpan">resolveForRead</span>(options &amp;&amp; options
.partitionKey);
    }

    return this.queryDocumentsPrivate(collectionLinks, query, options);
},

/**
 * Query the partition key ranges
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.RangePartitionResolver" id="apidoc.module.documentdb.RangePartitionResolver">module documentdb.RangePartitionResolver</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.RangePartitionResolver.RangePartitionResolver" id="apidoc.element.documentdb.RangePartitionResolver.RangePartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.</span>RangePartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RangePartitionResolver = function (partitionKeyExtractor, partitionKeyMap, compareFunction) {
    if (partitionKeyExtractor === undefined || partitionKeyExtractor === null) {
        throw new Error("partitionKeyExtractor cannot be null or undefined");
    }
    if (typeof partitionKeyExtractor !== "string" &amp;&amp; typeof partitionKeyExtractor !== "function") {
        throw new Error("partitionKeyExtractor must be either a 'string' or a 'function'");
    }
    if (partitionKeyMap === undefined || partitionKeyMap === null) {
        throw new Error("partitionKeyMap cannot be null or undefined");
    }
    if (!(Array.isArray(partitionKeyMap))) {
        throw new Error("partitionKeyMap has to be an Array");
    }
    var allMapEntriesAreValid = partitionKeyMap.every(function (mapEntry) {
        if ((mapEntry === undefined) || mapEntry === null) {
            return false;
        }
        if (mapEntry.range === undefined) {
            return false;
        }
        if (!(mapEntry.range instanceof Range)) {
            return false;
        }
        if (mapEntry.link === undefined) {
            return false;
        }
        if (typeof mapEntry.link !== "string") {
            return false;
        }
        return true;
    });
    if (!allMapEntriesAreValid) {
        throw new Error("All partitionKeyMap entries have to be a tuple {range: Range, link: string }");
    }
    if (compareFunction !== undefined &amp;&amp; typeof compareFunction !== "function") {
        throw new Error("Invalid argument: 'compareFunction' is not a function");
    }

    this.partitionKeyExtractor = partitionKeyExtractor;
    this.partitionKeyMap = partitionKeyMap;
    this.compareFunction = compareFunction;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.RangePartitionResolver.prototype" id="apidoc.module.documentdb.RangePartitionResolver.prototype">module documentdb.RangePartitionResolver.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.RangePartitionResolver.prototype.getPartitionKey" id="apidoc.element.documentdb.RangePartitionResolver.prototype.getPartitionKey">
        function <span class="apidocSignatureSpan">documentdb.RangePartitionResolver.prototype.</span>getPartitionKey
        <span class="apidocSignatureSpan">(document)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPartitionKey = function (document) {
    if (typeof this.partitionKeyExtractor === "string") {
        return document[this.partitionKeyExtractor];
    }
    if (typeof this.partitionKeyExtractor === "function") {
        return this.partitionKeyExtractor(document);
    }
    throw new Error("Unable to extract partition key from document. Ensure PartitionKeyExtractor is a valid function or property
 name.");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/** @ignore */
resolveCollectionLinkForCreate: function (partitionResolver, document) {
    var validation = this.isPartitionResolverValid(partitionResolver);
    if (!validation.valid) {
        throw validation.error;
    }

    var partitionKey = partitionResolver.<span class="apidocCodeKeywordSpan">getPartitionKey</span>(document);
    return partitionResolver.resolveForCreate(partitionKey);
},

/** @ignore */
isPartitionResolverValid: function (partionResolver) {
    if (partionResolver === null || partionResolver === undefined) {
        return {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.RangePartitionResolver.prototype.resolveForCreate" id="apidoc.element.documentdb.RangePartitionResolver.prototype.resolveForCreate">
        function <span class="apidocSignatureSpan">documentdb.RangePartitionResolver.prototype.</span>resolveForCreate
        <span class="apidocSignatureSpan">(partitionKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveForCreate = function (partitionKey) {
    var range = new Range({ low: partitionKey });
    var mapEntry = this._getFirstContainingMapEntryOrNull(range);
    if (mapEntry !== undefined &amp;&amp; mapEntry !== null) {
        return mapEntry.link;
    }
    throw new Error("Invalid operation: A containing range for '" + range._toString() + "' doesn't exist in the partition map.");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
resolveCollectionLinkForCreate: function (partitionResolver, document) {
    var validation = this.isPartitionResolverValid(partitionResolver);
    if (!validation.valid) {
        throw validation.error;
    }

    var partitionKey = partitionResolver.getPartitionKey(document);
    return partitionResolver.<span class="apidocCodeKeywordSpan">resolveForCreate</span>(partitionKey);
},

/** @ignore */
isPartitionResolverValid: function (partionResolver) {
    if (partionResolver === null || partionResolver === undefined) {
        return {
            valid: false,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.RangePartitionResolver.prototype.resolveForRead" id="apidoc.element.documentdb.RangePartitionResolver.prototype.resolveForRead">
        function <span class="apidocSignatureSpan">documentdb.RangePartitionResolver.prototype.</span>resolveForRead
        <span class="apidocSignatureSpan">(partitionKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveForRead = function (partitionKey) {
    if (partitionKey === undefined || partitionKey === null) {
        return this.partitionKeyMap.map(function (i) { return i.link; });
    }
    else {
        return this._getIntersectingMapEntries(partitionKey).map(function (i) { return i.link; });
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
queryDocuments: function (documentsFeedOrDatabaseLink, query, options) {
    var partitionResolver = this.partitionResolvers[documentsFeedOrDatabaseLink];
    var collectionLinks;
    if (partitionResolver === undefined || partitionResolver === null) {
        collectionLinks = [documentsFeedOrDatabaseLink];
    } else {
        collectionLinks = partitionResolver.<span class="apidocCodeKeywordSpan">resolveForRead</span>(options &amp;&amp; options
.partitionKey);
    }

    return this.queryDocumentsPrivate(collectionLinks, query, options);
},

/**
 * Query the partition key ranges
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.aggregators" id="apidoc.module.documentdb.aggregators">module documentdb.aggregators</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.aggregators.AverageAggregator" id="apidoc.element.documentdb.aggregators.AverageAggregator">
        function <span class="apidocSignatureSpan">documentdb.aggregators.</span>AverageAggregator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">AverageAggregator = function () {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function (executionContext, aggregateOperators) {
this.executionContext = executionContext;
this.localAggregators = [];
var that = this;
aggregateOperators.forEach(function (aggregateOperator) {
    switch (aggregateOperator) {
        case 'Average':
            that.localAggregators.push(new aggregators.<span class="apidocCodeKeywordSpan">AverageAggregator</span>());
            break;
        case 'Count':
            that.localAggregators.push(new aggregators.CountAggregator());
            break;
        case 'Max':
            that.localAggregators.push(new aggregators.MaxAggregator());
            break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.aggregators.CountAggregator" id="apidoc.element.documentdb.aggregators.CountAggregator">
        function <span class="apidocSignatureSpan">documentdb.aggregators.</span>CountAggregator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CountAggregator = function () {
    this.value = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var that = this;
aggregateOperators.forEach(function (aggregateOperator) {
    switch (aggregateOperator) {
        case 'Average':
            that.localAggregators.push(new aggregators.AverageAggregator());
            break;
        case 'Count':
            that.localAggregators.push(new aggregators.<span class="apidocCodeKeywordSpan">CountAggregator</span>());
            break;
        case 'Max':
            that.localAggregators.push(new aggregators.MaxAggregator());
            break;
        case 'Min':
            that.localAggregators.push(new aggregators.MinAggregator());
            break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.aggregators.MaxAggregator" id="apidoc.element.documentdb.aggregators.MaxAggregator">
        function <span class="apidocSignatureSpan">documentdb.aggregators.</span>MaxAggregator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">MaxAggregator = function () {
    this.value = undefined;
    this.comparer = new DocumentProducer.OrderByDocumentProducerComparator("Ascending");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'Average':
    that.localAggregators.push(new aggregators.AverageAggregator());
    break;
case 'Count':
    that.localAggregators.push(new aggregators.CountAggregator());
    break;
case 'Max':
    that.localAggregators.push(new aggregators.<span class="apidocCodeKeywordSpan">MaxAggregator</span>());
    break;
case 'Min':
    that.localAggregators.push(new aggregators.MinAggregator());
    break;
case 'Sum':
    that.localAggregators.push(new aggregators.SumAggregator());
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.aggregators.MinAggregator" id="apidoc.element.documentdb.aggregators.MinAggregator">
        function <span class="apidocSignatureSpan">documentdb.aggregators.</span>MinAggregator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">MinAggregator = function () {
    this.value = undefined;
    this.comparer = new DocumentProducer.OrderByDocumentProducerComparator("Ascending");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            case 'Count':
                that.localAggregators.push(new aggregators.CountAggregator());
                break;
            case 'Max':
                that.localAggregators.push(new aggregators.MaxAggregator());
                break;
            case 'Min':
                that.localAggregators.push(new aggregators.<span class="apidocCodeKeywordSpan">MinAggregator</span>());
                break;
            case 'Sum':
                that.localAggregators.push(new aggregators.SumAggregator());
                break;
        }
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.aggregators.SumAggregator" id="apidoc.element.documentdb.aggregators.SumAggregator">
        function <span class="apidocSignatureSpan">documentdb.aggregators.</span>SumAggregator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SumAggregator = function () {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            case 'Max':
                that.localAggregators.push(new aggregators.MaxAggregator());
                break;
            case 'Min':
                that.localAggregators.push(new aggregators.MinAggregator());
                break;
            case 'Sum':
                that.localAggregators.push(new aggregators.<span class="apidocCodeKeywordSpan">SumAggregator</span>());
                break;
        }
    });
},
{
    /**
    * Populate the aggregated values
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.auth" id="apidoc.module.documentdb.auth">module documentdb.auth</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.auth.getAuthorizationHeader" id="apidoc.element.documentdb.auth.getAuthorizationHeader">
        function <span class="apidocSignatureSpan">documentdb.auth.</span>getAuthorizationHeader
        <span class="apidocSignatureSpan">(documentClient, verb, path, resourceId, resourceType, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAuthorizationHeader = function (documentClient, verb, path, resourceId, resourceType, headers) {
    if (documentClient.masterKey) {
        return this.getAuthorizationTokenUsingMasterKey(verb, resourceId, resourceType, headers, documentClient.masterKey);
    } else if (documentClient.resourceTokens) {
        return this.getAuthorizationTokenUsingResourceTokens(documentClient.resourceTokens, path, resourceId);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.auth.getAuthorizationTokenUsingMasterKey" id="apidoc.element.documentdb.auth.getAuthorizationTokenUsingMasterKey">
        function <span class="apidocSignatureSpan">documentdb.auth.</span>getAuthorizationTokenUsingMasterKey
        <span class="apidocSignatureSpan">(verb, resourceId, resourceType, headers, masterKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAuthorizationTokenUsingMasterKey = function (verb, resourceId, resourceType, headers, masterKey) {
    var key = new Buffer(masterKey, "base64");

    var text = (verb || "").toLowerCase() + "\n" +
               (resourceType || "").toLowerCase() + "\n" +
               (resourceId || "") + "\n" +
               (headers["x-ms-date"] || "").toLowerCase() + "\n" +
               (headers["date"] || "").toLowerCase() + "\n";

    var body = new Buffer(text, "utf8");

    var signature = crypto.createHmac("sha256", key).update(body).digest("base64");

    var MasterToken = "master";

    var TokenVersion = "1.0";

    return "type=" + MasterToken + "&amp;ver=" + TokenVersion + "&amp;sig=" + signature;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
"use strict";

var crypto = require("crypto");

var AuthHandler = {
getAuthorizationHeader: function (documentClient, verb, path, resourceId, resourceType, headers) {
    if (documentClient.masterKey) {
        return this.<span class="apidocCodeKeywordSpan">getAuthorizationTokenUsingMasterKey</span>(verb, resourceId, resourceType
, headers, documentClient.masterKey);
    } else if (documentClient.resourceTokens) {
        return this.getAuthorizationTokenUsingResourceTokens(documentClient.resourceTokens, path, resourceId);
    }
},

getAuthorizationTokenUsingMasterKey: function (verb, resourceId, resourceType, headers, masterKey) {
    var key = new Buffer(masterKey, "base64");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.auth.getAuthorizationTokenUsingResourceTokens" id="apidoc.element.documentdb.auth.getAuthorizationTokenUsingResourceTokens">
        function <span class="apidocSignatureSpan">documentdb.auth.</span>getAuthorizationTokenUsingResourceTokens
        <span class="apidocSignatureSpan">(resourceTokens, path, resourceId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAuthorizationTokenUsingResourceTokens = function (resourceTokens, path, resourceId) {
    if (resourceTokens &amp;&amp; Object.keys(resourceTokens).length &gt; 0) {
        // For database account access(through getDatabaseAccount API), path and resourceId are "",
        // so in this case we return the first token to be used for creating the auth header as the service will accept any token
 in this case
        if (!path &amp;&amp; !resourceId) {
            return resourceTokens[Object.keys(resourceTokens)[0]];
        }
        if (resourceTokens[resourceId]) {
            return resourceTokens[resourceId];
        } else {
				var pathParts = path &amp;&amp; path.split("/") || [];
            var resourceTypes = ["dbs", "colls", "docs", "sprocs", "udfs", "triggers", "users", "permissions", "attachments", "media
", "conflicts", "offers"];
            // Get the last resource id from the path and get it's token from resourceTokens
            for (var i = pathParts.length - 1; i &gt;= 0; i--) {
                if (resourceTypes.indexOf(pathParts[i]) === -1) {
                    if (resourceTokens[pathParts[i]]) {
                        return resourceTokens[pathParts[i]];
                    }
                }
            }
        }
    }
    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var crypto = require("crypto");

var AuthHandler = {
    getAuthorizationHeader: function (documentClient, verb, path, resourceId, resourceType, headers) {
if (documentClient.masterKey) {
    return this.getAuthorizationTokenUsingMasterKey(verb, resourceId, resourceType, headers, documentClient.masterKey);
} else if (documentClient.resourceTokens) {
    return this.<span class="apidocCodeKeywordSpan">getAuthorizationTokenUsingResourceTokens</span>(documentClient.resourceTokens
, path, resourceId);
}
    },

    getAuthorizationTokenUsingMasterKey: function (verb, resourceId, resourceType, headers, masterKey) {
var key = new Buffer(masterKey, "base64");

var text = (verb || "").toLowerCase() + "\n" +
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.consistentHashRing" id="apidoc.module.documentdb.consistentHashRing">module documentdb.consistentHashRing</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.consistentHashRing.ConsistentHashRing" id="apidoc.element.documentdb.consistentHashRing.ConsistentHashRing">
        function <span class="apidocSignatureSpan">documentdb.consistentHashRing.</span>ConsistentHashRing
        <span class="apidocSignatureSpan">(nodes, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConsistentHashRing = function (nodes, options) {
    ConsistentHashRing._throwIfInvalidNodes(nodes);

    options = options || {};
    options.numberOfVirtualNodesPerCollection = options.numberOfVirtualNodesPerCollection || 128;
    options.computeHash = options.computeHash || MurmurHash.hash;

    this._computeHash = options.computeHash;
    this._partitions = ConsistentHashRing._constructPartitions(nodes, options.numberOfVirtualNodesPerCollection, options.computeHash
);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.defaultQueryExecutionContext" id="apidoc.module.documentdb.defaultQueryExecutionContext">module documentdb.defaultQueryExecutionContext</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.defaultQueryExecutionContext.defaultQueryExecutionContext" id="apidoc.element.documentdb.defaultQueryExecutionContext.defaultQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>defaultQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defaultQueryExecutionContext = function (documentclient, query, options, fetchFunctions){
    this.documentclient = documentclient;
    this.query = query;
    this.resources = [];
    this.currentIndex = 0;
    this.currentPartitionIndex = 0;
    this.fetchFunctions = (Array.isArray(fetchFunctions)) ? fetchFunctions : [fetchFunctions];
    this.options = options || {};
    this.continuation = this.options.continuation || null;
    this.state = DefaultQueryExecutionContext.STATES.start;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.defaultQueryExecutionContext.prototype" id="apidoc.module.documentdb.defaultQueryExecutionContext.prototype">module documentdb.defaultQueryExecutionContext.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.current" id="apidoc.element.documentdb.defaultQueryExecutionContext.prototype.current">
        function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>current
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">current = function (callback) {
    var that = this;
    if (this.currentIndex &lt; this.resources.length) {
        return callback(undefined, this.resources[this.currentIndex], undefined);
    }

    if (this._canFetchMore()) {
        this.fetchMore(function (err, resources, headers) {
            if (err) {
                return callback(err, undefined, headers);
            }
            that.resources = resources;
            if (that.resources.length === 0) {
                if (!that.continuation &amp;&amp; that.currentPartitionIndex &gt;= that.fetchFunctions.length) {
                    that.state = DefaultQueryExecutionContext.STATES.ended;
                    callback(undefined, undefined, headers);
                } else {
                    that.current(callback);
                }
                return undefined;
            }
            callback(undefined, that.resources[that.currentIndex], headers);
        });
    } else {
        this.state = DefaultQueryExecutionContext.STATES.ended;
        callback(undefined, undefined, undefined);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
 */
current: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">current</span>(callback);
},

/**
 * @deprecated Instead check if callback(undefined, undefined) is invoked by nextItem(callback) or current(callback)
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.fetchMore" id="apidoc.element.documentdb.defaultQueryExecutionContext.prototype.fetchMore">
        function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>fetchMore
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchMore = function (callback) {
    if (this.currentPartitionIndex &gt;= this.fetchFunctions.length) {
        return callback(undefined, undefined, undefined);
    }
    var that = this;
    // Keep to the original continuation and to restore the value after fetchFunction call
    var originalContinuation = this.options.continuation;
    this.options.continuation = this.continuation;

    // Return undefined if there is no more results
    if (this.currentPartitionIndex &gt;= that.fetchFunctions.length) {
        return callback(undefined, undefined, undefined);
    }

    var fetchFunction = this.fetchFunctions[this.currentPartitionIndex];
    fetchFunction(this.options, function(err, resources, responseHeaders){
        if(err) {
            that.state = DefaultQueryExecutionContext.STATES.ended;
            return callback(err, undefined, responseHeaders);
        }

        that.continuation = responseHeaders[Constants.HttpHeaders.Continuation];
        if (!that.continuation) {
            ++that.currentPartitionIndex;
        }

        that.state = DefaultQueryExecutionContext.STATES.inProgress;
        that.currentIndex = 0;
        that.options.continuation = originalContinuation;
        callback(undefined, resources, responseHeaders);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the next batch of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
 */
executeNext: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">fetchMore</span>(function(err, resources, responseHeaders) {
        if(err) {
            return callback(err, undefined, responseHeaders);
        }

        callback(undefined, resources, responseHeaders);
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.hasMoreResults" id="apidoc.element.documentdb.defaultQueryExecutionContext.prototype.hasMoreResults">
        function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>hasMoreResults
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasMoreResults = function () {
    return this.state === DefaultQueryExecutionContext.STATES.start || this.continuation !== undefined || this.currentIndex &lt; this
.resources.length || this.currentPartitionIndex &lt; this.fetchFunctions.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @returns {Boolean} true if there is other elements to process in the QueryIterator.
 */
hasMoreResults: function () {
    return this.queryExecutionContext.<span class="apidocCodeKeywordSpan">hasMoreResults</span>();
},

/**
 * Retrieve all the elements of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.defaultQueryExecutionContext.prototype.nextItem" id="apidoc.element.documentdb.defaultQueryExecutionContext.prototype.nextItem">
        function <span class="apidocSignatureSpan">documentdb.defaultQueryExecutionContext.prototype.</span>nextItem
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextItem = function (callback) {
    var that = this;
    this.current(function (err, resources, headers) {
        ++that.currentIndex;
        callback(err, resources, headers);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 /**
 * Execute a provided function on the next element in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
 */
nextItem: function (callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">nextItem</span>(callback);
},

/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.documentProducer" id="apidoc.module.documentdb.documentProducer">module documentdb.documentProducer</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.documentProducer" id="apidoc.element.documentdb.documentProducer.documentProducer">
        function <span class="apidocSignatureSpan">documentdb.</span>documentProducer
        <span class="apidocSignatureSpan">(documentclient, collectionLink, query, targetPartitionKeyRange)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">documentProducer = function (documentclient, collectionLink, query, targetPartitionKeyRange) {
    this.documentclient = documentclient;
    this.collectionLink = collectionLink;
    this.query = query;
    this.targetPartitionKeyRange = targetPartitionKeyRange;
    this.bufferedCurrentItem = undefined;

    var isNameBased = Base.isLinkNameBased(collectionLink);
    var path = this.documentclient.getPathFromLink(collectionLink, "docs", isNameBased);
    var id = this.documentclient.getIdFromLink(collectionLink, isNameBased);
    var options = {};

    var that = this;
    var fetchFunction =  function (options, callback) {
        that.documentclient.queryFeed.call(documentclient,
            documentclient,
                path,
                "docs",
                id,
                function (result) { return result.Documents; },
                function (parent, body) { return body; },
                query,
                options,
                callback,
                that.targetPartitionKeyRange["id"]);
    };
    this.internalExecutionContext = new DefaultQueryExecutionContext(documentclient, query, options, fetchFunction);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.OrderByDocumentProducerComparator" id="apidoc.element.documentdb.documentProducer.OrderByDocumentProducerComparator">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.</span>OrderByDocumentProducerComparator
        <span class="apidocSignatureSpan">(sortOrder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">OrderByDocumentProducerComparator = function (sortOrder) {
    this.sortOrder = sortOrder;
    this.targetPartitionKeyRangeDocProdComparator = new DocumentProducer.createTargetPartitionKeyRangeComparator();

    this._typeOrdComparator = Object.freeze({
        NoValue: {
            ord: 0
        },
        undefined: {
            ord: 1
        },
        boolean: {
            ord: 2,
            compFunc: function (a, b) {
                return (a == b ? 0 : (a &gt; b ? 1 : -1));
            }
        },
        number: {
            ord: 4,
            compFunc: function (a, b) {
                return (a == b ? 0 : (a &gt; b ? 1 : -1));
            }
        },
        string: {
            ord: 5,
            compFunc: function (a, b) {
                return (a == b ? 0 : (a &gt; b ? 1 : -1));
            }
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Represents an aggregator for MIN operator.
 * @constructor MinAggregator
 * @ignore
 */
function () {
    this.value = undefined;
    this.comparer = new DocumentProducer.<span class="apidocCodeKeywordSpan">OrderByDocumentProducerComparator</span>("Ascending
");
},
{
    /**
    * Add the provided item to aggregation result.
    * @memberof MinAggregator
    * @instance
    * @param other
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.createOrderByComparator" id="apidoc.element.documentdb.documentProducer.createOrderByComparator">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.</span>createOrderByComparator
        <span class="apidocSignatureSpan">(sortOrder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createOrderByComparator = function (sortOrder) {
    var comparator = new OrderByDocumentProducerComparator(sortOrder);
    return function (docProd1, docProd2) {
        return comparator.compare(docProd1, docProd2);
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.paritionedQueryExecutionInfo = partitionedQueryExecutionInfo;
this.err = undefined;
this.state = ParallelQueryExecutionContext.STATES.start;
this.routingProvider = new SmartRoutingMapProvider(this.documentclient);
this.sortOrders = QueryExecutionInfoParser.parseOrderBy(this.paritionedQueryExecutionInfo);

if (Array.isArray(this.sortOrders) &amp;&amp; this.sortOrders.length &gt; 0) {
    this.documentProducerComparator = DocumentProducer.<span class="apidocCodeKeywordSpan">createOrderByComparator</span>(this.sortOrders
);
} else {
    this.documentProducerComparator = DocumentProducer.createTargetPartitionKeyRangeComparator();
}

// this is a max priority queue
this.orderByPQ = new PriorityQueue(function (a, b) { return that.documentProducerComparator(b, a); });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.createTargetPartitionKeyRangeComparator" id="apidoc.element.documentdb.documentProducer.createTargetPartitionKeyRangeComparator">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.</span>createTargetPartitionKeyRangeComparator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createTargetPartitionKeyRangeComparator = function () {
    return function (docProd1, docProd2) {
        var a = docProd1.getTargetParitionKeyRange()['minInclusive'];
        var b = docProd2.getTargetParitionKeyRange()['minInclusive'];
        return (a == b ? 0 : (a &gt; b ? 1 : -1));
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
);

var OrderByDocumentProducerComparator = Base.defineClass(

    function (sortOrder) {
this.sortOrder = sortOrder;
this.targetPartitionKeyRangeDocProdComparator = new DocumentProducer.<span class="apidocCodeKeywordSpan">createTargetPartitionKeyRangeComparator
</span>();

this._typeOrdComparator = Object.freeze({
    NoValue: {
        ord: 0
    },
    undefined: {
        ord: 1
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.documentProducer.prototype" id="apidoc.module.documentdb.documentProducer.prototype">module documentdb.documentProducer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.prototype.current" id="apidoc.element.documentdb.documentProducer.prototype.current">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>current
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">current = function (callback) {
    var that = this;
    this.internalExecutionContext.current(function (err, item) {
        // sets the buffered current item for non async access
        that.bufferedCurrentItem = item;
        callback(err, item);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
 */
current: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">current</span>(callback);
},

/**
 * @deprecated Instead check if callback(undefined, undefined) is invoked by nextItem(callback) or current(callback)
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.prototype.getTargetParitionKeyRange" id="apidoc.element.documentdb.documentProducer.prototype.getTargetParitionKeyRange">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>getTargetParitionKeyRange
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getTargetParitionKeyRange = function () {
    return this.targetPartitionKeyRange;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Provides a Comparator for document producers using the min value of the corresponding target partition.
 * @returns {object}        - Comparator Function
 * @ignore
 */
createTargetPartitionKeyRangeComparator: function () {
    return function (docProd1, docProd2) {
        var a = docProd1.<span class="apidocCodeKeywordSpan">getTargetParitionKeyRange</span>()['minInclusive'];
        var b = docProd2.getTargetParitionKeyRange()['minInclusive'];
        return (a == b ? 0 : (a &gt; b ? 1 : -1));
    };
},

/**
 * Provides a Comparator for document producers which respects orderby sort order.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.prototype.nextItem" id="apidoc.element.documentdb.documentProducer.prototype.nextItem">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>nextItem
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextItem = function (callback) {
    var that = this;
    this.internalExecutionContext.nextItem(function (err, item) {
        that.bufferedCurrentItem = undefined;
        callback(err, item);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 /**
 * Execute a provided function on the next element in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
 */
nextItem: function (callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">nextItem</span>(callback);
},

/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentProducer.prototype.peek" id="apidoc.element.documentdb.documentProducer.prototype.peek">
        function <span class="apidocSignatureSpan">documentdb.documentProducer.prototype.</span>peek
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">peek = function () {
    return this.bufferedCurrentItem;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return (a == b ? 0 : (a &gt; b ? 1 : -1));
    }
}
        });
    },
    {
        compare: function (docProd1, docProd2) {
var orderByItemsRes1 = this.getOrderByItems(docProd1.<span class="apidocCodeKeywordSpan">peek</span>());
var orderByItemsRes2 = this.getOrderByItems(docProd2.peek());

// validate order by items and types
// TODO: once V1 order by on different types is fixed this need to change
this.validateOrderByItems(orderByItemsRes1, orderByItemsRes2);

// no async call in the for loop
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.documentclient" id="apidoc.module.documentdb.documentclient">module documentdb.documentclient</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.documentclient.DocumentBase" id="apidoc.element.documentdb.documentclient.DocumentBase">
        function <span class="apidocSignatureSpan">documentdb.documentclient.</span>DocumentBase
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DocumentBase = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentclient.DocumentClient" id="apidoc.element.documentdb.documentclient.DocumentClient">
        function <span class="apidocSignatureSpan">documentdb.documentclient.</span>DocumentClient
        <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentClient(urlConnection, auth, connectionPolicy, consistencyLevel) {
    this.urlConnection = urlConnection;
    if (auth !== undefined) {
        this.masterKey = auth.masterKey;
        this.resourceTokens = auth.resourceTokens;
        if (auth.permissionFeed) {
            this.resourceTokens = {};
            for (var i = 0; i &lt; auth.permissionFeed.length; i++) {
                var resourceParts = auth.permissionFeed[i].resource.split("/");
                var rid = resourceParts[resourceParts.length - 1];
                this.resourceTokens[rid] = auth.permissionFeed[i]._token;
            }
        }
    }

    this.connectionPolicy = connectionPolicy || new AzureDocuments.ConnectionPolicy();
    this.defaultHeaders = {};
    this.defaultHeaders[Constants.HttpHeaders.CacheControl] = "no-cache";
    this.defaultHeaders[Constants.HttpHeaders.Version] = Constants.CurrentVersion;
    if (consistencyLevel !== undefined) {
        this.defaultHeaders[Constants.HttpHeaders.ConsistencyLevel] = consistencyLevel;
    }

    this.defaultHeaders[Constants.HttpHeaders.UserAgent] = Base._getUserAgent();

    // overide this for default query params to be added to the url.
    this.defaultUrlParams = "";

    // Query compatibility mode.
    // Allows to specify compatibility mode used by client when making query requests. Should be removed when
    // application/sql is no longer supported.
    this.queryCompatibilityMode = AzureDocuments.QueryCompatibilityMode.Default;
    this.partitionResolvers = {};

    this.partitionKeyDefinitionCache = {};

    this._globalEndpointManager = new GlobalEndpointManager(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.documentclient.RetryOptions" id="apidoc.element.documentdb.documentclient.RetryOptions">
        function <span class="apidocSignatureSpan">documentdb.documentclient.</span>RetryOptions
        <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RetryOptions(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds) {
    this._maxRetryAttemptCount = maxRetryAttemptCount || 9;
    this._fixedRetryIntervalInMilliseconds = fixedRetryIntervalInMilliseconds;
    this._maxWaitTimeInSeconds = maxWaitTimeInSeconds || 30;

    Object.defineProperty(this, "MaxRetryAttemptCount", {
            get: function () {
                return this._maxRetryAttemptCount;
            },
            enumerable: true
    });

    Object.defineProperty(this, "FixedRetryIntervalInMilliseconds", {
        get: function () {
            return this._fixedRetryIntervalInMilliseconds;
        },
        enumerable: true
    });

    Object.defineProperty(this, "MaxWaitTimeInSeconds", {
        get: function () {
            return this._maxWaitTimeInSeconds;
        },
        enumerable: true
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.endpointComponent" id="apidoc.module.documentdb.endpointComponent">module documentdb.endpointComponent</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.endpointComponent.AggregateEndpointComponent" id="apidoc.element.documentdb.endpointComponent.AggregateEndpointComponent">
        function <span class="apidocSignatureSpan">documentdb.endpointComponent.</span>AggregateEndpointComponent
        <span class="apidocSignatureSpan">(executionContext, aggregateOperators)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">AggregateEndpointComponent = function (executionContext, aggregateOperators) {
    this.executionContext = executionContext;
    this.localAggregators = [];
    var that = this;
    aggregateOperators.forEach(function (aggregateOperator) {
        switch (aggregateOperator) {
            case 'Average':
                that.localAggregators.push(new aggregators.AverageAggregator());
                break;
            case 'Count':
                that.localAggregators.push(new aggregators.CountAggregator());
                break;
            case 'Max':
                that.localAggregators.push(new aggregators.MaxAggregator());
                break;
            case 'Min':
                that.localAggregators.push(new aggregators.MinAggregator());
                break;
            case 'Sum':
                that.localAggregators.push(new aggregators.SumAggregator());
                break;
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var orderBy = QueryExecutionInfoParser.parseOrderBy(partitionedQueryExecutionInfo);
    if (Array.isArray(orderBy) &amp;&amp; orderBy.length &gt; 0) {
        this.endpoint = new endpointComponent.OrderByEndpointComponent(this.endpoint);
    }

    var aggregates = QueryExecutionInfoParser.parseAggregates(partitionedQueryExecutionInfo);
    if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
        this.endpoint = new endpointComponent.<span class="apidocCodeKeywordSpan">AggregateEndpointComponent</span>(this.endpoint
, aggregates);
    }

    var top = QueryExecutionInfoParser.parseTop(partitionedQueryExecutionInfo);
    if (typeof (top) === 'number') {
        this.endpoint = new endpointComponent.TopEndpointComponent(this.endpoint, top);
    }
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.endpointComponent.OrderByEndpointComponent" id="apidoc.element.documentdb.endpointComponent.OrderByEndpointComponent">
        function <span class="apidocSignatureSpan">documentdb.endpointComponent.</span>OrderByEndpointComponent
        <span class="apidocSignatureSpan">(executionContext)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">OrderByEndpointComponent = function (executionContext) {
    this.executionContext = executionContext;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.endpoint = executionContext;
this.pageSize = options["maxItemCount"];
if (this.pageSize === undefined) {
    this.pageSize = PipelinedQueryExecutionContext.DEFAULT_PAGE_SIZE;
}
var orderBy = QueryExecutionInfoParser.parseOrderBy(partitionedQueryExecutionInfo);
if (Array.isArray(orderBy) &amp;&amp; orderBy.length &gt; 0) {
    this.endpoint = new endpointComponent.<span class="apidocCodeKeywordSpan">OrderByEndpointComponent</span>(this.endpoint);
}

var aggregates = QueryExecutionInfoParser.parseAggregates(partitionedQueryExecutionInfo);
if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
    this.endpoint = new endpointComponent.AggregateEndpointComponent(this.endpoint, aggregates);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.endpointComponent.TopEndpointComponent" id="apidoc.element.documentdb.endpointComponent.TopEndpointComponent">
        function <span class="apidocSignatureSpan">documentdb.endpointComponent.</span>TopEndpointComponent
        <span class="apidocSignatureSpan">(executionContext, topCount)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">TopEndpointComponent = function (executionContext, topCount) {
    this.executionContext = executionContext;
    this.topCount = topCount;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var aggregates = QueryExecutionInfoParser.parseAggregates(partitionedQueryExecutionInfo);
    if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
        this.endpoint = new endpointComponent.AggregateEndpointComponent(this.endpoint, aggregates);
    }

    var top = QueryExecutionInfoParser.parseTop(partitionedQueryExecutionInfo);
    if (typeof (top) === 'number') {
        this.endpoint = new endpointComponent.<span class="apidocCodeKeywordSpan">TopEndpointComponent</span>(this.endpoint, top
);
    }
},
{
    nextItem: function (callback) {
        return this.endpoint.nextItem(callback);
    },
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.endpointDiscoveryRetryPolicy" id="apidoc.module.documentdb.endpointDiscoveryRetryPolicy">module documentdb.endpointDiscoveryRetryPolicy</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.endpointDiscoveryRetryPolicy.endpointDiscoveryRetryPolicy" id="apidoc.element.documentdb.endpointDiscoveryRetryPolicy.endpointDiscoveryRetryPolicy">
        function <span class="apidocSignatureSpan">documentdb.</span>endpointDiscoveryRetryPolicy
        <span class="apidocSignatureSpan">(globalEndpointManager)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">endpointDiscoveryRetryPolicy = function (globalEndpointManager) {
    this._maxRetryAttemptCount = EndpointDiscoveryRetryPolicy.maxRetryAttemptCount;
    this.currentRetryAttemptCount = 0;
    this.globalEndpointManager = globalEndpointManager;
    this.retryAfterInMilliseconds = EndpointDiscoveryRetryPolicy.retryAfterInMilliseconds;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.endpointDiscoveryRetryPolicy.prototype" id="apidoc.module.documentdb.endpointDiscoveryRetryPolicy.prototype">module documentdb.endpointDiscoveryRetryPolicy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.endpointDiscoveryRetryPolicy.prototype.shouldRetry" id="apidoc.element.documentdb.endpointDiscoveryRetryPolicy.prototype.shouldRetry">
        function <span class="apidocSignatureSpan">documentdb.endpointDiscoveryRetryPolicy.prototype.</span>shouldRetry
        <span class="apidocSignatureSpan">(err, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shouldRetry = function (err, callback) {
    if (err) {
        if (this.currentRetryAttemptCount &lt; this._maxRetryAttemptCount &amp;&amp; this.globalEndpointManager.enableEndpointDiscovery) {
            this.currentRetryAttemptCount++;
            console.log("Write region was changed, refreshing the regions list from database account and will retry the request.");
            var that = this;
            this.globalEndpointManager.refreshEndpointList(function (writeEndpoint, readEndpoint) {
                that.globalEndpointManager.setWriteEndpoint(writeEndpoint);
                that.globalEndpointManager.setReadEndpoint(readEndpoint);
                callback(true);
            });
            return;
        }
    }
    return callback(false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
headers = headers || {};
if (err.code === EndpointDiscoveryRetryPolicy.FORBIDDEN_STATUS_CODE &amp;&amp; err.substatus === EndpointDiscoveryRetryPolicy.
WRITE_FORBIDDEN_SUB_STATUS_CODE) {
    retryPolicy = endpointDiscoveryRetryPolicy;
} else if (err.code === ResourceThrottleRetryPolicy.THROTTLE_STATUS_CODE) {
    retryPolicy = resourceThrottleRetryPolicy;
}
if (retryPolicy) {
    retryPolicy.<span class="apidocCodeKeywordSpan">shouldRetry</span>(err, function (shouldRetry) {
        if (!shouldRetry) {
            headers[Constants.ThrottleRetryCount] = resourceThrottleRetryPolicy.currentRetryAttemptCount;
            headers[Constants.ThrottleRetryWaitTimeInMs] = resourceThrottleRetryPolicy.cummulativeWaitTimeinMilliseconds;
            return callback(err, response, headers);
        } else {
            setTimeout(function () {
                that.apply(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy, resourceThrottleRetryPolicy
, callback);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.globalEndpointManager" id="apidoc.module.documentdb.globalEndpointManager">module documentdb.globalEndpointManager</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager.globalEndpointManager" id="apidoc.element.documentdb.globalEndpointManager.globalEndpointManager">
        function <span class="apidocSignatureSpan">documentdb.</span>globalEndpointManager
        <span class="apidocSignatureSpan">(client)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">globalEndpointManager = function (client) {
    this.client = client;
    this.defaultEndpoint = client.urlConnection;
    this._readEndpoint = client.urlConnection;
    this._writeEndpoint = client.urlConnection;
    this.enableEndpointDiscovery = client.connectionPolicy.EnableEndpointDiscovery;
    this.preferredLocations = client.connectionPolicy.PreferredLocations;
    this.isEndpointCacheInitialized = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.globalEndpointManager.prototype" id="apidoc.module.documentdb.globalEndpointManager.prototype">module documentdb.globalEndpointManager.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager.prototype.getReadEndpoint" id="apidoc.element.documentdb.globalEndpointManager.prototype.getReadEndpoint">
        function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>getReadEndpoint
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getReadEndpoint = function (callback) {
    if (!this.isEndpointCacheInitialized) {
        this.refreshEndpointList(function (writeEndpoint, readEndpoint) {
            callback(readEndpoint);
        });
    } else {
        callback(this._readEndpoint);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/** Gets the curent read endpoint for a geo-replicated database account.
 * @memberof DocumentClient
 * @instance
 * @param {function} callback        - The callback function which takes endpoint(string) as an argument.
*/
getReadEndpoint: function (callback) {
    this._globalEndpointManager.<span class="apidocCodeKeywordSpan">getReadEndpoint</span>(function (readEndpoint) {
        callback(readEndpoint);
    });
},

/** Send a request for creating a database.
 * &lt;p&gt;
 *  A database manages users, permissions and a set of collections.  &lt;br&gt;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager.prototype.getWriteEndpoint" id="apidoc.element.documentdb.globalEndpointManager.prototype.getWriteEndpoint">
        function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>getWriteEndpoint
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getWriteEndpoint = function (callback) {
    if (!this.isEndpointCacheInitialized) {
        this.refreshEndpointList(function (writeEndpoint, readEndpoint) {
            callback(writeEndpoint);
        });
    } else {
        callback(this._writeEndpoint);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    {
/** Gets the curent write endpoint for a geo-replicated database account.
 * @memberof DocumentClient
 * @instance
 * @param {function} callback        - The callback function which takes endpoint(string) as an argument.
*/
getWriteEndpoint: function (callback) {
    this._globalEndpointManager.<span class="apidocCodeKeywordSpan">getWriteEndpoint</span>(function (writeEndpoint) {
        callback(writeEndpoint);
    });
},

/** Gets the curent read endpoint for a geo-replicated database account.
 * @memberof DocumentClient
 * @instance
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager.prototype.refreshEndpointList" id="apidoc.element.documentdb.globalEndpointManager.prototype.refreshEndpointList">
        function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>refreshEndpointList
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">refreshEndpointList = function (callback) {
    var writableLocations = [];
    var readableLocations = [];
    var databaseAccount;

    var that = this;
    if (this.enableEndpointDiscovery) {
        this._getDatabaseAccount(function (databaseAccount) {
            if (databaseAccount) {
                writableLocations = databaseAccount.WritableLocations;
                readableLocations = databaseAccount.ReadableLocations;
            }

            // Read and Write endpoints will be initialized to default endpoint if we were not able to get the database account
info
            that._updateLocationsCache(writableLocations, readableLocations, function (endpoints) {
                that._writeEndpoint = endpoints[0];
                that._readEndpoint = endpoints[1];
                that.isEndpointCacheInitialized = true;
                callback(that._writeEndpoint, that._readEndpoint);
            });
        });
    } else {
        callback(that._writeEndpoint, that._readEndpoint);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
shouldRetry: function (err, callback) {
    if (err) {
        if (this.currentRetryAttemptCount &lt; this._maxRetryAttemptCount &amp;&amp; this.globalEndpointManager.enableEndpointDiscovery
) {
            this.currentRetryAttemptCount++;
            console.log("Write region was changed, refreshing the regions list from database account and will retry the request
.");
            var that = this;
            this.globalEndpointManager.<span class="apidocCodeKeywordSpan">refreshEndpointList</span>(function (writeEndpoint, readEndpoint
) {
                that.globalEndpointManager.setWriteEndpoint(writeEndpoint);
                that.globalEndpointManager.setReadEndpoint(readEndpoint);
                callback(true);
            });
            return;
        }
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager.prototype.setReadEndpoint" id="apidoc.element.documentdb.globalEndpointManager.prototype.setReadEndpoint">
        function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>setReadEndpoint
        <span class="apidocSignatureSpan">(readEndpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setReadEndpoint = function (readEndpoint) {
    this._readEndpoint = readEndpoint;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (err) {
        if (this.currentRetryAttemptCount &lt; this._maxRetryAttemptCount &amp;&amp; this.globalEndpointManager.enableEndpointDiscovery
) {
            this.currentRetryAttemptCount++;
            console.log("Write region was changed, refreshing the regions list from database account and will retry the request
.");
            var that = this;
            this.globalEndpointManager.refreshEndpointList(function (writeEndpoint, readEndpoint) {
                that.globalEndpointManager.setWriteEndpoint(writeEndpoint);
                that.globalEndpointManager.<span class="apidocCodeKeywordSpan">setReadEndpoint</span>(readEndpoint);
                callback(true);
            });
            return;
        }
    }
    return callback(false);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.globalEndpointManager.prototype.setWriteEndpoint" id="apidoc.element.documentdb.globalEndpointManager.prototype.setWriteEndpoint">
        function <span class="apidocSignatureSpan">documentdb.globalEndpointManager.prototype.</span>setWriteEndpoint
        <span class="apidocSignatureSpan">(writeEndpoint)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setWriteEndpoint = function (writeEndpoint) {
    this._writeEndpoint = writeEndpoint;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        shouldRetry: function (err, callback) {
if (err) {
    if (this.currentRetryAttemptCount &lt; this._maxRetryAttemptCount &amp;&amp; this.globalEndpointManager.enableEndpointDiscovery
) {
        this.currentRetryAttemptCount++;
        console.log("Write region was changed, refreshing the regions list from database account and will retry the request
.");
        var that = this;
        this.globalEndpointManager.refreshEndpointList(function (writeEndpoint, readEndpoint) {
            that.globalEndpointManager.<span class="apidocCodeKeywordSpan">setWriteEndpoint</span>(writeEndpoint);
            that.globalEndpointManager.setReadEndpoint(readEndpoint);
            callback(true);
        });
        return;
    }
}
return callback(false);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.hashPartitionResolver" id="apidoc.module.documentdb.hashPartitionResolver">module documentdb.hashPartitionResolver</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.hashPartitionResolver.HashPartitionResolver" id="apidoc.element.documentdb.hashPartitionResolver.HashPartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.hashPartitionResolver.</span>HashPartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HashPartitionResolver = function (partitionKeyExtractor, collectionLinks, options) {
    HashPartitionResolver._throwIfInvalidPartitionKeyExtractor(partitionKeyExtractor);
    HashPartitionResolver._throwIfInvalidCollectionLinks(collectionLinks);
    this.partitionKeyExtractor = partitionKeyExtractor;

    options = options || {};
    this.consistentHashRing = new ConsistentHashRing(collectionLinks, options);
    this.collectionLinks = collectionLinks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.inMemoryCollectionRoutingMap" id="apidoc.module.documentdb.inMemoryCollectionRoutingMap">module documentdb.inMemoryCollectionRoutingMap</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.inMemoryCollectionRoutingMap.CollectionRoutingMapFactory" id="apidoc.element.documentdb.inMemoryCollectionRoutingMap.CollectionRoutingMapFactory">
        function <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>CollectionRoutingMapFactory
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CollectionRoutingMapFactory = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.inMemoryCollectionRoutingMap.InMemoryCollectionRoutingMap" id="apidoc.element.documentdb.inMemoryCollectionRoutingMap.InMemoryCollectionRoutingMap">
        function <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>InMemoryCollectionRoutingMap
        <span class="apidocSignatureSpan">(rangeById, rangeByInfo, orderedPartitionKeyRanges, orderedPartitionInfo, collectionUniqueId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">InMemoryCollectionRoutingMap = function (rangeById, rangeByInfo, orderedPartitionKeyRanges, orderedPartitionInfo, collectionUniqueId) {
    this._rangeById = rangeById;
    this._rangeByInfo = rangeByInfo;
    this._orderedPartitionKeyRanges = orderedPartitionKeyRanges;
    this._orderedRanges = orderedPartitionKeyRanges.map(
        function (pkr) {
            return new QueryRange(
                pkr[_PartitionKeyRange.MinInclusive], pkr[_PartitionKeyRange.MaxExclusive], true, false);
        });
    this._orderedPartitionInfo = orderedPartitionInfo;
    this._collectionUniqueId = collectionUniqueId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.inMemoryCollectionRoutingMap.QueryRange" id="apidoc.element.documentdb.inMemoryCollectionRoutingMap.QueryRange">
        function <span class="apidocSignatureSpan">documentdb.inMemoryCollectionRoutingMap.</span>QueryRange
        <span class="apidocSignatureSpan">(rangeMin, rangeMax, isMinInclusive, isMaxInclusive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">QueryRange = function (rangeMin, rangeMax, isMinInclusive, isMaxInclusive) {
    this.min = rangeMin;
    this.max = rangeMax;
    this.isMinInclusive = isMinInclusive;
    this.isMaxInclusive = isMaxInclusive;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.index" id="apidoc.module.documentdb.index">module documentdb.index</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.index.DocumentBase" id="apidoc.element.documentdb.index.DocumentBase">
        function <span class="apidocSignatureSpan">documentdb.index.</span>DocumentBase
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DocumentBase = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.index.DocumentClient" id="apidoc.element.documentdb.index.DocumentClient">
        function <span class="apidocSignatureSpan">documentdb.index.</span>DocumentClient
        <span class="apidocSignatureSpan">(urlConnection, auth, connectionPolicy, consistencyLevel)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DocumentClient(urlConnection, auth, connectionPolicy, consistencyLevel) {
    this.urlConnection = urlConnection;
    if (auth !== undefined) {
        this.masterKey = auth.masterKey;
        this.resourceTokens = auth.resourceTokens;
        if (auth.permissionFeed) {
            this.resourceTokens = {};
            for (var i = 0; i &lt; auth.permissionFeed.length; i++) {
                var resourceParts = auth.permissionFeed[i].resource.split("/");
                var rid = resourceParts[resourceParts.length - 1];
                this.resourceTokens[rid] = auth.permissionFeed[i]._token;
            }
        }
    }

    this.connectionPolicy = connectionPolicy || new AzureDocuments.ConnectionPolicy();
    this.defaultHeaders = {};
    this.defaultHeaders[Constants.HttpHeaders.CacheControl] = "no-cache";
    this.defaultHeaders[Constants.HttpHeaders.Version] = Constants.CurrentVersion;
    if (consistencyLevel !== undefined) {
        this.defaultHeaders[Constants.HttpHeaders.ConsistencyLevel] = consistencyLevel;
    }

    this.defaultHeaders[Constants.HttpHeaders.UserAgent] = Base._getUserAgent();

    // overide this for default query params to be added to the url.
    this.defaultUrlParams = "";

    // Query compatibility mode.
    // Allows to specify compatibility mode used by client when making query requests. Should be removed when
    // application/sql is no longer supported.
    this.queryCompatibilityMode = AzureDocuments.QueryCompatibilityMode.Default;
    this.partitionResolvers = {};

    this.partitionKeyDefinitionCache = {};

    this._globalEndpointManager = new GlobalEndpointManager(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.index.HashPartitionResolver" id="apidoc.element.documentdb.index.HashPartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.index.</span>HashPartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, collectionLinks, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HashPartitionResolver = function (partitionKeyExtractor, collectionLinks, options) {
    HashPartitionResolver._throwIfInvalidPartitionKeyExtractor(partitionKeyExtractor);
    HashPartitionResolver._throwIfInvalidCollectionLinks(collectionLinks);
    this.partitionKeyExtractor = partitionKeyExtractor;

    options = options || {};
    this.consistentHashRing = new ConsistentHashRing(collectionLinks, options);
    this.collectionLinks = collectionLinks;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.index.Range" id="apidoc.element.documentdb.index.Range">
        function <span class="apidocSignatureSpan">documentdb.index.</span>Range
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Range = function (options) {
    if (options === undefined) {
        options = {};
    }
    if (options === null) {
        throw new Error("Invalid argument: 'options' is null");
    }
    if (typeof options !== "object") {
        throw new Error("Invalid argument: 'options' is not an object");
    }
    if (options.high === undefined) {
        options.high = options.low;
    }
    this.low = options.low;
    this.high = options.high;
    Object.freeze(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.index.RangePartitionResolver" id="apidoc.element.documentdb.index.RangePartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.index.</span>RangePartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RangePartitionResolver = function (partitionKeyExtractor, partitionKeyMap, compareFunction) {
    if (partitionKeyExtractor === undefined || partitionKeyExtractor === null) {
        throw new Error("partitionKeyExtractor cannot be null or undefined");
    }
    if (typeof partitionKeyExtractor !== "string" &amp;&amp; typeof partitionKeyExtractor !== "function") {
        throw new Error("partitionKeyExtractor must be either a 'string' or a 'function'");
    }
    if (partitionKeyMap === undefined || partitionKeyMap === null) {
        throw new Error("partitionKeyMap cannot be null or undefined");
    }
    if (!(Array.isArray(partitionKeyMap))) {
        throw new Error("partitionKeyMap has to be an Array");
    }
    var allMapEntriesAreValid = partitionKeyMap.every(function (mapEntry) {
        if ((mapEntry === undefined) || mapEntry === null) {
            return false;
        }
        if (mapEntry.range === undefined) {
            return false;
        }
        if (!(mapEntry.range instanceof Range)) {
            return false;
        }
        if (mapEntry.link === undefined) {
            return false;
        }
        if (typeof mapEntry.link !== "string") {
            return false;
        }
        return true;
    });
    if (!allMapEntriesAreValid) {
        throw new Error("All partitionKeyMap entries have to be a tuple {range: Range, link: string }");
    }
    if (compareFunction !== undefined &amp;&amp; typeof compareFunction !== "function") {
        throw new Error("Invalid argument: 'compareFunction' is not a function");
    }

    this.partitionKeyExtractor = partitionKeyExtractor;
    this.partitionKeyMap = partitionKeyMap;
    this.compareFunction = compareFunction;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.index.RetryOptions" id="apidoc.element.documentdb.index.RetryOptions">
        function <span class="apidocSignatureSpan">documentdb.index.</span>RetryOptions
        <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RetryOptions(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds) {
    this._maxRetryAttemptCount = maxRetryAttemptCount || 9;
    this._fixedRetryIntervalInMilliseconds = fixedRetryIntervalInMilliseconds;
    this._maxWaitTimeInSeconds = maxWaitTimeInSeconds || 30;

    Object.defineProperty(this, "MaxRetryAttemptCount", {
            get: function () {
                return this._maxRetryAttemptCount;
            },
            enumerable: true
    });

    Object.defineProperty(this, "FixedRetryIntervalInMilliseconds", {
        get: function () {
            return this._fixedRetryIntervalInMilliseconds;
        },
        enumerable: true
    });

    Object.defineProperty(this, "MaxWaitTimeInSeconds", {
        get: function () {
            return this._maxWaitTimeInSeconds;
        },
        enumerable: true
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.murmurHash" id="apidoc.module.documentdb.murmurHash">module documentdb.murmurHash</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.murmurHash.MurmurHash" id="apidoc.element.documentdb.murmurHash.MurmurHash">
        function <span class="apidocSignatureSpan">documentdb.murmurHash.</span>MurmurHash
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">MurmurHash = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.parallelQueryExecutionContext" id="apidoc.module.documentdb.parallelQueryExecutionContext">module documentdb.parallelQueryExecutionContext</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.parallelQueryExecutionContext.parallelQueryExecutionContext" id="apidoc.element.documentdb.parallelQueryExecutionContext.parallelQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>parallelQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, collectionLink, query, options, partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallelQueryExecutionContext = function (documentclient, collectionLink, query, options, partitionedQueryExecutionInfo) {
    this.documentclient = documentclient;
    this.collectionLink = collectionLink;
    this.query = query;
    this.options = options;
    this.paritionedQueryExecutionInfo = partitionedQueryExecutionInfo;
    this.err = undefined;
    this.state = ParallelQueryExecutionContext.STATES.start;
    this.routingProvider = new SmartRoutingMapProvider(this.documentclient);
    this.sortOrders = QueryExecutionInfoParser.parseOrderBy(this.paritionedQueryExecutionInfo);

    if (Array.isArray(this.sortOrders) &amp;&amp; this.sortOrders.length &gt; 0) {
        this.documentProducerComparator = DocumentProducer.createOrderByComparator(this.sortOrders);
    } else {
        this.documentProducerComparator = DocumentProducer.createTargetPartitionKeyRangeComparator();
    }

    // this is a max priority queue
    this.orderByPQ = new PriorityQueue(function (a, b) { return that.documentProducerComparator(b, a); });

    this.state = ParallelQueryExecutionContext.STATES.started;
    this.sem = require('semaphore')(1);
    var that = this;
    var createDocumentProducersAndFillUpPriorityQueueFunc = function () {
        // ensure the lock is released after finishing up
        that._onTargetPartitionRanges(function (err, targetPartitionRanges) {
            that.waitingForInternalExcecutionContexts = targetPartitionRanges.length;
            if (err) {
                that.err = err;
                 // relase the lock
                that.sem.leave();
                return;
            }
            var maxDegreeOfParallelism = options.maxDegreeOfParallelism || 1;

            if (maxDegreeOfParallelism &gt; 0) {
                maxDegreeOfParallelism = Math.min(maxDegreeOfParallelism, targetPartitionRanges.length);
            } else {
                maxDegreeOfParallelism = targetPartitionRanges.length;
            }
            var parallelismSem = require('semaphore')(Math.max(maxDegreeOfParallelism, 1));

            var targetPartitionQueryExecutionContextList = [];

            targetPartitionRanges.forEach(
                function (partitionTargetRange) {
                    // no async callback
                    targetPartitionQueryExecutionContextList.push(
                        that._createTargetPartitionQueryExecutionContext(partitionTargetRange));
                }
            );

            targetPartitionQueryExecutionContextList.forEach(
                function (targetQueryExContext) {

                    // has async callback
                    var throttledFunc = function () {
                        targetQueryExContext.current(function (err, document) {
                            try {
                                if (err) {
                                    that.err = err;
                                    return;
                                }

                                if (document == undefined) {
                                    // no results on this one
                                    return;
                                }
                                // if there are matching results in the target ex range add it to the priority queue
                                try {
                                    that.orderByPQ.enq(targetQueryExContext);
                                } catch (e) {
                                    that.err = e;
                                }
                            } finally {
                                parallelismSem.leave();
                                that._decrementInitiationLock();
                            }
                        });
                    }
                    parallelismSem.take(throttledFunc);
                });
        });
    };
    this.sem.take(createDocumentProducersAndFillUpPriorityQueueFunc);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.parallelQueryExecutionContext.prototype" id="apidoc.module.documentdb.parallelQueryExecutionContext.prototype">module documentdb.parallelQueryExecutionContext.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.parallelQueryExecutionContext.prototype.current" id="apidoc.element.documentdb.parallelQueryExecutionContext.prototype.current">
        function <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.prototype.</span>current
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">current = function (callback) {
    if (this.err) {
        return callback(this.err, undefined);
    }
    var that = this;
    this.sem.take(function () {
        try {
            if (that.err) {
                return callback(that.err, undefined);
            }

            if (that.orderByPQ.size() === 0) {
                return callback(undefined, undefined);
            }
            var targetPartitionRangeDocumentProducer = that.orderByPQ.peek();
            targetPartitionRangeDocumentProducer.current(callback);
        } finally {
            that.sem.leave();
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
 */
current: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">current</span>(callback);
},

/**
 * @deprecated Instead check if callback(undefined, undefined) is invoked by nextItem(callback) or current(callback)
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.parallelQueryExecutionContext.prototype.hasMoreResults" id="apidoc.element.documentdb.parallelQueryExecutionContext.prototype.hasMoreResults">
        function <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.prototype.</span>hasMoreResults
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasMoreResults = function () {
    return !(this.state === ParallelQueryExecutionContext.STATES.ended || this.err !== undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @returns {Boolean} true if there is other elements to process in the QueryIterator.
 */
hasMoreResults: function () {
    return this.queryExecutionContext.<span class="apidocCodeKeywordSpan">hasMoreResults</span>();
},

/**
 * Retrieve all the elements of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.parallelQueryExecutionContext.prototype.nextItem" id="apidoc.element.documentdb.parallelQueryExecutionContext.prototype.nextItem">
        function <span class="apidocSignatureSpan">documentdb.parallelQueryExecutionContext.prototype.</span>nextItem
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextItem = function (callback) {
    if (this.err) {
        // if there is a prior error return error
        return callback(this.err, undefined);
    }
    var that = this;
    this.sem.take(function () {
        // NOTE: lock must be released before invoking quitting
        if (that.err) {
            // release the lock before invoking callback
            that.sem.leave();
            // if there is a prior error return error
            return callback(that.err, undefined);
        }

        if (that.orderByPQ.size() === 0) {
            // there is no more results
            that.state = ParallelQueryExecutionContext.STATES.ended;
            // release the lock before invoking callback
            that.sem.leave();
            return callback(undefined, undefined);
        }
        try {
            var targetPartitionRangeDocumentProducer = that.orderByPQ.deq();
        } catch (e) {
            // if comparing elements of the priority queue throws exception
            // set that error and return error
            that.err = e;
            // release the lock before invoking callback
            that.sem.leave();
            return callback(that.err, undefined);
        }

        targetPartitionRangeDocumentProducer.nextItem(function (err, item) {
            if (err) {
                // this should never happen
                // because the documentProducer already has buffered an item
                // assert err === undefined
                that.err =
                    new Error(
                        util.format(
                                "Extracted DocumentProducer from the priority queue fails to get the buffered item. Due to %s",
                            JSON.stringify(err)));
                // release the lock before invoking callback
                that.sem.leave();
                return callback(that.err, undefined);
            }
            if (item === undefined) {
                // this should never happen
                // because the documentProducer already has buffered an item
                // assert item !== undefined
                that.err =
                    new Error(
                        util.format(
                            "Extracted DocumentProducer from the priority queue doesn't have any buffered item!"));
                // release the lock before invoking callback
                that.sem.leave();
                return callback(that.err, undefined);
            }

            // we need to put back the document producer to the queue if it has more elements.
            // the lock will be released after we know document producer must be put back in the queue or not
            targetPartitionRangeDocumentProducer.current(function (err, afterItem) {
                try {
                    if (err) {
                        that.err = err;
                        return;
                    }
                    if (afterItem === undefined) {
                        // no more results is left in this document producer
                        return;
                    }
                    try {
                        var headItem = targetPartitionRangeDocumentProducer.peek();
                        assert.notStrictEqual(headItem, undefined,
                            'Extracted DocumentProducer from PQ is invalid state with no result!');
                        that.orderByPQ.enq(targetPartitionRangeDocumentProducer);
                    } catch (e) {
                        // if comparing elements in priority queue throws exception
                        // set error
                        that.err = e;
                    }
                    return;
                } finally {
                    // release the lock before returning
                    that.sem.leave();
                }
            });

            // invoke the callback on the item
            callback(undefined, item);
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 /**
 * Execute a provided function on the next element in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
 */
nextItem: function (callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">nextItem</span>(callback);
},

/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.partitionKeyRangeCache" id="apidoc.module.documentdb.partitionKeyRangeCache">module documentdb.partitionKeyRangeCache</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.partitionKeyRangeCache.partitionKeyRangeCache" id="apidoc.element.documentdb.partitionKeyRangeCache.partitionKeyRangeCache">
        function <span class="apidocSignatureSpan">documentdb.</span>partitionKeyRangeCache
        <span class="apidocSignatureSpan">(documentclient)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">partitionKeyRangeCache = function (documentclient) {
    this.documentclient = documentclient;
    this.collectionRoutingMapByCollectionId = {};
    this.sem = require("semaphore")(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.partitionKeyRangeCache.prototype" id="apidoc.module.documentdb.partitionKeyRangeCache.prototype">module documentdb.partitionKeyRangeCache.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.partitionKeyRangeCache.prototype.getOverlappingRanges" id="apidoc.element.documentdb.partitionKeyRangeCache.prototype.getOverlappingRanges">
        function <span class="apidocSignatureSpan">documentdb.partitionKeyRangeCache.prototype.</span>getOverlappingRanges
        <span class="apidocSignatureSpan">(callback, collectionLink, queryRanges)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOverlappingRanges = function (callback, collectionLink, queryRanges) {
    this._onCollectionRoutingMap(function (err, collectionRoutingMap) {
        if (err) {
            return callback(err, undefined);
        }
        return callback(undefined, collectionRoutingMap.getOverlappingRanges(queryRanges));
    }, collectionLink);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            return new DocumentProducer(this.documentclient, this.collectionLink, query, partitionKeyTargetRange);
        },

        _onTargetPartitionRanges: function (callback) {
            // invokes the callback when the target partition ranges are ready
            var parsedRanges = QueryExecutionInfoParser.parseQueryRanges(this.paritionedQueryExecutionInfo);
            var queryRanges = parsedRanges.map(function (item) { return QueryRange.parseFromDict(item); });
            return this.routingProvider.<span class="apidocCodeKeywordSpan">getOverlappingRanges</span>(callback, this.collectionLink
, queryRanges);
        },
    },
    {
        STATES: Object.freeze({ started: "started", inProgress: "inProgress", ended: "ended" })
    }
);
//SCRIPT END
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.partitionedQueryExecutionContextInfoParser" id="apidoc.module.documentdb.partitionedQueryExecutionContextInfoParser">module documentdb.partitionedQueryExecutionContextInfoParser</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.partitionedQueryExecutionContextInfoParser" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.partitionedQueryExecutionContextInfoParser">
        function <span class="apidocSignatureSpan">documentdb.</span>partitionedQueryExecutionContextInfoParser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">partitionedQueryExecutionContextInfoParser = function () { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseAggregates" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseAggregates">
        function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseAggregates
        <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseAggregates = function (partitionedQueryExecutionInfo) {
    return this._extract(partitionedQueryExecutionInfo, PartitionedQueryContants.AggregatePath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.pageSize = PipelinedQueryExecutionContext.DEFAULT_PAGE_SIZE;
}
var orderBy = QueryExecutionInfoParser.parseOrderBy(partitionedQueryExecutionInfo);
if (Array.isArray(orderBy) &amp;&amp; orderBy.length &gt; 0) {
    this.endpoint = new endpointComponent.OrderByEndpointComponent(this.endpoint);
}

var aggregates = QueryExecutionInfoParser.<span class="apidocCodeKeywordSpan">parseAggregates</span>(partitionedQueryExecutionInfo
);
if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
    this.endpoint = new endpointComponent.AggregateEndpointComponent(this.endpoint, aggregates);
}

var top = QueryExecutionInfoParser.parseTop(partitionedQueryExecutionInfo);
if (typeof (top) === 'number') {
    this.endpoint = new endpointComponent.TopEndpointComponent(this.endpoint, top);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseOrderBy" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseOrderBy">
        function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseOrderBy
        <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseOrderBy = function (partitionedQueryExecutionInfo) {
    return this._extract(partitionedQueryExecutionInfo, PartitionedQueryContants.OrderByPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.collectionLink = collectionLink;
this.query = query;
this.options = options;
this.paritionedQueryExecutionInfo = partitionedQueryExecutionInfo;
this.err = undefined;
this.state = ParallelQueryExecutionContext.STATES.start;
this.routingProvider = new SmartRoutingMapProvider(this.documentclient);
this.sortOrders = QueryExecutionInfoParser.<span class="apidocCodeKeywordSpan">parseOrderBy</span>(this.paritionedQueryExecutionInfo
);

if (Array.isArray(this.sortOrders) &amp;&amp; this.sortOrders.length &gt; 0) {
    this.documentProducerComparator = DocumentProducer.createOrderByComparator(this.sortOrders);
} else {
    this.documentProducerComparator = DocumentProducer.createTargetPartitionKeyRangeComparator();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseQueryRanges" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseQueryRanges">
        function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseQueryRanges
        <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseQueryRanges = function (partitionedQueryExecutionInfo) {
    return this._extract(partitionedQueryExecutionInfo, PartitionedQueryContants.QueryRangesPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            query['query'] = rewrittenQuery;
        }
        return new DocumentProducer(this.documentclient, this.collectionLink, query, partitionKeyTargetRange);
    },

    _onTargetPartitionRanges: function (callback) {
        // invokes the callback when the target partition ranges are ready
        var parsedRanges = QueryExecutionInfoParser.<span class="apidocCodeKeywordSpan">parseQueryRanges</span>(this.paritionedQueryExecutionInfo
);
        var queryRanges = parsedRanges.map(function (item) { return QueryRange.parseFromDict(item); });
        return this.routingProvider.getOverlappingRanges(callback, this.collectionLink, queryRanges);
    },
},
{
    STATES: Object.freeze({ started: "started", inProgress: "inProgress", ended: "ended" })
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseRewrittenQuery" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseRewrittenQuery">
        function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseRewrittenQuery
        <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseRewrittenQuery = function (partitionedQueryExecutionInfo) {
    return this._extract(partitionedQueryExecutionInfo, PartitionedQueryContants.RewrittenQueryPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
hasMoreResults: function () {
    return !(this.state === ParallelQueryExecutionContext.STATES.ended || this.err !== undefined);
},

_createTargetPartitionQueryExecutionContext: function (partitionKeyTargetRange) {
    // creates target partition range Query Execution Context
    var rewrittenQuery = QueryExecutionInfoParser.<span class="apidocCodeKeywordSpan">parseRewrittenQuery</span>(this.paritionedQueryExecutionInfo
);
    var query = this.query;
    if (typeof (query) === 'string') {
        query = { 'query': query };
    }
    if (rewrittenQuery) {
        query = JSON.parse(JSON.stringify(query));
        // We hardcode the formattable filter to true for now
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseTop" id="apidoc.element.documentdb.partitionedQueryExecutionContextInfoParser.parseTop">
        function <span class="apidocSignatureSpan">documentdb.partitionedQueryExecutionContextInfoParser.</span>parseTop
        <span class="apidocSignatureSpan">(partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseTop = function (partitionedQueryExecutionInfo) {
    return this._extract(partitionedQueryExecutionInfo, PartitionedQueryContants.TopPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }

    var aggregates = QueryExecutionInfoParser.parseAggregates(partitionedQueryExecutionInfo);
    if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
        this.endpoint = new endpointComponent.AggregateEndpointComponent(this.endpoint, aggregates);
    }

    var top = QueryExecutionInfoParser.<span class="apidocCodeKeywordSpan">parseTop</span>(partitionedQueryExecutionInfo);
    if (typeof (top) === 'number') {
        this.endpoint = new endpointComponent.TopEndpointComponent(this.endpoint, top);
    }
},
{
    nextItem: function (callback) {
        return this.endpoint.nextItem(callback);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.pipelinedQueryExecutionContext" id="apidoc.module.documentdb.pipelinedQueryExecutionContext">module documentdb.pipelinedQueryExecutionContext</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.pipelinedQueryExecutionContext" id="apidoc.element.documentdb.pipelinedQueryExecutionContext.pipelinedQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>pipelinedQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, options, executionContext, partitionedQueryExecutionInfo)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pipelinedQueryExecutionContext = function (documentclient, options, executionContext, partitionedQueryExecutionInfo) {
    this.documentclient = documentclient;
    this.options = options;
    this.partitionedQueryExecutionInfo = partitionedQueryExecutionInfo;
    this.endpoint = executionContext;
    this.pageSize = options["maxItemCount"];
    if (this.pageSize === undefined) {
        this.pageSize = PipelinedQueryExecutionContext.DEFAULT_PAGE_SIZE;
    }
    var orderBy = QueryExecutionInfoParser.parseOrderBy(partitionedQueryExecutionInfo);
    if (Array.isArray(orderBy) &amp;&amp; orderBy.length &gt; 0) {
        this.endpoint = new endpointComponent.OrderByEndpointComponent(this.endpoint);
    }

    var aggregates = QueryExecutionInfoParser.parseAggregates(partitionedQueryExecutionInfo);
    if (Array.isArray(aggregates) &amp;&amp; aggregates.length &gt; 0) {
        this.endpoint = new endpointComponent.AggregateEndpointComponent(this.endpoint, aggregates);
    }

    var top = QueryExecutionInfoParser.parseTop(partitionedQueryExecutionInfo);
    if (typeof (top) === 'number') {
        this.endpoint = new endpointComponent.TopEndpointComponent(this.endpoint, top);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.pipelinedQueryExecutionContext.prototype" id="apidoc.module.documentdb.pipelinedQueryExecutionContext.prototype">module documentdb.pipelinedQueryExecutionContext.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.current" id="apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.current">
        function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>current
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">current = function (callback) {
    return this.endpoint.current(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
 */
current: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">current</span>(callback);
},

/**
 * @deprecated Instead check if callback(undefined, undefined) is invoked by nextItem(callback) or current(callback)
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.fetchMore" id="apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.fetchMore">
        function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>fetchMore
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchMore = function (callback) {
    this._fetchMoreTempBufferedResults = [];
    this._fetchMoreLastResHeaders = undefined;
    this._fetchMoreImplementation(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the next batch of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
 */
executeNext: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">fetchMore</span>(function(err, resources, responseHeaders) {
        if(err) {
            return callback(err, undefined, responseHeaders);
        }

        callback(undefined, resources, responseHeaders);
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.hasMoreResults" id="apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.hasMoreResults">
        function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>hasMoreResults
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasMoreResults = function (callback) {
    return this.endpoint.hasMoreResults(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @returns {Boolean} true if there is other elements to process in the QueryIterator.
 */
hasMoreResults: function () {
    return this.queryExecutionContext.<span class="apidocCodeKeywordSpan">hasMoreResults</span>();
},

/**
 * Retrieve all the elements of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.nextItem" id="apidoc.element.documentdb.pipelinedQueryExecutionContext.prototype.nextItem">
        function <span class="apidocSignatureSpan">documentdb.pipelinedQueryExecutionContext.prototype.</span>nextItem
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextItem = function (callback) {
    return this.endpoint.nextItem(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 /**
 * Execute a provided function on the next element in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
 */
nextItem: function (callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">nextItem</span>(callback);
},

/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.platform" id="apidoc.module.documentdb.platform">module documentdb.platform</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.platform._getSafeUserAgentSegmentInfo" id="apidoc.element.documentdb.platform._getSafeUserAgentSegmentInfo">
        function <span class="apidocSignatureSpan">documentdb.platform.</span>_getSafeUserAgentSegmentInfo
        <span class="apidocSignatureSpan">(s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getSafeUserAgentSegmentInfo = function (s) {
    // catch null, undefined, etc
    if (typeof (s) !== 'string') {
        s = "unknown";
    }
    // remove all white spaces
    s = s.replace(/\s+/g, '');
    if (!s) {
        s = "unknown";
    }
    return s
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    /** @ignore */
    getUserAgent: function () {
// gets the user agent in the following format
// "{OSName}/{OSVersion} Nodejs/{NodejsVersion} documentdb-nodejs-sdk/{SDKVersion}"
// for example:
// "linux/3.4.0+ Nodejs/v0.10.25 documentdb-nodejs-sdk/1.10.0"
// "win32/10.0.14393 Nodejs/v4.4.7 documentdb-nodejs-sdk/1.10.0"
var osName = Platform.<span class="apidocCodeKeywordSpan">_getSafeUserAgentSegmentInfo</span>(os.platform());
var osVersion = Platform._getSafeUserAgentSegmentInfo(os.release());
var nodejsVersion = Platform._getSafeUserAgentSegmentInfo(process.version);

var userAgent = util.format("%s/%s Nodejs/%s %s/%s", osName, osVersion,
    nodejsVersion,
    Constants.SDKName, Constants.SDKVersion);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.platform.getUserAgent" id="apidoc.element.documentdb.platform.getUserAgent">
        function <span class="apidocSignatureSpan">documentdb.platform.</span>getUserAgent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUserAgent = function () {
    // gets the user agent in the following format
    // "{OSName}/{OSVersion} Nodejs/{NodejsVersion} documentdb-nodejs-sdk/{SDKVersion}"
    // for example:
    // "linux/3.4.0+ Nodejs/v0.10.25 documentdb-nodejs-sdk/1.10.0"
    // "win32/10.0.14393 Nodejs/v4.4.7 documentdb-nodejs-sdk/1.10.0"
    var osName = Platform._getSafeUserAgentSegmentInfo(os.platform());
    var osVersion = Platform._getSafeUserAgentSegmentInfo(os.release());
    var nodejsVersion = Platform._getSafeUserAgentSegmentInfo(process.version);

    var userAgent = util.format("%s/%s Nodejs/%s %s/%s", osName, osVersion,
        nodejsVersion,
        Constants.SDKName, Constants.SDKVersion);

    return userAgent;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.proxyQueryExecutionContext" id="apidoc.module.documentdb.proxyQueryExecutionContext">module documentdb.proxyQueryExecutionContext</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.proxyQueryExecutionContext.proxyQueryExecutionContext" id="apidoc.element.documentdb.proxyQueryExecutionContext.proxyQueryExecutionContext">
        function <span class="apidocSignatureSpan">documentdb.</span>proxyQueryExecutionContext
        <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">proxyQueryExecutionContext = function (documentclient, query, options, fetchFunctions, resourceLink) {
    this.documentclient = documentclient;
    this.query = query;
    this.fetchFunctions = fetchFunctions;
    this.options = options;
    this.resourceLink = resourceLink;
    this.queryExecutionContext = new DefaultQueryExecutionContext(this.documentclient, this.query, this.options, this.fetchFunctions
);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.proxyQueryExecutionContext.prototype" id="apidoc.module.documentdb.proxyQueryExecutionContext.prototype">module documentdb.proxyQueryExecutionContext.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.current" id="apidoc.element.documentdb.proxyQueryExecutionContext.prototype.current">
        function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>current
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">current = function (callback) {
    var that = this;
    this.queryExecutionContext.current(function (err, resources, headers) {

        if (err) {
            if (that._hasPartitionedExecutionInfo(err)) {
                // if that's a partitioned execution info switches the execution context
                var partitionedExecutionInfo = that._getParitionedExecutionInfo(err);
                that.queryExecutionContext = that._createPipelinedExecutionContext(partitionedExecutionInfo);
                return that.current(callback);
            } else {
                return callback(err, undefined, headers);
            }
        } else {
            callback(undefined, resources, headers);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
 */
current: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">current</span>(callback);
},

/**
 * @deprecated Instead check if callback(undefined, undefined) is invoked by nextItem(callback) or current(callback)
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.fetchMore" id="apidoc.element.documentdb.proxyQueryExecutionContext.prototype.fetchMore">
        function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>fetchMore
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fetchMore = function (callback) {
    var that = this;

    this.queryExecutionContext.fetchMore(function (err, resources, headers) {
        if (err) {
            if (that._hasPartitionedExecutionInfo(err)) {
                // if that's a partitioned execution info switches the execution context
                var partitionedExecutionInfo = that._getParitionedExecutionInfo(err);
                that.queryExecutionContext = that._createPipelinedExecutionContext(partitionedExecutionInfo);
                return that.queryExecutionContext.fetchMore(callback);
            } else {
                return callback(err, undefined, headers);
            }
        } else {
            callback(undefined, resources, headers);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the next batch of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
 */
executeNext: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">fetchMore</span>(function(err, resources, responseHeaders) {
        if(err) {
            return callback(err, undefined, responseHeaders);
        }

        callback(undefined, resources, responseHeaders);
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.hasMoreResults" id="apidoc.element.documentdb.proxyQueryExecutionContext.prototype.hasMoreResults">
        function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>hasMoreResults
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasMoreResults = function () {
    return this.queryExecutionContext.hasMoreResults();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @returns {Boolean} true if there is other elements to process in the QueryIterator.
 */
hasMoreResults: function () {
    return this.queryExecutionContext.<span class="apidocCodeKeywordSpan">hasMoreResults</span>();
},

/**
 * Retrieve all the elements of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.proxyQueryExecutionContext.prototype.nextItem" id="apidoc.element.documentdb.proxyQueryExecutionContext.prototype.nextItem">
        function <span class="apidocSignatureSpan">documentdb.proxyQueryExecutionContext.prototype.</span>nextItem
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextItem = function (callback) {
    var that = this;
    this.queryExecutionContext.nextItem(function (err, resources, headers) {

        if (err) {
            if (that._hasPartitionedExecutionInfo(err)) {
                // if that's a partitioned execution info switches the execution context
                var partitionedExecutionInfo = that._getParitionedExecutionInfo(err);
                that.queryExecutionContext = that._createPipelinedExecutionContext(partitionedExecutionInfo);
                return that.nextItem(callback);
            } else {
                return callback(err, undefined, headers);
            }
        } else {
            callback(undefined, resources, headers);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 /**
 * Execute a provided function on the next element in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
 */
nextItem: function (callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">nextItem</span>(callback);
},

/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.queryIterator" id="apidoc.module.documentdb.queryIterator">module documentdb.queryIterator</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.queryIterator" id="apidoc.element.documentdb.queryIterator.queryIterator">
        function <span class="apidocSignatureSpan">documentdb.</span>queryIterator
        <span class="apidocSignatureSpan">(documentclient, query, options, fetchFunctions, resourceLink)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queryIterator = function (documentclient, query, options, fetchFunctions, resourceLink) {

    this.documentclient = documentclient;
    this.query = query;
    this.fetchFunctions = fetchFunctions;
    this.options = options;
    this.resourceLink = resourceLink;
    this.queryExecutionContext = this._createQueryExecutionContext();

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.queryIterator.prototype" id="apidoc.module.documentdb.queryIterator.prototype">module documentdb.queryIterator.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.current" id="apidoc.element.documentdb.queryIterator.prototype.current">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>current
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">current = function (callback) {
    this.queryExecutionContext.current(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
 */
current: function(callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">current</span>(callback);
},

/**
 * @deprecated Instead check if callback(undefined, undefined) is invoked by nextItem(callback) or current(callback)
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.executeNext" id="apidoc.element.documentdb.queryIterator.prototype.executeNext">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>executeNext
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">executeNext = function (callback) {
    this.queryExecutionContext.fetchMore(function(err, resources, responseHeaders) {
        if(err) {
            return callback(err, undefined, responseHeaders);
        }

        callback(undefined, resources, responseHeaders);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.forEach" id="apidoc.element.documentdb.queryIterator.prototype.forEach">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>forEach
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">forEach = function (callback) {
    this.reset();
    this._forEachImplementation(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        callback(err, that.partitionKeyDefinitionCache[collectionLink], collection, headers);
    });
},

extractPartitionKey: function (document, partitionKeyDefinition) {
    if (partitionKeyDefinition &amp;&amp; partitionKeyDefinition.paths &amp;&amp; partitionKeyDefinition.paths.length &gt;
0) {
        var partitionKey = [];
        partitionKeyDefinition.paths.<span class="apidocCodeKeywordSpan">forEach</span>(function (path) {
            var pathParts = Base.parsePath(path);

            var obj = document;
            for (var i = 0; i &lt; pathParts.length; ++i) {
                if (!(pathParts[i] in obj)) {
                    obj = {};
                    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.hasMoreResults" id="apidoc.element.documentdb.queryIterator.prototype.hasMoreResults">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>hasMoreResults
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasMoreResults = function () {
    return this.queryExecutionContext.hasMoreResults();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * Determine if there are still remaining resources to processs based on the value of the continuation token or the elements remaining
 on the current batch in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @returns {Boolean} true if there is other elements to process in the QueryIterator.
 */
hasMoreResults: function () {
    return this.queryExecutionContext.<span class="apidocCodeKeywordSpan">hasMoreResults</span>();
},

/**
 * Retrieve all the elements of the feed and pass them as an array to a function
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function execute on the feed response, takes two parameters error, resourcesList
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.nextItem" id="apidoc.element.documentdb.queryIterator.prototype.nextItem">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>nextItem
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextItem = function (callback) {
    this.queryExecutionContext.nextItem(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 /**
 * Execute a provided function on the next element in the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
 */
nextItem: function (callback) {
    this.queryExecutionContext.<span class="apidocCodeKeywordSpan">nextItem</span>(callback);
},

/**
 * Retrieve the current element on the QueryIterator.
 * @memberof QueryIterator
 * @instance
 * @param {callback} callback - Function to execute for the current element. the function takes two parameters error, element.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.reset" id="apidoc.element.documentdb.queryIterator.prototype.reset">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
    this.queryExecutionContext = this._createQueryExecutionContext();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @memberof QueryIterator
* @instance
* @param {callback} callback - Function to execute for each element. the function takes two parameters error, element.
* Note: the last element the callback will be called on will be undefined.
* If the callback explicitly returned false, the loop gets stopped.
*/
        forEach: function(callback) {
   this.<span class="apidocCodeKeywordSpan">reset</span>();
   this._forEachImplementation(callback);
        },

/**
* Execute a provided function on the next element in the QueryIterator.
* @memberof QueryIterator
* @instance
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.queryIterator.prototype.toArray" id="apidoc.element.documentdb.queryIterator.prototype.toArray">
        function <span class="apidocSignatureSpan">documentdb.queryIterator.prototype.</span>toArray
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toArray = function (callback) {
    this.reset();
    this.toArrayTempResources = [];
    this._toArrayImplementation(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            if (collectionRoutingMap === undefined) {
                // attempt to consturct collection routing map
                var that = this;
                var semaphorizedFuncCollectionMapInstantiator = function () {
                    var collectionRoutingMap = that.collectionRoutingMapByCollectionId[collectionId];
                    if (collectionRoutingMap === undefined) {
                        var partitionKeyRangesIterator = that.documentclient.readPartitionKeyRanges(collectionLink);
                        partitionKeyRangesIterator.<span class="apidocCodeKeywordSpan">toArray</span>(function (err, resources) {
if (err) {
    return callback(err, undefined);
}

collectionRoutingMap = CollectionRoutingMapFactory.createCompleteRoutingMap(
    resources.map(function (r) { return [r, true]; }),
    collectionId);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.range" id="apidoc.module.documentdb.range">module documentdb.range</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.range.Range" id="apidoc.element.documentdb.range.Range">
        function <span class="apidocSignatureSpan">documentdb.range.</span>Range
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Range = function (options) {
    if (options === undefined) {
        options = {};
    }
    if (options === null) {
        throw new Error("Invalid argument: 'options' is null");
    }
    if (typeof options !== "object") {
        throw new Error("Invalid argument: 'options' is not an object");
    }
    if (options.high === undefined) {
        options.high = options.low;
    }
    this.low = options.low;
    this.high = options.high;
    Object.freeze(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.range.RangePartitionResolver" id="apidoc.element.documentdb.range.RangePartitionResolver">
        function <span class="apidocSignatureSpan">documentdb.range.</span>RangePartitionResolver
        <span class="apidocSignatureSpan">(partitionKeyExtractor, partitionKeyMap, compareFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">RangePartitionResolver = function (partitionKeyExtractor, partitionKeyMap, compareFunction) {
    if (partitionKeyExtractor === undefined || partitionKeyExtractor === null) {
        throw new Error("partitionKeyExtractor cannot be null or undefined");
    }
    if (typeof partitionKeyExtractor !== "string" &amp;&amp; typeof partitionKeyExtractor !== "function") {
        throw new Error("partitionKeyExtractor must be either a 'string' or a 'function'");
    }
    if (partitionKeyMap === undefined || partitionKeyMap === null) {
        throw new Error("partitionKeyMap cannot be null or undefined");
    }
    if (!(Array.isArray(partitionKeyMap))) {
        throw new Error("partitionKeyMap has to be an Array");
    }
    var allMapEntriesAreValid = partitionKeyMap.every(function (mapEntry) {
        if ((mapEntry === undefined) || mapEntry === null) {
            return false;
        }
        if (mapEntry.range === undefined) {
            return false;
        }
        if (!(mapEntry.range instanceof Range)) {
            return false;
        }
        if (mapEntry.link === undefined) {
            return false;
        }
        if (typeof mapEntry.link !== "string") {
            return false;
        }
        return true;
    });
    if (!allMapEntriesAreValid) {
        throw new Error("All partitionKeyMap entries have to be a tuple {range: Range, link: string }");
    }
    if (compareFunction !== undefined &amp;&amp; typeof compareFunction !== "function") {
        throw new Error("Invalid argument: 'compareFunction' is not a function");
    }

    this.partitionKeyExtractor = partitionKeyExtractor;
    this.partitionKeyMap = partitionKeyMap;
    this.compareFunction = compareFunction;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.request" id="apidoc.module.documentdb.request">module documentdb.request</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.request.request" id="apidoc.element.documentdb.request.request">
        function <span class="apidocSignatureSpan">documentdb.</span>request
        <span class="apidocSignatureSpan">(globalEndpointManager, connectionPolicy, method, url, path, data, queryParams, headers, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (globalEndpointManager, connectionPolicy, method, url, path, data, queryParams, headers, callback) {
    var body;

    if (data) {
        body = bodyFromData(data);
        if (!body) return callback({ message: "parameter data must be a javascript object, string, Buffer, or stream" });
    }

    var buffer;
    var stream;
    if (body) {
        if (Buffer.isBuffer(body)) {
            buffer = body;
        } else if (body.pipe) {
            // it is a stream
            stream = body;
        } else if (typeof body === "string") {
            buffer = new Buffer(body, "utf8");
        } else {
            callback({ message: "body must be string, Buffer, or stream" });
        }
    }

    var requestOptions = parse(url);
    requestOptions.method = method;
    requestOptions.path = path;
    requestOptions.headers = headers;
    requestOptions.agent = keepAliveAgent;
    requestOptions.secureProtocol = "TLSv1_client_method";

    if (connectionPolicy.DisableSSLVerification === true) {
        requestOptions.rejectUnauthorized = false;
    }

    if (queryParams) {
        requestOptions.path += "?" + querystring.stringify(queryParams);
    }

    if (buffer) {
        requestOptions.headers[Constants.HttpHeaders.ContentLength] = buffer.length;
        RetryUtility.execute(globalEndpointManager, { buffer: buffer, stream: null }, this._createRequestObjectStub, connectionPolicy
, requestOptions, callback);
    } else if (stream) {
        RetryUtility.execute(globalEndpointManager, { buffer: null, stream: stream }, this._createRequestObjectStub, connectionPolicy
, requestOptions, callback);
    } else {
        RetryUtility.execute(globalEndpointManager, { buffer: null, stream: null }, this._createRequestObjectStub, connectionPolicy
, requestOptions, callback);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._globalEndpointManager.getWriteEndpoint(function (writeEndpoint) {
        that.delete(writeEndpoint, path, headers, callback);
    });
},

/** @ignore */
get: function (url, path, headers, callback) {
    return RequestHandler.<span class="apidocCodeKeywordSpan">request</span>(this._globalEndpointManager, this.connectionPolicy, &amp;#
x22;GET", url, path, undefined, this.defaultUrlParams, headers, callback);
},

/** @ignore */
post: function (url, path, body, headers, callback) {
    return RequestHandler.request(this._globalEndpointManager, this.connectionPolicy, "POST", url, path, body, this.defaultUrlParams
, headers, callback);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.request._createRequestObjectStub" id="apidoc.element.documentdb.request._createRequestObjectStub">
        function <span class="apidocSignatureSpan">documentdb.request.</span>_createRequestObjectStub
        <span class="apidocSignatureSpan">(connectionPolicy, requestOptions, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createRequestObjectStub = function (connectionPolicy, requestOptions, callback) {
    return createRequestObject(connectionPolicy, requestOptions, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.resourceThrottleRetryPolicy" id="apidoc.module.documentdb.resourceThrottleRetryPolicy">module documentdb.resourceThrottleRetryPolicy</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.resourceThrottleRetryPolicy.resourceThrottleRetryPolicy" id="apidoc.element.documentdb.resourceThrottleRetryPolicy.resourceThrottleRetryPolicy">
        function <span class="apidocSignatureSpan">documentdb.</span>resourceThrottleRetryPolicy
        <span class="apidocSignatureSpan">(maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resourceThrottleRetryPolicy = function (maxRetryAttemptCount, fixedRetryIntervalInMilliseconds, maxWaitTimeInSeconds) {
    this._maxRetryAttemptCount = maxRetryAttemptCount;
    this._fixedRetryIntervalInMilliseconds = fixedRetryIntervalInMilliseconds;
    this._maxWaitTimeInMilliseconds = maxWaitTimeInSeconds * 1000;
    this.currentRetryAttemptCount = 0;
    this.cummulativeWaitTimeinMilliseconds = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.resourceThrottleRetryPolicy.prototype" id="apidoc.module.documentdb.resourceThrottleRetryPolicy.prototype">module documentdb.resourceThrottleRetryPolicy.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.resourceThrottleRetryPolicy.prototype.shouldRetry" id="apidoc.element.documentdb.resourceThrottleRetryPolicy.prototype.shouldRetry">
        function <span class="apidocSignatureSpan">documentdb.resourceThrottleRetryPolicy.prototype.</span>shouldRetry
        <span class="apidocSignatureSpan">(err, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shouldRetry = function (err, callback) {
    if (err) {
        if (this.currentRetryAttemptCount &lt; this._maxRetryAttemptCount) {
            this.currentRetryAttemptCount++;
            this.retryAfterInMilliseconds = 0;

            if (this._fixedRetryIntervalInMilliseconds) {
                this.retryAfterInMilliseconds = this._fixedRetryIntervalInMilliseconds;
            } else if (err.retryAfterInMilliseconds) {
                this.retryAfterInMilliseconds = err.retryAfterInMilliseconds;
            }

            if (this.cummulativeWaitTimeinMilliseconds &lt; this._maxWaitTimeInMilliseconds) {
                this.cummulativeWaitTimeinMilliseconds += this.retryAfterInMilliseconds;
                return callback(true);
            }
        }
    }
    return callback(false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
headers = headers || {};
if (err.code === EndpointDiscoveryRetryPolicy.FORBIDDEN_STATUS_CODE &amp;&amp; err.substatus === EndpointDiscoveryRetryPolicy.
WRITE_FORBIDDEN_SUB_STATUS_CODE) {
    retryPolicy = endpointDiscoveryRetryPolicy;
} else if (err.code === ResourceThrottleRetryPolicy.THROTTLE_STATUS_CODE) {
    retryPolicy = resourceThrottleRetryPolicy;
}
if (retryPolicy) {
    retryPolicy.<span class="apidocCodeKeywordSpan">shouldRetry</span>(err, function (shouldRetry) {
        if (!shouldRetry) {
            headers[Constants.ThrottleRetryCount] = resourceThrottleRetryPolicy.currentRetryAttemptCount;
            headers[Constants.ThrottleRetryWaitTimeInMs] = resourceThrottleRetryPolicy.cummulativeWaitTimeinMilliseconds;
            return callback(err, response, headers);
        } else {
            setTimeout(function () {
                that.apply(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy, resourceThrottleRetryPolicy
, callback);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.retryUtility" id="apidoc.module.documentdb.retryUtility">module documentdb.retryUtility</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.retryUtility.apply" id="apidoc.element.documentdb.retryUtility.apply">
        function <span class="apidocSignatureSpan">documentdb.retryUtility.</span>apply
        <span class="apidocSignatureSpan">(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy, resourceThrottleRetryPolicy , callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">apply = function (body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy, resourceThrottleRetryPolicy , callback) {
    var that = this;
    var httpsRequest = createRequestObjectFunc(connectionPolicy, requestOptions, function (err, response, headers) {
        if (err) {
            var retryPolicy = null;
            headers = headers || {};
            if (err.code === EndpointDiscoveryRetryPolicy.FORBIDDEN_STATUS_CODE &amp;&amp; err.substatus === EndpointDiscoveryRetryPolicy
.WRITE_FORBIDDEN_SUB_STATUS_CODE) {
                retryPolicy = endpointDiscoveryRetryPolicy;
            } else if (err.code === ResourceThrottleRetryPolicy.THROTTLE_STATUS_CODE) {
                retryPolicy = resourceThrottleRetryPolicy;
            }
            if (retryPolicy) {
                retryPolicy.shouldRetry(err, function (shouldRetry) {
                    if (!shouldRetry) {
                        headers[Constants.ThrottleRetryCount] = resourceThrottleRetryPolicy.currentRetryAttemptCount;
                        headers[Constants.ThrottleRetryWaitTimeInMs] = resourceThrottleRetryPolicy.cummulativeWaitTimeinMilliseconds
;
                        return callback(err, response, headers);
                    } else {
                        setTimeout(function () {
                            that.apply(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy
, resourceThrottleRetryPolicy, callback);
                        }, retryPolicy.retryAfterInMilliseconds);
                        return;
                    }
                });
                return;
            }
        }
        headers[Constants.ThrottleRetryCount] = resourceThrottleRetryPolicy.currentRetryAttemptCount;
        headers[Constants.ThrottleRetryWaitTimeInMs] = resourceThrottleRetryPolicy.cummulativeWaitTimeinMilliseconds;
        return callback(err, response, headers);
    });

    if (httpsRequest) {
        if (body["stream"] !== null) {
            body["stream"].pipe(httpsRequest);
        } else if (body["buffer"] !== null) {
            httpsRequest.write(body["buffer"]);
            httpsRequest.end();
        } else {
            httpsRequest.end();
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
execute: function (globalEndpointManager, body, createRequestObjectFunc, connectionPolicy, requestOptions, callback) {
    var endpointDiscoveryRetryPolicy = new EndpointDiscoveryRetryPolicy(globalEndpointManager);
    var resourceThrottleRetryPolicy = new ResourceThrottleRetryPolicy(connectionPolicy.RetryOptions.MaxRetryAttemptCount,
                                            connectionPolicy.RetryOptions.FixedRetryIntervalInMilliseconds,
                                            connectionPolicy.RetryOptions.MaxWaitTimeInSeconds);

    this.<span class="apidocCodeKeywordSpan">apply</span>(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy
, resourceThrottleRetryPolicy, callback);
},

/**
* Applies the retry policy for the created request object.
* @param {object} body - a dictionary containing 'buffer' and 'stream' keys to hold corresponding buffer or
stream body, null otherwise.
* @param {function} createRequestObjectFunc - function that creates the request object.
* @param {object} connectionPolicy - an instance of ConnectionPolicy that has the connection configs.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.documentdb.retryUtility.execute" id="apidoc.element.documentdb.retryUtility.execute">
        function <span class="apidocSignatureSpan">documentdb.retryUtility.</span>execute
        <span class="apidocSignatureSpan">(globalEndpointManager, body, createRequestObjectFunc, connectionPolicy, requestOptions, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">execute = function (globalEndpointManager, body, createRequestObjectFunc, connectionPolicy, requestOptions, callback) {
    var endpointDiscoveryRetryPolicy = new EndpointDiscoveryRetryPolicy(globalEndpointManager);
    var resourceThrottleRetryPolicy = new ResourceThrottleRetryPolicy(connectionPolicy.RetryOptions.MaxRetryAttemptCount,
                                            connectionPolicy.RetryOptions.FixedRetryIntervalInMilliseconds,
                                            connectionPolicy.RetryOptions.MaxWaitTimeInSeconds);

    this.apply(body, createRequestObjectFunc, connectionPolicy, requestOptions, endpointDiscoveryRetryPolicy, resourceThrottleRetryPolicy
, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

        if (queryParams) {
            requestOptions.path += "?" + querystring.stringify(queryParams);
        }

        if (buffer) {
            requestOptions.headers[Constants.HttpHeaders.ContentLength] = buffer.length;
            RetryUtility.<span class="apidocCodeKeywordSpan">execute</span>(globalEndpointManager, { buffer: buffer, stream: null
 }, this._createRequestObjectStub, connectionPolicy, requestOptions, callback);
        } else if (stream) {
            RetryUtility.execute(globalEndpointManager, { buffer: null, stream: stream }, this._createRequestObjectStub, connectionPolicy
, requestOptions, callback);
        } else {
            RetryUtility.execute(globalEndpointManager, { buffer: null, stream: null }, this._createRequestObjectStub, connectionPolicy
, requestOptions, callback);
        }
    }
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.smartRoutingMapProvider" id="apidoc.module.documentdb.smartRoutingMapProvider">module documentdb.smartRoutingMapProvider</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.smartRoutingMapProvider.smartRoutingMapProvider" id="apidoc.element.documentdb.smartRoutingMapProvider.smartRoutingMapProvider">
        function <span class="apidocSignatureSpan">documentdb.</span>smartRoutingMapProvider
        <span class="apidocSignatureSpan">(documentclient)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">smartRoutingMapProvider = function (documentclient) {
    this._partitionKeyRangeCache = new PartitionKeyRangeCache(documentclient);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.documentdb.smartRoutingMapProvider.prototype" id="apidoc.module.documentdb.smartRoutingMapProvider.prototype">module documentdb.smartRoutingMapProvider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.documentdb.smartRoutingMapProvider.prototype.getOverlappingRanges" id="apidoc.element.documentdb.smartRoutingMapProvider.prototype.getOverlappingRanges">
        function <span class="apidocSignatureSpan">documentdb.smartRoutingMapProvider.prototype.</span>getOverlappingRanges
        <span class="apidocSignatureSpan">(callback, collectionLink, sortedRanges)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOverlappingRanges = function (callback, collectionLink, sortedRanges) {
    // validate if the list is non- overlapping and sorted
    if (!this._isSortedAndNonOverlapping(sortedRanges)) {
        return callback(new Error("the list of ranges is not a non-overlapping sorted ranges"), undefined);
    }

    var partitionKeyRanges = [];

    if (sortedRanges.length === 0) {
        return callback(undefined, partitionKeyRanges);
    }

    var that = this;
    this._partitionKeyRangeCache._onCollectionRoutingMap(function (err, collectionRoutingMap) {
        if (err) {
            return callback(err, undefined);
        }

        var index = 0;
        var currentProvidedRange = sortedRanges[index];
        while (true) {
            if (currentProvidedRange.isEmpty()) {
                // skip and go to the next item
                if (++index &gt;= sortedRanges.length) {
                    return callback(undefined, partitionKeyRanges);
                }
                currentProvidedRange = sortedRanges[index];
                continue;
            }

            var queryRange;
            if (partitionKeyRanges.length &gt; 0) {
                queryRange = that._subtractRange(
                    currentProvidedRange, partitionKeyRanges[partitionKeyRanges.length - 1]);
            } else {
                queryRange = currentProvidedRange;
            }

            var overlappingRanges = collectionRoutingMap.getOverlappingRanges(queryRange);
            assert(overlappingRanges.length &gt; 0, util.format("error: returned overlapping ranges for queryRange %s is empty", queryRange
));
            partitionKeyRanges = partitionKeyRanges.concat(overlappingRanges);

            var lastKnownTargetRange = QueryRange.parsePartitionKeyRange(partitionKeyRanges[partitionKeyRanges.length - 1]);
            assert.notEqual(lastKnownTargetRange, undefined);
            // the overlapping ranges must contain the requested range
            assert(that._stringCompare(currentProvidedRange.max, lastKnownTargetRange.max) &lt;= 0,
                util.format("error: returned overlapping ranges %s does not contain the requested range %s", overlappingRanges,
queryRange));

            // the current range is contained in partitionKeyRanges just move forward
            if (++index &gt;= sortedRanges.length) {
                return callback(undefined, partitionKeyRanges);
            }
            currentProvidedRange = sortedRanges[index];

            while (that._stringCompare(currentProvidedRange.max, lastKnownTargetRange.max) &lt;= 0) {
                // the current range is covered too.just move forward
                if (++index &gt;= sortedRanges.length) {
                    return callback(undefined, partitionKeyRanges);
                }
                currentProvidedRange = sortedRanges[index];
            }
        }
    }, collectionLink);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            return new DocumentProducer(this.documentclient, this.collectionLink, query, partitionKeyTargetRange);
        },

        _onTargetPartitionRanges: function (callback) {
            // invokes the callback when the target partition ranges are ready
            var parsedRanges = QueryExecutionInfoParser.parseQueryRanges(this.paritionedQueryExecutionInfo);
            var queryRanges = parsedRanges.map(function (item) { return QueryRange.parseFromDict(item); });
            return this.routingProvider.<span class="apidocCodeKeywordSpan">getOverlappingRanges</span>(callback, this.collectionLink
, queryRanges);
        },
    },
    {
        STATES: Object.freeze({ started: "started", inProgress: "inProgress", ended: "ended" })
    }
);
//SCRIPT END
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>